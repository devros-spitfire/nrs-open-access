(function(e){function t(t){for(var s,o,r=t[0],l=t[1],c=t[2],m=0,u=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},i=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0438":function(e,t,a){},1:function(e,t){},"13e3":function(e,t,a){},1725:function(e,t,a){e.exports=a.p+"assets/img/netroadshow-conferencing.78d47910.png"},2:function(e,t){},"2a24":function(e,t,a){"use strict";var s=a("0438"),n=a.n(s);n.a},3:function(e,t){},"3c0f":function(e,t,a){},"3dd7":function(e,t,a){"use strict";var s=a("d60b"),n=a.n(s);n.a},4:function(e,t){},"554e":function(e,t,a){e.exports=a.p+"assets/img/powered-by-incomm-ft.6ec00408.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e792");var s=a("a026"),n=a("bc3a"),i=a.n(n);let o={};const r=i.a.create(o);r.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),r.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)}),Plugin.install=function(e,t){e.axios=r,window.axios=r,Object.defineProperties(e.prototype,{axios:{get(){return r}},$axios:{get(){return r}}})},s["a"].use(Plugin);Plugin;var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"app"}},[s("v-navigation-drawer",{attrs:{app:"",right:"",height:"100%"},model:{value:e.drawerRight,callback:function(t){e.drawerRight=t},expression:"drawerRight"}},[s("v-list",{attrs:{"ma-0":"","pa-0":""}},[s("v-list-item",{on:{click:function(t){t.stopPropagation(),e.drawerRight=!e.drawerRight}}},[s("v-list-item-content",[s("v-list-item-title",[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-exit-to-app")]),e._v("\n            Close Guide\n          ")],1)],1)],1),s("v-divider"),s("v-list-item",[s("v-list-item-title",[e._v("Admin functions")])],1),s("v-list-item",{attrs:{to:"/events"}},[s("v-list-item-title",[e._v("Home")])],1),s("v-select",{attrs:{items:[{groupValue:"1",groupName:"Incomm Manager"},{groupValue:"2",groupName:"Incomm Agent"},{groupValue:"3",groupName:"Banker"},{groupValue:"4",groupName:"Investor"}],"item-text":"groupName","item-value":"groupValue",filled:"",dense:"",color:"secondary",hint:"Change current User Admin Level","persistent-hint":"",label:"Admin level"},on:{change:function(t){return e.updateUserGroup()}},model:{value:e.uGroup,callback:function(t){e.uGroup=t},expression:"uGroup"}}),s("v-divider"),s("v-list-item",[s("v-list-item-title",[e._v("Emulate...")])],1),s("v-list-item",{on:{click:function(t){return t.stopPropagation(),e.suggestinvitees()}}},[s("v-list-item-title",[e._v("Suggest invitees")])],1),s("v-list-item",{on:{click:function(t){return t.stopPropagation(),e.timeselect()}}},[s("v-list-item-title",[e._v("Investor Invitation")])],1),s("v-list-item",{on:{click:function(t){return t.stopPropagation(),e.thankyou()}}},[s("v-list-item-title",[e._v("Investor Thank you")])],1),s("v-list-item",{on:{click:function(t){return t.stopPropagation(),e.viewer()}}},[s("v-list-item-title",[e._v("Conference Viewer")])],1)],1)],1),s("v-app-bar",{attrs:{app:"",fixed:"","clipped-right":"",color:"white",height:e.toolbarheight,elevation:"0",id:"mainmasthead"}},[s("v-layout",{staticClass:"pa-0 ma-0",attrs:{column:""}},[s("div",{class:[e.isLoggedIn?"loggedin":"loggedout"],attrs:{id:"masthead"}},[s("v-container",{attrs:{"pa-0":"","my-0":""}},[s("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[s("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-left":""}},[s("a",{on:{click:function(t){return e.goHome()}}},[this.eventData.brandLogo&&!e.isLoggedIn?s("img",{staticClass:"incomm_logo",attrs:{src:this.eventData.brandLogo}}):s("img",{staticClass:"incomm_logo",attrs:{src:a("1725")}})])]),s("v-flex",{attrs:{"px-6":"","py-0":"",xs6:"","text-right":""}},[e.isLoggedIn?e._e():s("img",{staticClass:"nrs_logo",attrs:{src:a("67e3")}}),e.isLoggedIn?s("v-menu",{attrs:{id:"companyFilter","offset-y":!0,disabled:e.userGroup>2},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-layout",{staticClass:"float-right",attrs:{"align-center":"","justify-end":""}},[s("img",e._g({staticClass:"nrs_logo",attrs:{src:e.companies[e.currentCompanyIndex].logo,height:"55"}},a)),e.userGroup<3?s("v-icon",{staticClass:"ml-4 float-right mdi-rotate-180",attrs:{small:"",color:"secondary"}},[e._v("\n                      mdi-triangle\n                    ")]):e._e()],1)]}}],null,!1,2633101481)},[s("v-list",{staticClass:"companyFilter"},e._l(e.companies,function(t,a){return s("v-list-item",{key:t+"_"+a,staticClass:"py-3",on:{click:function(a){return e.setCurrentCompany(t.companyID)}},model:{value:e.currentCompany,callback:function(t){e.currentCompany=t},expression:"currentCompany"}},[s("img",{attrs:{src:t.logo,alt:t.companyName,height:"55"}})])}),1)],1):e._e()],1)],1)],1)],1),e.isLoggedIn&&e.inArray(e.userGroup,[1,2,3])?s("div",{staticClass:"py-0",attrs:{id:"navbar"}},[s("v-container",{attrs:{"pa-0":"","my-0":""}},[e.isLoggedIn?s("v-layout",{attrs:{"pl-6":"","pr-6":"","align-center":""}},[s("v-flex",{attrs:{xs6:"","text-sm-left":"",color:"white"}},[s("span",{staticClass:"navbut"},[s("v-btn",{attrs:{text:"",dark:"",medium:"",rounded:"",outlined:"","min-height":"40",color:"#fff",to:"/events"}},[e._v("Events")])],1),s("span",{staticClass:"navbut"},[s("v-btn",{attrs:{text:"",dark:"",medium:"",rounded:"",outlined:"","min-height":"40",color:"#fff",to:"/attendees"}},[e._v("Attendees")])],1),e.inArray(e.userGroup,[1,2])?s("span",{staticClass:"navbut"},[s("v-btn",{attrs:{text:"",dark:"",medium:"",rounded:"",outlined:"","min-height":"40",color:"#fff",to:"/users"}},[e._v("Users")])],1):e._e(),e.inArray(e.userGroup,[1,2])?s("span",{staticClass:"navbut"},[s("v-btn",{attrs:{text:"",dark:"",medium:"",rounded:"",outlined:"","min-height":"40",color:"#fff",to:"/companies"}},[e._v("Companies")])],1):e._e()]),s("v-flex",{attrs:{xs6:"","text-sm-right":""}},[s("span",{staticClass:"current-user text-white"},[s("strong",[e._v(e._s(e.curUser)+" ("+e._s(e.userGroup)+"/"+e._s(e.currentCompany)+")")]),e._v("\n                | "+e._s(e.userCompany)+"\n                "),s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{icon:"",dark:""}},a),[s("v-icon",[e._v("mdi-menu")])],1)]}}],null,!1,1790894718)},[s("span",[e.isLoggedIn?s("v-list",[s("v-list-item",[s("v-list-item-title",{on:{click:e.password}},[e._v("Reset Password")])],1),s("v-list-item",[s("v-list-item-title",{on:{click:e.logout}},[e._v("Logout")])],1)],1):e._e()],1)]),s("v-icon",{attrs:{color:"white"},on:{click:function(t){t.stopPropagation(),e.drawerRight=!e.drawerRight}}},[e._v("mdi-help-circle")])],1)])],1):e._e()],1)],1):e._e()])],1),s("v-content",[s("v-container",{attrs:{fluid:"","pa-0":"","ma-0":""}},[s("router-view",{attrs:{users:e.users}})],1)],1),s("v-footer",{attrs:{app:"",absolute:"",height:"215","clipped-right":""}},[s("v-container",{attrs:{"pa-0":"","ma-auto":""}},[e.isLoggedIn?e._e():s("v-flex",{attrs:{"text-center":"",xs12:""}},[s("div",{staticClass:"caption font-weight-light"},[e._v("\n          Copyright ©"+e._s((new Date).getFullYear())+" In Communication\n          Limited.All rights reserved.\n        ")])]),e.isLoggedIn?s("v-layout",[s("v-flex",{attrs:{"text-left":"",sm6:""}},[s("div",{staticClass:"caption font-weight-light"},[e._v("\n            Copyright ©"+e._s((new Date).getFullYear())+" In Communication\n            Limited.All rights reserved.\n          ")])]),s("v-flex",{attrs:{"text-right":"",sm6:""}},[s("img",{staticClass:"footer_logo",attrs:{src:a("554e")}})])],1):e._e()],1)],1)],1)},c=[],d=a("14b7"),m={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn?this.toolbarheight="140":this.toolbarheight="101",this.$store.getters.isLoggedIn},curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},currentCompany:{get:function(){return this.$store.state.clientID},set:function(e){this.$store.commit("updateClientID",e)}},eventData:function(){return this.$store.state.editEventData},currentCompanyIndex:function(){return this.getIndexValue(this.companies,"companyID",this.currentCompany)},userCompany:function(){return this.$store.state.companyName},authStatus:function(){return this.$store.getters.authStatus},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},copy_url:function(){let e=16,t=8;var a=d.sign({eventID:e,attendeeID:t},"nrs-1234");return console.log(e),console.log(a),"/timeselect/?e="+a}},props:{source:String},data:()=>({toolbarheight:101,companies:[{companyID:"",companyName:"",emailAddress:"",language:"",dataRetention:"",passwordFrequency:"",accountStatus:"",logo:"",primaryColor:"",secondaryColor:"",LBcustomerID:""}],users:null,drawerRight:!1,left:!1,logo:"",toolbarhieght:101,errors:!1,errorMessage:null,uGroup:1}),beforeMount(){this.setCurrentCompany(this.currentCompany),fetch("http://netroadshow.incommglobalevents.com/api/companies.php").then(e=>e.json()).then(e=>this.companies=e)},methods:{password:function(){this.$store.dispatch("resetrequest").then(()=>{this.$router.push("/password")})},logout:function(){this.$store.dispatch("logout").then(()=>{this.$router.push("/login")})},suggestinvitees:function(){this.$store.dispatch("logout").then(()=>{this.$router.push("/suggestinvitees")})},timeselect:function(){let e=16;var t=d.sign({event:e},"nrs-1234");console.log(e),console.log(t);let a=d.verify(t,"nrs-1234");console.log(a),this.$store.dispatch("logout").then(()=>{window.open(this.copy_url,"_blank")})},thankyou:function(){this.$store.dispatch("logout").then(()=>{this.$router.push("/thankyou")})},viewer:function(){this.$router.push("/viewer")},goHome:function(){this.isLoggedIn?this.$router.push("/events"):this.$router.push("/login")},setCurrentCompany:function(e){console.log(e),this.currentCompany=e;let t=this.currentCompany;this.$store.dispatch("getUsers",{clientID:t}).then(t=>{console.log(t),console.log(t.data),this.users=t.data,this.$store.commit("updateClientID",e)}).catch(e=>{console.log(e),this.onError=!0,this.errorMessage=e.data.status})},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1},updateUserGroup(){console.log(this.uGroup),this.$store.commit("updateUserGroup",this.uGroup)},getByValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return e[s]},getIndexValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return s}}},u=m,h=(a("5c0b"),a("2877")),v=a("6544"),p=a.n(v),f=a("7496"),g=a("40dc"),x=a("8336"),y=a("a523"),C=a("a75b"),b=a("ce7e"),I=a("0e8f"),_=a("553a"),w=a("132d"),k=a("a722"),D=a("8860"),S=a("da13"),T=a("5d23"),E=a("e449"),A=a("f774"),N=a("b974"),P=Object(h["a"])(u,l,c,!1,null,null,null),$=P.exports;p()(P,{VApp:f["a"],VAppBar:g["a"],VBtn:x["a"],VContainer:y["a"],VContent:C["a"],VDivider:b["a"],VFlex:I["a"],VFooter:_["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemContent:T["a"],VListItemTitle:T["b"],VMenu:E["a"],VNavigationDrawer:A["a"],VSelect:N["a"]});var V=a("8c4f"),O=a("2f62"),M=a("bfa9"),B=a("14b7");s["a"].use(O["a"]);const L=new M["a"]({strictMode:!0,storage:window.sessionStorage}),R=new O["a"].Store({strict:!0,state:{status:"",reset:localStorage.getItem("reset")||"",token:"",userGroup:localStorage.getItem("userGroup")||"4",userName:localStorage.getItem("username")||"",userID:localStorage.getItem("userID")||"",companyName:localStorage.getItem("company")||"",companyID:localStorage.getItem("companyID")||"",clientID:localStorage.getItem("clientID")||"0",eventCreated:localStorage.getItem("eventCreated")||!1,editEventData:localStorage.getItem("editEventData")||[],conferenceData:localStorage.getItem("conferenceData")||[],currentEvent:localStorage.getItem("currentEvent")||""},mutations:{updateUserGroup(e,t){e.userGroup=t},updateClientID(e,t){e.clientID=t},updateCurrentEvent(e,t){e.currentEvent=t},reset_request(e){e.reset=!0},auth_request(e){e.status="loading"},auth_success(e,t){e.status="success",e.reset=!1,e.token=t.token,e.userName=t.firstName+" "+t.lastName,e.userGroup=t.userGroup,e.companyName=t.companyName,e.companyID=t.clientID,e.clientID=t.clientID,e.userID=t.userID,e.eventCreated=!1,console.log("SAVED STATE"),console.log(e.userGroup)},auth_error(e){e.status="error"},alert(e,t){e.alert=t},createEvent(e,t){e.eventCreated=t,e.editEventData=[],e.conferenceData=[]},hostEvent(e,t){e.editEventData=t,console.log("STATE"),console.log(e.editEventData)},editEvent(e,t){e.editEventData=t,console.log("STATE"),console.log(e.editEventData)},stashConferences(e,t){e.conferenceData=t,console.log("STATE"),console.log(e.conferenceData)},logout(e){e.status="",e.token="",e.userName="",e.companyName="",e.userGroup="",e.reset="",e.currentEvent="",e.editEventData=[],e.conferenceData=[]},RESTORE_MUTATION:L.RESTORE_MUTATION},actions:{login({commit:e},t){return new Promise((a,s)=>{e("auth_request");var n=B.sign({user:t},"nrs-1234");i()({url:"http://netroadshow.incommglobalevents.com/api/auth.php",data:{token:n},method:"POST"}).then(t=>{console.log("AUTH:"),console.log(t),"ACCOUNT SUSPENDED"==t.data.token?s(t):"NO USER"==t.data.token?s(t):(i.a.defaults.headers.common["Authorization"]=n,e("auth_success",t.data),a(t))}).catch(t=>{e("auth_error"),s(t)})})},setpassword({commit:e},t){return new Promise((a,s)=>{var n=B.sign({user:t},"nrs-1234");i()({url:"http://netroadshow.incommglobalevents.com/api/auth.php",data:{token:n},method:"POST"}).then(e=>{a(e)}).catch(t=>{e("auth_error",t),s(t)})})},recover({commit:e},t){return new Promise((a,s)=>{var n=B.sign({user:t},"nrs-1234");i()({url:"http://netroadshow.incommglobalevents.com/api/recover.php",data:{token:n},method:"POST"}).then(e=>{a(e)}).catch(t=>{e("auth_error",t),s(t)})})},logout({commit:e}){return new Promise((t,a)=>{e("logout"),delete i.a.defaults.headers.common["Authorization"],t()})},resetrequest({commit:e}){return new Promise((t,a)=>{e("reset_request"),t()})},createEvent({commit:e},t){return new Promise((a,s)=>{e("createEvent",t),a()}).catch(t=>{e("auth_error",t),console.log("Error creating Event"),reject(t)})},getEvent({commit:e},t){return new Promise((a,s)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/getEvent.php",data:t,method:"POST"}).then(t=>{console.log("Got Event");let s=t.data;e("editEvent",s),a(t)}).catch(t=>{e("auth_error",t),console.log("Event retrieval error"),s(t)})})},getUsers({commit:e},t){return new Promise((a,s)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/users.php",data:t,method:"POST"}).then(e=>{console.log("Got UserList"),a(e)}).catch(t=>{e("auth_error",t),console.log("Users retrieval error"),s(t)})})},editEvent({commit:e},t){return new Promise((a,s)=>{e("editEvent",t),i()({url:"http://netroadshow.incommglobalevents.com/api/getConferences.php",data:{eventData:t},method:"POST"}).then(t=>{console.log("Got Conferences"),e("stashConferences",t.data),console.log(t),a(t)}).catch(t=>{e("auth_error",t),console.log("Conference retrieval error"),s(t)})})},saveCompany({commit:e},t){return new Promise((a,s)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/saveCompany.php",data:t,method:"POST"}).then(e=>{console.log("Save Succeeded"),console.log(e),a(e)}).catch(t=>{e("auth_error",t),console.log("Save Failed"),s(t)})})},saveUser({commit:e},t){return new Promise((a,s)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/saveUser.php",data:t,method:"POST"}).then(e=>{"DUPE"==e.data.token?s(e):(console.log("Save Succeeded"),a(e))}).catch(t=>{e("auth_error",t),console.log("Save Failed"),s(t)})})},saveEvent({commit:e},t){return new Promise((a,s)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/saveEvent.php",data:t,method:"POST"}).then(e=>{console.log("Save Succeeded"),a(e)}).catch(t=>{e("auth_error",t),console.log("Save Failed"),s(t)})})},bookConferences({commit:e},t,a){return new Promise((s,n)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/saveConferences.php",data:{eventSchedule:t,eventData:a},method:"POST"}).then(t=>{console.log("Save Succeeded"),console.log(t),Array.isArray(t.data)?(e("stashConferences",t.data),s(t)):(e("auth_error",t),console.log("Save Failed"),n(t))}).catch(t=>{e("auth_error",t),console.log("Save Failed"),n(t)})})},saveAttendee({commit:e},t){return new Promise((a,s)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/saveAttendee.php",data:t,method:"POST"}).then(e=>{console.log("Save Succeeded"),a(e)}).catch(t=>{e("auth_error",t),console.log("Save Failed"),s(t)})})},importCSVData({commit:e},t,a){return new Promise((s,n)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/importCSV.php",data:{eventData:a,attendeeData:t},method:"POST"}).then(e=>{console.log("Import Succeeded"),s(e)}).catch(t=>{e("auth_error",t),console.log("Import Failed"),n(t)})})},saveInvitee({commit:e},t,a){return new Promise((s,n)=>{i()({url:"http://netroadshow.incommglobalevents.com/api/saveInvitee.php",data:{inviteeData:t,attendeeData:a},method:"POST"}).then(e=>{console.log("Save Succeeded"),s(e)}).catch(t=>{e("auth_error",t),console.log("Save Failed"),n(t)})})}},getters:{isLoggedIn:e=>!!e.token,authStatus:e=>e.status,curUser:e=>e.userName,userCompany:e=>e.companyName,userGroup:e=>e.userGroup,isResetRequest:e=>e.reset,isEventCreated:e=>e.eventCreated,editEventData:e=>e.editEventData,currentEvent:e=>e.currentEvent},plugins:[L.plugin]});var j=R,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"py-0":""}},[s("v-layout",{attrs:{"align-center":"","justify-end":"","pa-0":"","ma-0":""}},[s("v-flex",{attrs:{sm6:"","align-center":"","justify-center":"",row:"","fill-height":""}},[s("v-card",{attrs:{flat:"","max-width":"600",color:"transparent","text-left":""}},[s("v-list-item",{attrs:{"text-left":""}},[s("v-flex",{attrs:{tag:"h1","py-6":"",color:"primary"}},[e._v("Your secure, open table conference facility")])],1),s("v-list-item",{attrs:{"text-left":""}},[s("v-flex",{attrs:{sm12:""}},[s("v-layout",{attrs:{"max-width":"400"}},[s("v-flex",{attrs:{sm11:""}},[s("v-form",{staticClass:"login",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("v-list-item",{attrs:{"pa-0":""}},[s("v-text-field",{attrs:{height:"67","background-color":"#f6f6f6",label:"Username",name:"email",type:"text",rules:[function(e){return!!e||"Username is required"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}},[s("div",{staticClass:"ma-2",attrs:{slot:"prepend-inner"},slot:"prepend-inner"})])],1),s("v-list-item",[s("v-text-field",{attrs:{height:"67","background-color":"#f6f6f6",type:e.showPassword?"text":"password",id:"password",label:"Password",name:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[s("div",{staticClass:"ma-2",attrs:{slot:"prepend-inner"},slot:"prepend-inner"}),s("v-icon",{staticClass:"ma-4",attrs:{slot:"append",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.showPassword=!e.showPassword}},slot:"append"},[e._v(e._s(e.showpasswordIcon))])],1)],1),s("v-list-item",[s("v-spacer"),s("v-btn",{attrs:{rounded:"",color:"secondary",minHeight:"40",minWidth:"150",type:"submit"}},[e._v("Login")])],1)],1)],1)],1)],1)],1),s("v-list-item",{attrs:{"text-left":""}},[s("v-flex",{attrs:{tag:"p","py-6":"",color:"grey"}},[s("router-link",{attrs:{to:"/forgotten"}},[e._v("Forgot your password?")])],1)],1),s("v-list-item",[s("v-flex",{attrs:{sm11:""}},[s("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:e.onError,callback:function(t){e.onError=t},expression:"onError"}},[e._v(e._s(e.errorMessage))])],1)],1)],1)],1),s("v-flex",{attrs:{sm6:""}},[s("v-img",{staticClass:"grey lighten-2",attrs:{src:a("7446"),"aspect-ratio":".75","max-height":"700"}})],1)],1)],1)},F=[],G={data(){return{email:"",password:"",showPassword:!1,errorMessage:"",onError:!1}},computed:{backgroundMainColor(){return"background:"+this.editedItem.primaryColor},showpasswordIcon(){return this.showPassword?"mdi-eye":"mdi-eye-off"}},methods:{login:function(){console.log("LOGGING IN"),console.log(this.email);let e=this.email,t=this.password;this.$store.dispatch("login",{email:e,password:t}).then(e=>{console.log("Login OK"),console.log(e.data.first_time),e.data.first_time?(console.log("Routing to password"),this.$router.push("/password")):(console.log(e.data.reset_required),e.data.reset_required?(console.log("Routing to reset password"),this.$store.dispatch("resetrequest").then(()=>{this.$router.push("/password")})):(console.log("No Change to PW"),this.$router.push("/events")))}).catch(e=>{console.log(e),this.onError=!0,this.errorMessage=e.data.status})}}},U=G,H=a("0798"),Y=a("b0af"),z=a("4bd4"),K=a("adda"),Z=a("2fa4"),W=a("8654"),J=Object(h["a"])(U,q,F,!1,null,null,null),Q=J.exports;p()(J,{VAlert:H["a"],VBtn:x["a"],VCard:Y["a"],VContainer:y["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VImg:K["a"],VLayout:k["a"],VListItem:S["a"],VSpacer:Z["a"],VTextField:W["a"]});var X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"py-0":""}},[s("v-layout",{attrs:{"align-center":"","justify-end":"","ma-0":"","pa-0":""}},[s("v-flex",{attrs:{"align-center":"","fill-height":"","justify-center":"",row:"",sm6:""}},[s("v-card",{attrs:{color:"transparent",flat:"","max-width":"600","text-left":""}},[s("v-list-item",{attrs:{"text-left":""}},[s("v-layout",{attrs:{"align-left":"",column:"","justify-end":"","ma-0":"","pa-0":"","text-left":""}},[e.isResetRequest?s("v-flex",{attrs:{color:"primary","d-block":"","py-6":"",tag:"h1","text-left":""}},[e._v("Reset password\n            ")]):s("v-flex",{attrs:{color:"primary","d-block":"","py-6":"",tag:"h1","text-left":""}},[e._v("Create a password\n            ")]),s("p",[e._v("\n              Please create a password unique to you (please do not share your\n              account access).\n            ")]),s("p",{staticClass:"font-weight-bold"},[e._v("Your new password must contain:")]),s("ul",[s("li",[e._v("A minimum of 1 lower case letter [a-z] and")]),s("li",[e._v("A minimum of 1 upper case letter [A-Z] and")]),s("li",[e._v("A minimum of 1 numeric character [0-9] and")]),s("li",[e._v('\n                A minimum of 1 special character:\n                ~`!@#$%^&*()-_+={}[]|\\;:"<>,./?\n              ')])])],1)],1),s("v-list-item",{attrs:{"text-left":""}},[s("v-flex",{attrs:{sm12:""}},[s("v-layout",{attrs:{"max-width":"400"}},[s("v-flex",{attrs:{sm11:""}},[s("v-form",{ref:"resetPassword",staticClass:"login",attrs:{"max-width":"600"},on:{submit:function(t){return t.preventDefault(),e.setpassword(t)}}},[s("v-list-item",{attrs:{"pa-0":""}},[s("v-text-field",{attrs:{height:"67","background-color":"#f6f6f6",type:e.showPassword1?"text":"password",rules:e.passwordRules,required:"",id:"password",label:"Password",name:"password"},model:{value:e.new_password,callback:function(t){e.new_password=t},expression:"new_password"}},[s("div",{staticClass:"ma-2",attrs:{slot:"prepend-inner"},slot:"prepend-inner"}),s("v-icon",{staticClass:"ma-4",attrs:{slot:"append",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.showPassword1=!e.showPassword1}},slot:"append"},[e._v(e._s(e.showpasswordIcon1))])],1)],1),s("v-list-item",[s("v-text-field",{attrs:{"background-color":"#f6f6f6",height:"67",id:"confirm_password",label:"Re-type password",name:"confirm-password",rules:e.passwordMatchRules,required:"",type:e.showPassword2?"text":"password"},model:{value:e.confirm_password,callback:function(t){e.confirm_password=t},expression:"confirm_password"}},[s("div",{staticClass:"ma-2",attrs:{slot:"prepend-inner"},slot:"prepend-inner"}),s("v-icon",{staticClass:"ma-4",attrs:{slot:"append",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.showPassword2=!e.showPassword2}},slot:"append"},[e._v(e._s(e.showpasswordIcon2))])],1)],1),s("v-list-item",[s("v-spacer"),s("v-btn",{attrs:{color:"secondary",minHeight:"40",minWidth:"150",rounded:"",type:"submit"}},[e._v("Set Password\n                    ")])],1)],1)],1)],1)],1)],1)],1)],1),s("v-flex",{attrs:{sm6:""}},[s("v-img",{staticClass:"grey lighten-2",attrs:{src:a("7446"),"aspect-ratio":"0.75","max-height":"700"}})],1)],1)],1)},ee=[],te=(a("7bb1"),a("580e")),ae=a.n(te),se={name:"Password",props:{source:String},data(){return{new_password:"",confirm_password:"",showPassword1:!1,showPassword2:!1,errorMessage:"",onError:!1,nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],passwordMatchRules:[e=>!!e||"This is required",e=>e&&this.new_password===this.confirm_password||"Password must match"],passwordRules:[e=>!!e||"This is required",e=>e&&e.length>=6||"Password must be min 8 characters long",e=>e&&ae()(this.new_password).score>2||"Password not strong enough",e=>/(?=.*\d)(?=.*[a-z])(?=.*[~\`!@#$%^&*()\-_+={}\[\];;:"<>\\|,\.\/\?])(?=.*[A-Z]).{6,}/.test(e)||"Password must contaiin at least one number, one lowercase and one uppercase letter and one special character"]}},computed:{isResetRequest:function(){return this.$store.getters.isResetRequest},backgroundMainColor(){return"background:"+this.editedItem.primaryColor},showpasswordIcon1(){return this.showPassword1?"mdi-eye":"mdi-eye-off"},showpasswordIcon2(){return this.showPassword2?"mdi-eye":"mdi-eye-off"}},methods:{setpassword:function(){let e=this.$refs["resetPassword"].validate();if(console.log(ae()(this.new_password)),console.log(e),e){console.log("SET Password IN"),console.log(this.new_password);let e=this.new_password,t=this.confirm_password,a=this.$store.getters.userID;this.$store.dispatch("setpassword",{userid:a,new_password:e,confirm_password:t}).then(()=>this.$router.push("/events")).catch(e=>console.log(e))}}}},ne=se,ie=Object(h["a"])(ne,X,ee,!1,null,null,null),oe=ie.exports;p()(ie,{VBtn:x["a"],VCard:Y["a"],VContainer:y["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VImg:K["a"],VLayout:k["a"],VListItem:S["a"],VSpacer:Z["a"],VTextField:W["a"]});var re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"py-0":""}},[s("v-layout",{attrs:{"align-center":"","justify-end":"","pa-0":"","ma-0":""}},[s("v-flex",{attrs:{sm6:"","align-center":"","justify-center":"",row:"","fill-height":""}},[s("v-card",{attrs:{flat:"","max-width":"600",color:"transparent","text-left":""}},[s("v-list-item",{attrs:{"text-left":""}},[s("v-layout",{attrs:{"align-left":"","justify-end":"","pa-0":"","ma-0":"",column:"","text-left":""}},[s("v-flex",{attrs:{tag:"h1","py-6":"",color:"primary"}},[e._v("Recover password")]),s("p",[e._v("Enter your email address and a new password will be sent.")])],1)],1),s("v-list-item",{attrs:{"text-left":""}},[s("v-flex",{attrs:{sm12:""}},[s("v-layout",{attrs:{"max-width":"400"}},[s("v-flex",{attrs:{sm12:""}},[s("v-form",{staticClass:"login",attrs:{"max-width":"600"},on:{submit:function(t){return t.preventDefault(),e.forgotten(t)}}},[s("v-list-item",{attrs:{"pa-0":""}},[s("v-text-field",{attrs:{height:"67","background-color":"#f6f6f6",label:"Enter your email address",name:"email",type:"text",rules:[function(e){return!!e||"Email address is required"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("v-list-item",[s("v-spacer"),s("v-tooltip",{attrs:{bottom:"",color:"success"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{rounded:"",color:"secondary",minHeight:"40",minWidth:"150",type:"submit"}},a),[e._v("Reset")])]}}])},[s("span",{staticClass:"white--text",attrs:{color:"success"}},[e._v("Click here to request a new your password")])])],1)],1)],1)],1)],1)],1)],1)],1),s("v-flex",{attrs:{sm6:""}},[s("v-img",{staticClass:"grey lighten-2",attrs:{src:a("7446"),"aspect-ratio":"1","max-height":"700"}})],1)],1)],1)},le=[],ce={data(){return{email:""}},computed:{authStatus:function(){return this.$store.getters.authStatus}},methods:{forgotten:function(){console.log("RECOVER LOGIN"),console.log(this.email);let e=this.email;this.$store.dispatch("recover",{email:e}).then(e=>{console.log(e),this.$router.push("/login")}).catch(e=>console.log(e))}}},de=ce,me=a("3a2f"),ue=Object(h["a"])(de,re,le,!1,null,null,null),he=ue.exports;p()(ue,{VBtn:x["a"],VCard:Y["a"],VContainer:y["a"],VFlex:I["a"],VForm:z["a"],VImg:K["a"],VLayout:k["a"],VListItem:S["a"],VSpacer:Z["a"],VTextField:W["a"],VTooltip:me["a"]});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{style:e.cssProps,attrs:{"py-0":""}},[a("v-row",[a("v-col",{staticClass:"py-0 pt-6",attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("Dear colleage")])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",[e._v("\n            "+e._s(e.eventData.organiser)+" invited you to suggest participants for the\n            following event.\n          ")]),a("h2",[e._v(e._s(e.eventData.eventTitle))]),a("h5",{staticClass:"investorPC--text"},[e._v(e._s(e._f("moment")(e.eventData.eventDate,"dddd, MMMM Do YYYY")))]),a("p",[a("strong",[e._v("Speaker:")]),e._l(e.eventData.speakers,function(t,s){return a("span",{key:s},[[e._v("\n                  "+e._s(t)+"\n                  "),s!=e.eventData.speakers.length-1?a("span",[e._v(",")]):e._e()]],2)})],2)])],1),a("v-card",{staticClass:"pa-6",attrs:{outlined:""}},[a("v-form",{ref:"inviteeForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",{staticClass:"font-weight-bold"},[e._v("\n              Please enter your details so we can contact you if required.\n            ")])])],1),a("v-row",{attrs:{id:"inviteRevist"}},[a("v-col",{attrs:{cols:"4"}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Firstname",rules:e.nameRules,required:""},model:{value:e.invitee.firstName,callback:function(t){e.$set(e.invitee,"firstName",t)},expression:"invitee.firstName"}}),a("v-text-field",{attrs:{filled:"",label:"Last name",rules:e.nameRules,required:""},model:{value:e.invitee.lastName,callback:function(t){e.$set(e.invitee,"lastName",t)},expression:"invitee.lastName"}})],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Company",rules:e.nameRules,required:""},model:{value:e.invitee.companyName,callback:function(t){e.$set(e.invitee,"companyName",t)},expression:"invitee.companyName"}}),a("v-text-field",{attrs:{filled:"",label:"Email",rules:e.emailRules,required:""},model:{value:e.invitee.emailAddress,callback:function(t){e.$set(e.invitee,"emailAddress",t)},expression:"invitee.emailAddress"}})],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{items:["+44","+33"],hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.invitee.areaCode,callback:function(t){e.$set(e.invitee,"areaCode",t)},expression:"invitee.areaCode"}})],1),a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",label:"Phone",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.invitee.contactNumber,callback:function(t){e.$set(e.invitee,"contactNumber",t)},expression:"invitee.contactNumber"}})],1)],1)],1)],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"mb-6"},[e._v("Suggest invitees")]),a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""},scopedSlots:e._u([{key:"item.action",fn:function(t){var s=t.item;t.isExpanded,t.expand;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v("\n                  delete\n                ")])]}}])},[a("v-data-table",{ref:"dTable",staticClass:"theme-nrs",attrs:{color:"secondary",headers:e.headers,items:e.attendees,"single-expand":"",expanded:e.expanded,search:e.search,"item-key":"attendeeID","hide-default-footer":"","hide-default-header":"",loading:"false",page:e.page,"items-per-page":e.itemsPerPage,"multi-sort":""},on:{"update:expanded":function(t){e.expanded=t},"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on,i=t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e._l(s.headers,function(t,i){return a("th",{key:i,class:["text-weight-bold investorPC--text column sortable",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":""],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                        "+e._s(t.text)+"\n                        "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right investorSC--text",attrs:{small:""}},[e._v("arrow_upward\n                        ")]):e._e()],1)}),a("th",[a("v-checkbox",{staticClass:"ma-auto pa-0 investorSC--text",attrs:{"hide-details":""},nativeOn:{click:function(t){return e.toggleAll()}},model:{value:i,callback:function(e){i=e},expression:"selected"}})],1)],2)])]}},{key:"item",fn:function(t){t.headers;var s=t.item,n=t.isExpanded,i=t.isSelected,o=t.expand,r=t.select;return[a("tr",[a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                        "+e._s(s.firstName)+" "+e._s(s.lastName)+"\n                        "),a("v-icon",{staticClass:"float-right investorSC--text",attrs:{medium:""},on:{change:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                          mdi-chevron-down\n                        ")])],1)]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                        "+e._s(s.companyName)+"\n                      ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                        "+e._s(s.emailAddress)+"\n                      ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                        "+e._s(s.areaCode)+" "+e._s(s.contactNumber)+"\n                      ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[s.firstChoiceTIME?a("v-chip",{staticClass:"caption investorSC--BG mx-1",attrs:{dark:"",pill:"",small:""}},[e._v(e._s(s.firstChoiceTIME))]):e._e(),s.secondChoiceTIME?a("v-chip",{staticClass:"caption investorSC--BG mx-1",attrs:{dark:"",pill:"",small:""}},[e._v(e._s(s.secondChoiceTIME))]):e._e(),s.thirdChoiceTIME?a("v-chip",{staticClass:"caption investorSC--BG mx-1",attrs:{dark:"",pill:"",small:""}},[e._v(e._s(s.thirdChoiceTIME))]):e._e()],1)]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                        "+e._s(s.attendeeID)+"\n                      ")])]),a("td",[a("v-checkbox",{staticClass:"investorSC--text ma-auto pa-0",attrs:{"hide-details":"","input-value":i},on:{change:function(e){return r(1-i)}}})],1)])]}},{key:"expanded-item",fn:function(t){t.item;var s=t.headers;t.isSelected,t.expand;return[a("td",{staticClass:"pa-0 ma-0",attrs:{colspan:s.length+1}},[a("v-card",{staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-form",{ref:"entryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Firstname"},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Last name"},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Company"},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}}),a("v-text-field",{attrs:{filled:"",rules:e.emailRules,required:"",label:"Email"},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{rules:[function(e){return!!e||"Item is required"}],required:"",items:["+44","+33"],hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area"},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1),a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",rules:[function(e){return!!e||"Item is required"}],required:"",label:"Phone"},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("strong",[e._v("Please select their 3 preferred time\n                                  options.")]),e._v("\n                                (All times are GMT)\n                              ")]),a("v-row",{staticClass:"ma-0 timeslot"},[a("v-chip-group",{staticClass:"timeslot",attrs:{multiple:"",max:"3",column:"",color:"white","active-class":"white--text, investorSC--BG"},model:{value:e.timeSelection,callback:function(t){e.timeSelection=t},expression:"timeSelection"}},e._l(e.conferences,function(t){return a("v-col",{key:t.conferenceID,attrs:{cols:"3"}},[a("v-chip",{staticClass:"ma-3 ",staticStyle:{width:"100%"},attrs:{value:t.conferenceID,label:"",filter:"",pill:"",ripple:"","filter-icon":"mdi-clock-check-outline",tag:"div"}},[e._v("\n                                      "+e._s(t.startTime)+" -\n                                      "+e._s(t.endTime)+"\n                                      "),a("v-spacer"),e.firstChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("1st")],1):e._e(),e.secondChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("2nd")],1):e._e(),e.thirdChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("3rd")],1):e._e()],1)],1)}),1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"investorSC--text px-10",attrs:{text:""},on:{click:function(t){return e.closeRow()}}},[e._v("\n                            Cancel\n                          ")]),a("v-btn",{staticClass:" investorSC--text font-weight-bold",attrs:{text:""},on:{click:function(t){return e.save("entryForm")}}},[e._v("\n                            Save\n                          ")])],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{staticClass:"investorSC--BG",on:{click:e.initialize}},[e._v("Reset\n                  ")])]},proxy:!0}])}),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","ma-0":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[a("span",{staticClass:"select d-inline-block mr-6",staticStyle:{"max-width":"180px"}},[a("v-select",{attrs:{color:"success",id:"page-size",items:e.pagesizes,height:"24","menu-props":"auto"},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Show")]),a("label",{attrs:{slot:"append-outer"},slot:"append-outer"},[e._v("Entries")])])],1),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtPrevious()}}},[a("v-icon",{staticClass:"mdi-18px investorSC--text",attrs:{left:""}},[e._v("mdi-less-than\n                    ")]),e._v("\n                    Previous\n                  ")],1),a("v-icon",{staticClass:"mdi-18px investorSC--text"},[e._v("mdi-power-on\n                  ")]),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtNext()}}},[e._v("Next\n                    "),a("v-icon",{staticClass:"mdi-18px investorSC--text",attrs:{right:""}},[e._v("mdi-greater-than\n                    ")])],1)],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("span",{staticClass:"d-inline-block mr-3 mt-3",staticStyle:{"max-width":"300px"}},[a("v-text-field",{staticClass:"pa-0",attrs:{"hide-details":"",id:"qsearch",label:"Name, company or email",outlined:"",name:"filter",type:"text",height:"45","min-height":"45",readonly:e.readonly},on:{click:function(t){e.readonly=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Search")])])],1)])],1),a("v-layout",{attrs:{"py-0":"","px-3":"","ma-0":""}},[a("div",{staticClass:"test-header"},[e._v("\n                  Showing\n                  "),a("span",{attrs:{id:"starting"}},[e._v(e._s(e.starting))]),e._v(" to\n                  "),a("span",{attrs:{id:"ending"}},[e._v(e._s(e.ending))]),e._v(" of\n                  "),a("span",{attrs:{id:"total"}},[e._v(e._s(e.total))]),e._v("\n                  entries\n                ")])])],1)],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-left":""}},[a("v-btn",{staticClass:"investorSC--text ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.newitem()}}},[a("v-icon",{staticClass:"investorSC--text mdi-36px mr-4",attrs:{left:""}},[e._v("mdi-plus-circle\n            ")]),a("span",{staticClass:"investorSC--text"},[e._v("New invitee")])],1)],1),a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-right":""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2 investorSC--BG",attrs:{rounded:"",dark:""}},s),[e._v("Options\n              ")])]}}])},[a("span",[a("v-list",[a("v-list-item",{attrs:{"py-2":""},on:{click:e.importInvestors}},[a("v-list-item-title",[e._v("Import invitees")])],1),a("v-list-item",{attrs:{"py-2":""},on:{click:e.deleteselectedattendees}},[a("v-list-item-title",[e._v("Delete invitees")])],1),a("v-divider"),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.newitem()}}},[a("v-list-item-title",[e._v("New invitee")])],1)],1)],1)])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showNewItem,expression:"showNewItem"}],staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-card-title",{staticClass:"px-10 py-6"},[a("span",{staticClass:"headline primary-text"},[e._v("New attendee details")])]),a("v-form",{ref:"newEntryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Firstname"},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Last name"},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Company"},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}}),a("v-text-field",{attrs:{filled:"",rules:e.emailRules,required:"",label:"Email"},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{rules:[function(e){return!!e||"Item is required"}],required:"",items:["+44","+33"],hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area"},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1),a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",rules:[function(e){return!!e||"Item is required"}],required:"",label:"Phone"},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("strong",[e._v("Please select their 3 preferred time options.")]),e._v("\n                  (All times are GMT)\n                ")])],1),a("v-row",{staticClass:"ma-0 timeslot"},[a("v-chip-group",{staticClass:"timeslot",attrs:{multiple:"",max:"3",column:"",color:"white","active-class":"white--text, investorSC--BG"},model:{value:e.timeSelection,callback:function(t){e.timeSelection=t},expression:"timeSelection"}},e._l(e.conferences,function(t){return a("v-col",{key:t.conferenceID,attrs:{cols:"3"}},[a("v-chip",{staticClass:"ma-3 ",staticStyle:{width:"100%"},attrs:{value:t.conferenceID,label:"",filter:"",pill:"",ripple:"","filter-icon":"mdi-clock-check-outline",tag:"div"}},[e._v("\n                      "+e._s(t.startTime)+" - "+e._s(t.endTime)+"\n                      "),a("v-spacer"),e.firstChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("1st")],1):e._e(),e.secondChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("2nd")],1):e._e(),e.thirdChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("3rd")],1):e._e()],1)],1)}),1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:" investorSC--text px-10",attrs:{text:""},on:{click:e.close}},[e._v("Cancel\n            ")]),a("v-btn",{staticClass:"investorSC--text font-weight-bold",attrs:{text:""},on:{click:function(t){return e.save("newEntryForm")}}},[e._v("Save\n            ")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"text-center mb-10",attrs:{cols:"12"}},[a("v-btn",{staticClass:" mx-auto investorSC--BG",attrs:{rounded:"",dark:""},on:{click:function(t){return e.saveInvitee("inviteeForm")}}},[e._v("Submit Suggestions\n      ")])],1)],1)],1)},pe=[],fe=a("14b7"),ge={name:"InviteRequest",props:{e:{type:String,required:!0}},data:()=>({drawerRight:!1,all:!1,valid:!1,readonly:!0,loading:!1,items:[],nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],currentEvent:null,selectedEvent:"",selected:[],pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,showNewItem:!1,search:"",expanded:[],dialog:!1,headers:[{text:"Name",align:"left",sortable:!0,value:"lastName",sortDescending:"desc"},{text:"Company",value:"company",sortable:!0},{text:"Email",value:"email",sortable:!0},{text:"Phone",value:"phone",sortable:!0},{text:"Time options",sortable:!1},{text:"attendedID",value:"attendeeID",sortable:!1}],attendees:[],editedIndex:-1,invitee:{inviteeID:"",firstName:"",lastName:"",companyName:"",emailAddress:"",areaCode:"",contactNumber:""},editedItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"},defaultItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"},timeSelection:[],bankerFirstname:"John",eventData:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:""},conferences:[{conferenceID:"",eventID:"",eventTimeUK:"",startTime:"",endTime:"",duration:"",timeZone:"",conferenceLock:"",PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:"",expanded:0}],preferences:["1st Preference","2nd Preference","3rd Preference"],userPreference:[]}),computed:{cssProps(){return{"--investor-primary-color":this.eventData.preferredPC,"--investor-secondary-color":this.eventData.preferredSC}},firstChoice:function(){return this.timeSelection[0]},secondChoice:function(){return this.timeSelection[1]},thirdChoice:function(){return this.timeSelection[2]},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return Math.min(this.page*this.itemsPerPage+1,this.attendees.length)},total:function(){return this.attendees.length}},beforeMount(){console.log(this.e);let e=fe.verify(this.e,"nrs-1234");this.selectedEvent=e.event,console.log(e),console.log(this.selectedEvent);let t={eventID:this.selectedEvent};this.$store.dispatch("getEvent",{eventData:t}).then(e=>{console.log(e),console.log("Get Event"),this.eventData=Object.assign({},e.data),console.log(this.eventData),console.log("EventData Retrieved Successfully")}),i()({url:"http://netroadshow.incommglobalevents.com/api/getConferences.php",data:{eventData:t},method:"POST"}).then(e=>{console.log("Got Conferences"),this.conferences=Object.assign({},e.data),console.log(e)}).catch(e=>{console.log("Conference retrieval error"+e)})},fetchAttendees(){console.log(this.selectedEvent),this.attendees=[];let e=this.selectedEvent,t=null;i()({url:"http://netroadshow.incommglobalevents.com/api/attendees.php",data:{eventID:e,conferenceID:t},method:"POST"}).then(e=>{console.log("Got Attendees for "+t),this.attendees=e.data,console.log(e)}).catch(e=>{console.log("Attendees retrieval error"+e)})},created(){this.initialize()},methods:{initialize(){console.log(this.e)},importInvestors(){this.$router.push("/importinvestors")},fetchAttendees(e){fetch("http://netroadshow.incommglobalevents.com/api/attendees.php?event="+e).then(e=>e.json()).then(e=>this.attendees=e)},exportSelectedattendees(){},deleteselectedattendees(){},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.attendees.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.editedIndex=this.attendees.indexOf(e),this.editedItem=Object.assign({},e)},deleteItem(e){const t=this.attendees.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.attendees.splice(t,1)},close(){this.showNewItem=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},closeRow(){this.$set(this.$refs.dTable.expanded,0,!1)},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){this.selected[e.attendeeID]?this.selected[e.attendeeID]=null:this.selected[e.attendeeID]=e,console.log(this.selected)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),this.timeSelection=[],a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.editedIndex=this.attendees.indexOf(e),this.editedItem=Object.assign({},e),this.editedItem.firstChoice>0&&this.timeSelection.push(this.editedItem.firstChoice),this.editedItem.secondChoice>0&&this.timeSelection.push(this.editedItem.secondChoice),this.editedItem.thirdChoice>0&&this.timeSelection.push(this.editedItem.thirdChoice)),t(1-a)},newitem(){this.$refs.newEntryForm.reset(),this.$refs.newEntryForm.resetValidation(),this.timeSelection=[],this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.showNewItem=!0},save(e){let t=this.$refs[e].validate();if(console.log(t),t){let e=this.editedItem;e.eventID=this.selectedEvent,e.conferenceID=this.firstChoice,e.firstChoice=this.firstChoice,e.secondChoice=this.secondChoice,e.thirdChoice=this.thirdChoice,console.log(this.conferences),console.log(e.firstChoice);for(const t in this.conferences)this.conferences[t].conferenceID===e.firstChoice&&(e.firstChoiceTIME=this.conferences[t].startTime+" - "+this.conferences[t].endTime),this.conferences[t].conferenceID===e.secondChoice&&(e.secondChoiceTIME=this.conferences[t].startTime+" - "+this.conferences[t].endTime),this.conferences[t].conferenceID===e.thirdChoice&&(e.thirdChoiceTIME=this.conferences[t].startTime+" - "+this.conferences[t].endTime);console.log(e),this.editedIndex>-1?Object.assign(this.attendees[this.editedIndex],this.editedItem):this.attendees.push(this.editedItem),this.showNewItem=!1,this.$refs.entryForm.resetValidation(),this.closeRow()}},saveInvitee(e){let t=this.$refs[e].validate();if(console.log(t),t){let e=this.invitee,t=this.attendees;this.$store.dispatch("saveInvitee",{inviteeData:e,attendeeData:t}).then(e=>{console.log(e),this.showNewItem=!1}).catch(e=>console.log(e))}else this.$vuetify.goTo("#inviteRevist",{duration:400,offset:0,easing:"easeInCubic"})},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1},getJsonItem(e,t=this.conferences){for(const a in t)a.conferenceID===e?console.log(t[a]):t[a]instanceof Object&&this.getJsonItem(e,t[a])},getObjectByValue(e,t,a){return e.filter(function(e){return 29===e.conferenceID})},getByValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return e[s]},getIndexValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return s}}},xe=ge,ye=(a("9200"),a("99d9")),Ce=a("ac7c"),be=a("cc20"),Ie=a("ef9a"),_e=a("62ad"),we=a("8fea"),ke=a("0fd9"),De=Object(h["a"])(xe,ve,pe,!1,null,null,null),Se=De.exports;p()(De,{VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCardTitle:ye["c"],VCheckbox:Ce["a"],VChip:be["a"],VChipGroup:Ie["a"],VCol:_e["a"],VContainer:y["a"],VDataTable:we["a"],VDivider:b["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VRow:ke["a"],VSelect:N["a"],VSpacer:Z["a"],VTextField:W["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{style:e.cssProps,attrs:{"py-0":""}},[a("v-row",[a("v-col",{staticClass:"py-0 pr-6",attrs:{cols:"7"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"investorPC--text"},[e._v("Welcome "+e._s(e.attendeeData.firstName))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",[e._v(e._s(e.eventData.organiser)+" invites you to...")]),a("h2",[e._v(e._s(e.eventData.eventTitle))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h5",{staticClass:"investorPC--text"},[e._v(e._s(e._f("moment")(e.eventData.eventDate,"dddd, MMMM Do YYYY")))]),a("p",[a("strong",[e._v("Speaker:")]),e._l(e.eventData.speakers,function(t,s){return a("span",{key:s},[[e._v("\n                "+e._s(t)),s!=e.eventData.speakers.length-1?a("span",[e._v(",")]):e._e()]],2)})],2)])],1),a("v-form",{ref:"timeSelectForm",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("strong",[e._v("Please select your 3 preferred time options.")]),e._v(" (All\n          times are GMT)\n        ")]),a("v-chip-group",{staticClass:"timeslot",attrs:{multiple:"",max:"3",column:"",color:"white","active-class":"white--text, green darken-1"},model:{value:e.timeSelection,callback:function(t){e.timeSelection=t},expression:"timeSelection"}},[a("v-row",{staticClass:"ma-0 "},e._l(e.conferences,function(t){return a("v-col",{key:t.conferenceID,attrs:{cols:"4"}},[a("v-chip",{staticStyle:{width:"100%",height:"40px"},attrs:{value:t.conferenceID,label:"",filter:"",pill:"",ripple:"","filter-icon":"mdi-clock-check-outline",tag:"div"}},[e._v("\n                "+e._s(t.startTime)+" -\n                "+e._s(t.endTime)+"\n                "),a("v-spacer"),e.firstChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("1st")],1):e._e(),e.secondChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("2nd")],1):e._e(),e.thirdChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("3rd")],1):e._e()],1)],1)}),1)],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-btn",{staticClass:"investorPC--BG",attrs:{dark:"",rounded:"",minHeight:"40",minWidth:"150",type:"submit"},on:{click:function(t){return e.save("timeSelectForm")}}},[e._v("Submit Options\n          ")])],1),a("v-row",{staticClass:"mt-8 mx-0"},[a("v-col",{attrs:{cols:"12"}},[a("p",[e._v("\n              Alternatively, if your are unable to attend, please kindly click\n              to "),a("strong",[a("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"#"}},[e._v("decline invitation")])])])])],1)],1)],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"5"}},[a("v-img",{staticClass:"grey lighten-2",attrs:{src:e.eventData.eventImage,"aspect-ratio":"0.75","max-height":"700"}})],1)],1)],1)},Ee=[],Ae=a("14b7"),Ne={name:"TimeSelect",props:{e:{type:String,required:!0}},data:()=>({drawerRight:!0,valid:!1,timeSelection:[],investorFirstname:"John",attendeeData:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"},eventData:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:""},conferences:[{conferenceID:"",eventID:"",eventTimeUK:"",startTime:"",endTime:"",duration:"",timeZone:"",conferenceLock:"",PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:"",expanded:0}],preferences:["1st Preference","2nd Preference","3rd Preference"],search:null,userPreference:[]}),computed:{cssProps(){return{"--investor-primary-color":this.eventData.preferredPC,"--investor-secondary-color":this.eventData.preferredSC}},firstChoice:function(){return this.timeSelection[0]},secondChoice:function(){return this.timeSelection[1]},thirdChoice:function(){return this.timeSelection[2]}},beforeMount(){console.log(this.e);let e=Ae.verify(this.e,"nrs-1234");this.selectedEvent=e.eventID,this.selectedAttendee=e.attendeeID,console.log(e),console.log(this.selectedEvent);let t={eventID:this.selectedEvent};this.$store.dispatch("getEvent",{eventData:t}).then(e=>{console.log(e),console.log("Get Event"),this.eventData=Object.assign({},e.data),console.log(this.eventData),console.log("EventData Retrieved Successfully")}),i()({url:"http://netroadshow.incommglobalevents.com/api/getConferences.php",data:{eventData:t},method:"POST"}).then(e=>{console.log("Got Conferences"),this.conferences=Object.assign({},e.data),console.log(e)}).catch(e=>{console.log("Conference retrieval error"+e)});let a={attendeeID:this.selectedAttendee};i()({url:"http://netroadshow.incommglobalevents.com/api/getAttendee.php",data:{attendeeData:a},method:"POST"}).then(e=>{console.log("Got Attendee details"),this.attendeeData=Object.assign({},e.data),console.log(e)}).catch(e=>{console.log("Attendee retrieval error"+e)})},created(){this.initialize()},methods:{initialize(){console.log(this.e)},save(e){console.log("SAVING ATTENDEE PREFS");let t=this.$refs[e].validate();if(console.log(t),t){let e=this.attendeeData;e.eventID=this.selectedEvent,e.conferenceID=this.firstChoice,e.firstChoice=this.firstChoice,e.secondChoice=this.secondChoice,e.thirdChoice=this.thirdChoice,console.log(this.conferences),console.log(e.firstChoice);for(const t in this.conferences)this.conferences[t].conferenceID===e.firstChoice&&(e.firstChoiceTIME=this.conferences[t].startTime+" - "+this.conferences[t].endTime),this.conferences[t].conferenceID===e.secondChoice&&(e.secondChoiceTIME=this.conferences[t].startTime+" - "+this.conferences[t].endTime),this.conferences[t].conferenceID===e.thirdChoice&&(e.thirdChoiceTIME=this.conferences[t].startTime+" - "+this.conferences[t].endTime);console.log(e),this.$store.dispatch("saveAttendee",{attendeeData:e}).then(e=>{console.log(e),this.thankyou()}).catch(e=>console.log(e))}},thankyou:function(){let e=this.eventData.eventID,t=this.attendeeData.attendeeID;var a=Ae.sign({eventID:e,attendeeID:t},"nrs-1234");console.log(e),console.log(a);let s=Ae.verify(a,"nrs-1234");console.log(s);let n="/thankyou/?e="+a;window.open(n,"_top")}}},Pe=Ne,$e=(a("a787"),Object(h["a"])(Pe,Te,Ee,!1,null,null,null)),Ve=$e.exports;p()($e,{VBtn:x["a"],VChip:be["a"],VChipGroup:Ie["a"],VCol:_e["a"],VContainer:y["a"],VForm:z["a"],VIcon:w["a"],VImg:K["a"],VRow:ke["a"],VSpacer:Z["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{style:e.cssProps,attrs:{"py-0":""}},[a("v-row",[a("v-col",{staticClass:"py-0 pr-6",attrs:{cols:"7"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"investorPC--text"},[e._v("Thank you "+e._s(e.attendeeData.firstName))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",[e._v("\n            We have now received your 3 time preferences and will confirm the\n            selected conference time by email for you with full access\n            details.\n          ")]),a("p",[e._v("We look forward to speaking with you then.")])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("strong",[e._v("Your selected time options.")]),e._v(" (All times are GMT)\n        ")]),a("v-chip-group",{staticClass:"timeslot",attrs:{multiple:"",max:"3",column:"",color:"white","active-class":"white--text, grey darken-1"},model:{value:e.timeSelection,callback:function(t){e.timeSelection=t},expression:"timeSelection"}},[a("v-row",{staticClass:"ma-0"},e._l(e.conferences,function(t,s){return e.inArray(t.conferenceID,e.timeSelection)?a("v-col",{key:t.conferenceID,attrs:{cols:"4"}},[a("v-chip",{staticClass:"white--text, grey darken-1",staticStyle:{width:"100%"},attrs:{value:t.conferenceID,label:"",filter:"",pill:"",disabled:"",ripple:"","filter-icon":"mdi-clock-check-outline",tag:"div"}},[e._v("\n              "+e._s(t.startTime)+" -\n              "+e._s(t.endTime)+"\n                "),a("v-spacer"),e.firstChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("1st")],1):e._e(),e.secondChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("2nd")],1):e._e(),e.thirdChoice===t.conferenceID?a("span",[a("v-icon",{staticClass:"white--text"},[e._v("mdi-bookmark-check")]),e._v("3rd")],1):e._e()],1)],1):e._e()}),1)],1),a("v-row",{staticClass:"mt-12 mx-0"},[a("v-col",{attrs:{cols:"12"}},[a("p",{staticClass:"small"},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-clock-outline")]),e._v("Need to\n              "),a("a",{staticClass:"font-weight-bold",staticStyle:{"text-decoration":"underline"},attrs:{href:"#"}},[e._v("change")]),e._v(" your conference\n              time options? We will contact you by phone to confirm a new time\n              allocation for you. Alternatively, you can\n              "),a("a",{staticClass:"font-weight-bold",staticStyle:{"text-decoration":"underline"},attrs:{href:"#"}},[e._v("cancel")]),e._v(" your conference\n              attendance.\n            ")],1)])],1)],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"5"}},[a("v-img",{staticClass:"grey lighten-2",attrs:{src:e.eventData.eventImage,"aspect-ratio":"0.75","max-height":"700"}})],1)],1)],1)},Me=[],Be=a("14b7"),Le={name:"ThankYou",props:{e:{type:String,required:!0}},data:()=>({drawerRight:!1,timeSelection:[],attendeeData:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"},eventData:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:""},conferences:[{conferenceID:"",eventID:"",eventTimeUK:"",startTime:"",endTime:"",duration:"",timeZone:"",conferenceLock:"",PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:"",expanded:0}]}),computed:{cssProps(){return{"--investor-primary-color":this.eventData.preferredPC,"--investor-secondary-color":this.eventData.preferredSC}},firstChoice:function(){return this.timeSelection[0]},secondChoice:function(){return this.timeSelection[1]},thirdChoice:function(){return this.timeSelection[2]}},beforeMount(){console.log(this.e);let e=Be.verify(this.e,"nrs-1234");this.selectedEvent=e.eventID,this.selectedAttendee=e.attendeeID,console.log(e),console.log(this.selectedEvent);let t={eventID:this.selectedEvent};this.$store.dispatch("getEvent",{eventData:t}).then(e=>{console.log(e),console.log("Get Event"),this.eventData=Object.assign({},e.data),console.log(this.eventData),console.log("EventData Retrieved Successfully")}),i()({url:"http://netroadshow.incommglobalevents.com/api/getConferences.php",data:{eventData:t},method:"POST"}).then(e=>{console.log("Got Conferences"),this.conferences=Object.assign({},e.data),console.log(e)}).catch(e=>{console.log("Conference retrieval error"+e)});let a={attendeeID:this.selectedAttendee};i()({url:"http://netroadshow.incommglobalevents.com/api/getAttendee.php",data:{attendeeData:a},method:"POST"}).then(e=>{console.log("Got Attendee details"),this.attendeeData=Object.assign({},e.data),this.attendeeData.firstChoice>0&&this.timeSelection.push(this.attendeeData.firstChoice),this.attendeeData.secondChoice>0&&this.timeSelection.push(this.attendeeData.secondChoice),this.attendeeData.thirdChoice>0&&this.timeSelection.push(this.attendeeData.thirdChoice),console.log(e)}).catch(e=>{console.log("Attendee retrieval error"+e)})},methods:{inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},Re=Le,je=(a("cc27"),Object(h["a"])(Re,Oe,Me,!1,null,null,null)),qe=je.exports;p()(je,{VChip:be["a"],VChipGroup:Ie["a"],VCol:_e["a"],VContainer:y["a"],VIcon:w["a"],VImg:K["a"],VRow:ke["a"],VSpacer:Z["a"]});var Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":"","pt-3":""}},[a("v-flex",{attrs:{sm6:"",tag:"h1",color:"primary","text-left":""}},[e._v("Welcome "+e._s(e.curUser))]),a("v-flex",{staticClass:"text-right ",attrs:{sm6:""}},[e.inArray(e.userGroup,[3,4])?a("v-layout",{attrs:{"align-center":"",row:"","justify-end":"","mr-1":""}},[a("span",{staticClass:"d-flex mr-3"},[a("label",[e._v("Filter my events only")])]),a("span",{staticClass:"d-flex"},[a("v-switch",{attrs:{color:"secondary"},model:{value:e.allevents,callback:function(t){e.allevents=t},expression:"allevents"}})],1)]):e._e()],1)],1),a("p",[e._v("\n    Here is your events dashboard. Each event will contain all of your\n    conferences within that day. You can create as many conferences within a\n    day event as you like, there is no minimum or maximum number.\n  ")]),a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"d-block":"",sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{ref:"dTable",staticClass:"theme-nrs",attrs:{color:"secondary",headers:e.headers,items:e.events,"single-expand":"",expanded:e.expanded,search:e.search,"item-key":"eventID","hide-default-footer":"","hide-default-header":"",loading:"false",page:e.page,"items-per-page":e.itemsPerPage,"multi-sort":""},on:{"update:expanded":function(t){e.expanded=t},"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on,i=t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e._l(s.headers,function(t,i){return a("th",{key:i,class:["text-weight-bold primary-text column ",t.sortable?"sortable":"",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":"",e.inArray(e.userGroup,t.group)?"":"d-none"],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                    "+e._s(t.text)+"\n\n                    "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right",attrs:{small:"",color:"secondary "}},[e._v("arrow_upward")]):e._e()],1)}),a("th",[a("v-checkbox",{attrs:{color:"secondary","hide-details":""},nativeOn:{click:function(t){return e.toggleAll()}},model:{value:i,callback:function(e){i=e},expression:"selected"}})],1)],2)])]}},{key:"item",fn:function(t){var s=t.item,n=t.isExpanded,i=t.headers,o=t.isSelected,r=t.expand,l=t.select;return[a("tr",[e.inArray(e.userGroup,i[0].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(s,r,n)}}},[e._v("\n                    "+e._s(s.eventRef)+"\n\n                    "),a("v-icon",{staticClass:"float-right",attrs:{medium:"",color:"secondary"},on:{change:function(t){return e.expandrow(s,r,n)}}},[e._v("\n                      mdi-chevron-down\n                    ")]),s.total>0?a("v-chip",{staticClass:"float-right",attrs:{color:"accent",small:""}},[e._v(e._s(s.total))]):e._e(),0==s.total?a("v-chip",{staticClass:"float-right",attrs:{color:"accent",small:""}},[e._v(e._s(s.invited))]):e._e()],1)]):e._e(),e.inArray(e.userGroup,i[1].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.eventTitle)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,i[2].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(e._f("moment")(s.eventDate,"DD/MM/YYYY"))+"\n                  ")])]):e._e(),e.inArray(e.userGroup,i[3].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v(e._s(s.userFullName)+" ["+e._s(s.userID)+"]")])]):e._e(),e.inArray(e.userGroup,i[4].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.companyName)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,i[5].group)?a("td",{staticClass:"text-xs-right "},[a("div",{staticClass:"datatable-cell-wrapper"},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""},on:{click:function(t){return e.gotoHost(s)}}},[e._v(e._s(e.reportHostIcon(s))+" ")])],1)]):e._e(),e.inArray(e.userGroup,i[6].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[a("v-icon",{attrs:{medium:"",color:"secondary"},on:{click:function(t){return e.editEvent(s)}}},[e._v("\n                      edit\n                    ")])],1)]):e._e(),e.inArray(e.userGroup,i[7].group)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v(e._s(s.eventID))])]):e._e(),a("td",[a("v-checkbox",{staticClass:"ma-auto pa-0",attrs:{color:"secondary","hide-details":"","input-value":o},on:{change:function(e){return l(1-o)}}})],1)])]}},{key:"item.data-table-expand",fn:function(t){var s=t.item,n=t.isExpanded,i=t.expand;return[a("v-icon",{ref:"expand",attrs:{small:""},on:{click:function(t){return e.expandrow(s,i,n)}}},[e._v("\n                edit\n              ")])]}},{key:"expanded-item",fn:function(t){t.item,t.index;var s=t.headers;return[a("td",{staticClass:"pa-0 ma-0",attrs:{colspan:s.length+1}},[a("v-card",{staticClass:"grey lighten-4",attrs:{flat:""}},[a("v-card-text",[a("v-simple-table",{staticClass:"stripped"},[a("thead",[a("tr",{staticClass:"v-data-table__header-row"},[a("th",{staticClass:"text-left primary-text"},[e._v("Conferences")]),a("th",{staticClass:"text-left primary-text"},[e._v("Invited ")]),a("th",{staticClass:"text-left primary-text"},[e._v("Responded")]),a("th",{staticClass:"text-left primary-text"},[e._v("Attended")])])]),a("tbody",e._l(e.conferences,function(t){return a("tr",{key:t.timeslot},[a("td",[e._v(e._s(t.startTime)+" - "+e._s(t.endTime)+" "),a("v-chip",{staticClass:"float-right",attrs:{color:"accent",small:""}},[e._v(e._s(t.pending))])],1),a("td",[e._v(e._s(t.invited))]),a("td",[e._v(e._s(t.responded))]),a("td",[e._v(e._s(t.attended))])])}),0)])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.close()}}},[e._v("Cancel")])],1)],1)],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","ma-0":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[a("span",{staticClass:"select d-inline-block mr-6",staticStyle:{"max-width":"180px"}},[a("v-select",{attrs:{color:"success","hide-details":"",id:"page-size",items:e.pagesizes,height:"24","menu-props":"auto"},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Show")]),a("label",{attrs:{slot:"append-outer"},slot:"append-outer"},[e._v("Entries")])])],1),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtPrevious()}}},[a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",left:""}},[e._v("mdi-less-than")]),e._v("\n                Previous\n              ")],1),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary"}},[e._v("mdi-power-on")]),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtNext()}}},[e._v("Next\n                "),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",right:""}},[e._v("mdi-greater-than")])],1),a("div",{staticClass:"test-header"},[e._v("\n                Showing\n                "),a("span",{attrs:{id:"starting"}},[e._v(e._s(e.starting))]),e._v(" to\n                "),a("span",{attrs:{id:"ending"}},[e._v(e._s(e.ending))]),e._v(" of\n                "),a("span",{attrs:{id:"total"}},[e._v(e._s(e.total))]),e._v(" entries\n              ")])],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("span",{staticClass:"d-inline-block mr-3 mt-3",staticStyle:{"max-width":"300px"}},[a("v-text-field",{staticClass:"pa-0",attrs:{"hide-details":"",id:"qsearch",label:"Event Ref or Title",outlined:"",name:"filter",type:"text",height:"45","min-height":"45",readonly:e.readonly},on:{click:function(t){e.readonly=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Search")])])],1)])],1)],1)],1)],1)],1),a("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-left":""}},[a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return t.stopPropagation(),e.newEvent(t)}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),e._v("\n        New Event\n      ")],1)],1),a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-right":""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""}},s),[e._v("Options")])]}}])},[a("span",[a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{"py-2":""}},[a("v-list-item-title",{on:{click:function(t){return t.stopPropagation(),e.newEvent(t)}}},[e._v("New event")])],1),a("v-list-item",{attrs:{"py-2":""}},[a("v-list-item-title",{on:{click:function(t){return e.exportSelectedEvents()}}},[e._v("Export event selection")])],1),a("v-divider",{staticClass:"ma-0 pa-0"}),a("v-list-item",{on:{click:function(t){return e.deleteSelectedEvents()}}},[a("v-list-item-title",[e._v("Delete event")])],1)],1)],1)])],1)],1)],1)},Ge=[],Ue={name:"App",data:()=>({all:!1,allevents:!0,readonly:!0,loading:!1,items:[],selected:[],pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,newuser:!1,search:"",expanded:[],dialog:!1,headers:[{text:"Event reference",align:"left",sortable:!0,value:"eventRef",sortDescending:"desc",group:[1,2,3,4]},{text:"Title",value:"eventTitle",sortable:!0,group:[1,2,3,4]},{text:"Event date",value:"eventDate",sortable:!0,group:[1,2,3,4]},{text:"User",value:"userFullName",sortable:!0,group:[1,2,3,4]},{text:"Company",value:"companyID",sortable:!1,group:[1,2]},{text:"Host",value:"view",sortable:!1,group:[1,3]},{text:"View",value:"view",sortable:!1,group:[1,2,3,4]},{text:"EventID",value:"eventID",sortable:!1,group:[1,2]}],events:[],conferences:[]}),computed:{formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return Math.min(this.page*this.itemsPerPage+1,this.events.length)},total:function(){return this.events.length},curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}}},created(){this.initialize()},beforeMount(){let e=this.$store.state.token;fetch("http://netroadshow.incommglobalevents.com/api/events.php",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json",Authorization:!0}),body:JSON.stringify({token:e})}).then(e=>e.json()).then(e=>this.events=e)},methods:{initialize(){},reportHostIcon:function(e){return console.log(this.$moment(e.eventDate,"YYYY-MM-DD")),console.log(this.$moment()),this.$moment(e.eventDate,"YYYY-MM-DD")>this.$moment()?"mdi-open-in-new":"mdi-chart-bar"},exportSelectedEvents(){const e=this.selected.map(e=>Object.keys(e).reduce((t,a)=>"speakers"!=a&&"conferenceID"!=a&&"pending"!=a&&"userGroup"!=a?{...t,[a]:e[a]}:t,{}));console.log(e),this.csvExport(e)},deleteSelectedEvents(){console.log("DELETING SELECTION");const e=this,t=[];this.selected.length>0?(confirm("Are you sure you want to delete these items?")&&this.selected.forEach(function(a){const s=e.events.indexOf(a);console.log(a),t.push({eventID:a.eventID}),e.events.splice(s,1)}),t.length>0&&(console.log("Committing chage to DB"),console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_events.php",data:{forDeletion:t},method:"POST"}).then(e=>{console.log("Deletion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Deletion error"+e)}))):alert("Please make a selection first!")},csvExport(e){let t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n").replace(/(^\[)|(\]$)/gm,"");const a=encodeURI(t),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","export.csv"),s.click()},gotoHost(e){this.$store.dispatch("editEvent",e).then(e=>{console.log("Host Event"),this.$router.push("/viewer")}).catch(e=>console.log(e))},newEvent(){this.$store.dispatch("createEvent",!1).then(e=>{console.log("New Event"),this.$router.push("/create-event")}).catch(e=>console.log(e))},editEvent(e){this.eventData=Object.assign({},e),console.log(this.eventData);let t=this.eventData;this.$store.dispatch("getEvent",{eventData:t}).then(e=>{console.log(e),console.log("Get Event"),this.eventData=Object.assign({},this.$store.state.editEventData),console.log(this.eventData),console.log("EventData Retrieved Successfully")}).then(e=>{console.log("Getting Conferences");let t=this.eventData;this.$store.dispatch("editEvent",t).then(e=>{console.log("Edit Event"),this.$router.push("/create-event")}).catch(e=>console.log(e))}).catch(e=>console.log(e))},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.events.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.editedIndex=this.events.indexOf(e),this.editedItem=Object.assign({},e)},deleteItem(e){const t=this.events.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.events.splice(t,1)},close(){this.$set(this.$refs.dTable.expanded,0,!1),setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){this.selected[e.userID]?this.selected[e.userID]=null:this.selected[e.userID]=e,console.log(this.selected)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.eventData=Object.assign({},e),console.log(this.eventData),this.$store.dispatch("editEvent",this.eventData).then(e=>{console.log("Edit Event"),this.conferences=[],Object.assign(this.conferences,this.$store.state.conferenceData),console.log(this.conferences)}).catch(e=>console.log(e)),this.editedIndex=this.events.indexOf(e),this.editedItem=Object.assign({},e)),t(1-a)},save(){this.editedIndex>-1?Object.assign(this.events[this.editedIndex],this.editedItem):this.events.push(this.editedItem),this.close()},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},He=Ue,Ye=(a("2a24"),a("1f4f")),ze=a("b73d"),Ke=Object(h["a"])(He,Fe,Ge,!1,null,null,null),Ze=Ke.exports;p()(Ke,{VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCheckbox:Ce["a"],VChip:be["a"],VContainer:y["a"],VDataTable:we["a"],VDivider:b["a"],VFlex:I["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VSelect:N["a"],VSimpleTable:Ye["a"],VSpacer:Z["a"],VSwitch:ze["a"],VTextField:W["a"]});var We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":"","pt-3":""}},[s("v-flex",{attrs:{sm12:"",tag:"h1",color:"primary","text-left":""}},[e._v("Create your event")])],1),s("p",[e._v("\n    It takes just a few minutes to create your event. You can save and return\n    to add additional conferences and attendees at any time you wish.\n  ")]),s("v-form",{ref:"eventForm"},[s("v-layout",{attrs:{"align-stretch":"","justify-space-between":"","pa-0":"","ma-0":""}},[s("v-flex",{attrs:{sm4:""}},[s("v-card",{attrs:{flat:"",elevation:"1",height:"100%"}},[s("v-card-title",{staticClass:"primary-text",attrs:{tag:"h2"}},[e._v("Event set-up")]),s("v-card-text",[s("v-text-field",{attrs:{filled:"",label:"Event title",rules:e.titleRules,required:""},model:{value:e.eventData.eventTitle,callback:function(t){e.$set(e.eventData,"eventTitle",t)},expression:"eventData.eventTitle"}}),s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{filled:"",color:"secondary",label:"Event date",required:"",readonly:""},scopedSlots:e._u([{key:"append",fn:function(){return[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-calendar-month")])]},proxy:!0}],null,!0),model:{value:e.eventData.eventDate,callback:function(t){e.$set(e.eventData,"eventDate",t)},expression:"eventData.eventDate"}},a))]}}]),model:{value:e.eventDatepick,callback:function(t){e.eventDatepick=t},expression:"eventDatepick"}},[s("v-date-picker",{on:{input:function(t){e.eventDatepick=!1}},model:{value:e.eventData.eventDate,callback:function(t){e.$set(e.eventData,"eventDate",t)},expression:"eventData.eventDate"}})],1)],1),s("v-card-actions",[s("v-btn",{staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){e.newuser=!0}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-calendar-plus")]),e._v("\n              Add to my calendar\n            ")],1)],1)],1)],1),s("v-flex",{attrs:{sm4:"","mx-6":""}},[s("v-card",{attrs:{elevation:"1",height:"100%"}},[s("v-card-title",{staticClass:"primary-text",attrs:{tag:"h2"}},[e._v("Speaker(s)")]),s("v-card-text",[[s("v-sheet",{staticClass:"elevation-1 pa-3 speakers",attrs:{tile:"",color:"grey lighten-4"}},[s("v-text-field",{staticClass:"mb-3",attrs:{label:"Add Speaker(s)",hint:"Press enter to list each speaker seperately","persistent-hint":""},on:{blur:function(t){return e.addSpeaker()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSpeaker()}},model:{value:e.speaker,callback:function(t){e.speaker=t},expression:"speaker"}}),e._l(e.eventData.speakers,function(t,a){return[s("v-layout",{key:t,attrs:{column:""}},[s("v-chip",{staticClass:"my-1",attrs:{close:"",width:"100%",label:""},on:{"click:close":function(t){return e.deleteSpeaker(a)}}},[s("v-icon",{attrs:{left:"",color:"secondary"}},[e._v("mdi-account-tie")]),e._v("\n                      "+e._s(t)+"\n                    ")],1)],1)]})],2)]],2),s("v-card-actions",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:e.addSpeaker}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),e._v("\n              Add Speaker\n            ")],1)],1)],1)],1),s("v-flex",{attrs:{sm4:""}},[s("v-card",{attrs:{elevation:"1",height:"100%"}},[s("v-card-title",{staticClass:"primary-text",attrs:{tag:"h2"}},[e._v("Custom invitation image")]),s("v-card-text",[s("p",[e._v("\n              You can select an image from our gallery, upload your own, or\n              leave it blank.\n            ")]),s("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[s("v-flex",{attrs:{sm4:""}},[s("v-img",{class:["circle",e.isSystemImage?"primary":"grey lighten-1"],attrs:{src:e.systemImage,width:"95",height:"95"},on:{click:function(t){t.stopPropagation(),e.chooser=!0}}},[s("v-layout",{attrs:{"align-center":"","justify-center":"",column:""}},[s("v-list-item",{staticClass:"text-center mt-1",attrs:{dense:""}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"white"}},[e._v("mdi-image")])],1),s("v-list-item",{staticClass:"text-center",attrs:{dense:""}},[s("div",{staticClass:"text-center white--text body-2"},[e._v("\n                        Gallery Image\n                      ")])])],1)],1)],1),s("v-flex",{attrs:{sm4:""}},[s("v-img",{class:["circle",e.isUploadImage?"primary":"grey lighten-1"],attrs:{src:e.uploadedImage,width:"95",height:"95"},on:{click:function(t){t.stopPropagation(),e.upload=!0}}},[s("v-layout",{attrs:{"align-center":"","justify-center":"",column:""}},[s("v-list-item",{staticClass:"text-center mt-1",attrs:{dense:""}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"white"}},[e._v("mdi-image-plus")])],1),s("v-list-item",{staticClass:"text-center",attrs:{dense:""}},[s("div",{staticClass:"text-center white--text body-2"},[e._v("\n                        Upload Image\n                      ")])])],1)],1)],1),s("v-flex",{attrs:{sm4:""}},[s("v-img",{class:["circle",e.isNoImage?"primary":"grey lighten-1"],attrs:{width:"95",height:"95"},on:{click:function(t){t.stopPropagation(),e.isNoImage=!0,e.isUploadImage=!1,e.isSystemImage=!1,e.uploadedImage="",e.systemImage="",this.eventData.eventImage=""}}},[s("v-layout",{attrs:{"align-center":"","justify-center":"",column:""}},[s("v-list-item",{staticClass:"text-center mt-1",attrs:{dense:""}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"white"}},[e._v("mdi-checkbox-blank")])],1),s("v-list-item",{staticClass:"text-center",attrs:{dense:""}},[s("div",{staticClass:"text-center white--text body-2"},[e._v("\n                        No Image\n                      ")])])],1)],1)],1)],1)],1),s("v-card-actions",[s("v-btn",{staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return t.stopPropagation(),e.previewInvitePage(t)}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-open-in-new")]),e._v("\n              Preview invite page\n            ")],1)],1)],1)],1)],1),s("v-layout",{attrs:{"my-6":""}},[s("v-card",{attrs:{width:"100%",elevation:"1",height:"100%"}},[s("v-layout",{attrs:{"align-center":"","justify-center":"","py-0":"","px-3":"","ma-0":"","pt-3":""}},[s("v-flex",{attrs:{sm6:"",tag:"h1",color:"primary","text-left":""}},[e._v("Choose your branding")]),s("v-flex",{staticClass:"text-right ",attrs:{sm6:""}},[e.inArray(e.userGroup,[1,2,3,4])?s("v-layout",{attrs:{"align-center":"",row:"","justify-end":"","mr-1":""}},[s("span",{staticClass:"d-flex mr-3"},[s("label",[e._v("Use your company branding")])]),s("span",{staticClass:"d-flex"},[s("v-switch",{attrs:{color:"secondary"},model:{value:e.eventData.useCompanyBranding,callback:function(t){e.$set(e.eventData,"useCompanyBranding",t)},expression:"eventData.useCompanyBranding"}})],1)]):e._e()],1)],1),s("v-card-text",[s("p",[e._v("\n            You can use your existing company branding as default or\n            personalise your attendee experience with a different brand.\n          ")]),s("v-layout",{directives:[{name:"show",rawName:"v-show",value:!e.eventData.useCompanyBranding,expression:"!eventData.useCompanyBranding"}],attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[s("v-layout",{attrs:{column:"","justify-space-between":""}},[s("div",{staticClass:"mt-12"},[e._v("\n                  Upload logo (Recommended size w600px)\n                  "),s("v-file-input",{staticClass:"pt-0",attrs:{accept:"image/*",required:""},on:{change:e.onLogoChange},model:{value:e.logo,callback:function(t){e.logo=t},expression:"logo"}}),e.eventData.logoOverride?s("img",{attrs:{src:e.eventData.logoOverride,height:"75"}}):e._e()],1)])],1),s("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[s("v-layout",{attrs:{column:""}},[s("div",{staticClass:"mt-12"},[e._v("\n                  Select main colour scheme\n                  "),s("v-layout",{staticClass:"px-3 mt-0",attrs:{row:""}},[s("v-sheet",{staticClass:"pa-0 ma-0 mt-1",style:e.backgroundMainColor,attrs:{width:"80",height:"32","d-inline-flex":""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}}}),s("v-text-field",{staticClass:"pl-3 pt-0",attrs:{"hide-details":"",color:"grey","lighten-4":"","d-inline-flex":"",clearable:""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}},model:{value:e.eventData.primaryColor,callback:function(t){e.$set(e.eventData,"primaryColor",t)},expression:"eventData.primaryColor"}})],1),1==e.showMainPicker?s("v-card",{attrs:{flat:""},model:{value:e.showMainPicker,callback:function(t){e.showMainPicker=t},expression:"showMainPicker"}},[s("v-card-text",{staticClass:"pa-0 ma-0"},[s("v-color-picker",{staticClass:"pa-0 ma-0 mt-2",attrs:{"canvas-height":"75",flat:"",width:"500","hide-inputs":"",mode:"hexa"},model:{value:e.eventData.primaryColor,callback:function(t){e.$set(e.eventData,"primaryColor",t)},expression:"eventData.primaryColor"}})],1),s("v-card-actions",[s("div",{staticClass:"text-center",staticStyle:{width:"100%",display:"inline-flex"}},[s("v-btn",{staticClass:"mx-auto",attrs:{color:"secondary",text:""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}}},[e._v("\n                          Close\n                        ")])],1)])],1):e._e()],1)])],1),s("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[s("v-layout",{attrs:{column:""}},[s("div",{staticClass:"mt-12"},[e._v("\n                  Select button colour scheme\n                  "),s("v-layout",{staticClass:"px-3 mt-0",attrs:{row:""}},[s("v-sheet",{staticClass:"pa-0 ma-0 mt-1",style:e.backgroundButtonColor,attrs:{width:"80",height:"32","d-inline-flex":""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}}}),s("v-text-field",{staticClass:"pl-3 pt-0",attrs:{"hide-details":"",color:"grey","lighten-4":"","d-inline-flex":"",clearable:""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}},model:{value:e.eventData.secondaryColor,callback:function(t){e.$set(e.eventData,"secondaryColor",t)},expression:"eventData.secondaryColor"}})],1),1==e.showButtonPicker?s("v-card",{attrs:{flat:""},model:{value:e.showButtonPicker,callback:function(t){e.showButtonPicker=t},expression:"showButtonPicker"}},[s("v-card-text",{staticClass:"pa-0 ma-0"},[s("v-color-picker",{staticClass:"pa-0 ma-0  mt-2",attrs:{"canvas-height":"75","hide-mode-switch":"","hide-inputs":"",flat:"",width:"500",mode:"hexa"},model:{value:e.eventData.secondaryColor,callback:function(t){e.$set(e.eventData,"secondaryColor",t)},expression:"eventData.secondaryColor"}})],1),s("v-card-actions",[s("div",{staticClass:"text-center",staticStyle:{width:"100%",display:"inline-flex"}},[s("v-btn",{staticClass:"mx-auto",attrs:{color:"secondary",text:""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}}},[e._v("\n                          Close\n                        ")])],1)])],1):e._e(),s("v-btn",{staticClass:"my-6 pa-1 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return t.stopPropagation(),e.previewInvitePage(t)}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-open-in-new")]),s("span",{staticClass:"secondary-text"},[e._v("Preview invite page")])],1)],1)])],1)],1)],1)],1)],1),e.isEventCreated?e._e():s("v-row",{staticClass:"text-center"},[s("v-btn",{staticClass:"m-auto",attrs:{color:"secondary",rounded:""},on:{click:function(t){return t.stopPropagation(),e.saveEvent("eventForm")}}},[e._v("Create Event")])],1),e.isEventCreated?s("v-row",{staticClass:"text-center"},[s("v-btn",{staticClass:"m-auto",attrs:{color:"secondary",rounded:""},on:{click:function(t){return t.stopPropagation(),e.saveEvent("eventForm")}}},[e._v("Save Changes")])],1):e._e()],1),s("v-form",{ref:"bookConferences"},[s("v-layout",{directives:[{name:"show",rawName:"v-show",value:!e.isConferencesBooked&&e.isEventCreated,expression:"!isConferencesBooked && isEventCreated"}],attrs:{"my-6":""}},[s("v-card",{attrs:{width:"100%",elevation:"1",height:"100%"}},[s("v-layout",{attrs:{"align-top":"","justify-start":"","pa-6":"","pb-0":""}},[s("v-flex",{attrs:{sm4:"","px-3":"","text-left":""}},[s("h2",[e._v("Now create your conference schedule")]),s("p",[e._v("\n              Simply select the time of your conferences to create your\n              schedule. Once you have created your conferences for that day\n              you can then start to invite guests to select their preferred\n              time options.\n            ")])]),s("v-flex",{attrs:{sm6:"","px-3":""}},[this.eventSchedule.length>0?s("v-sheet",{staticClass:"elevation-0 pa-3 ",attrs:{color:"white "}},[e._l(e.eventSchedule,function(t,a){return[s("v-row",{key:a,attrs:{justify:"space-around",align:"center"}},[s("v-col",{staticClass:"px-3 py-0 ma-0",attrs:{cols:"3"}},[s("v-text-field",{attrs:{label:"Start Time",color:"secondary",readonly:"",required:""},on:{click:function(a){return e.editStartTime(t)}},model:{value:t.startTime,callback:function(a){e.$set(t,"startTime",a)},expression:"item.startTime"}},[s("v-icon",{attrs:{slot:"prepend",color:"green"},slot:"prepend"},[e._v("access_time")])],1)],1),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"3"}},[s("v-text-field",{attrs:{label:"End Time",color:"secondary",readonly:"",required:""},on:{click:function(a){return e.editEndTime(t)}},model:{value:t.endTime,callback:function(a){e.$set(t,"endTime",a)},expression:"item.endTime"}},[s("v-icon",{attrs:{slot:"prepend",color:"red"},slot:"prepend"},[e._v("access_time")])],1)],1),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[s("span",{staticClass:"primary-text body-2 font-weight-bold"},[e._v("(GMT)")])]),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"3"}},[s("v-btn",{staticClass:" mx-0 my-3 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteConference(a)}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"red",left:""}},[e._v("mdi-close-circle")])],1)],1)],1)]})],2):e._e(),s("v-dialog",{attrs:{"return-value":e.editSchedule.startTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editSchedule,"startTime",t)},"update:return-value":function(t){return e.$set(e.editSchedule,"startTime",t)}},model:{value:e.editmodalStart,callback:function(t){e.editmodalStart=t},expression:"editmodalStart"}},[e.editmodalStart?s("v-time-picker",{attrs:{format:"24hr",max:e.editSchedule.endTime},model:{value:e.editSchedule.startTime,callback:function(t){e.$set(e.editSchedule,"startTime",t)},expression:"editSchedule.startTime"}},[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.editmodalStart=!1}}},[e._v("Cancel")]),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveStartTime(e.editSchedule.startTime)}}},[e._v("OK")])],1):e._e()],1),s("v-dialog",{attrs:{"return-value":e.editSchedule.endTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editSchedule,"endTime",t)},"update:return-value":function(t){return e.$set(e.editSchedule,"endTime",t)}},model:{value:e.editmodalEnd,callback:function(t){e.editmodalEnd=t},expression:"editmodalEnd"}},[e.editmodalEnd?s("v-time-picker",{attrs:{min:e.editSchedule.startTime,format:"24hr"},model:{value:e.editSchedule.endTime,callback:function(t){e.$set(e.editSchedule,"endTime",t)},expression:"editSchedule.endTime"}},[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.editmodalEnd=!1}}},[e._v("Cancel")]),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveEndTime(e.editSchedule.endTime)}}},[e._v("OK")])],1):e._e()],1),s("v-sheet",{staticClass:"elevation-0 px-3 py-0 mb-3 ",attrs:{color:"white lighten-4"}},[this.eventSchedule.length<0?s("v-row",{attrs:{justify:"space-around",align:"center"}},[s("v-col",{staticClass:"pa-3 ma-0",attrs:{cols:"3"}},[s("v-dialog",{ref:"dialogStart",attrs:{"return-value":e.startTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"Start Time","prepend-icon":"access_time",placeholder:"",readonly:"",required:"","hide-details":""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},a))]}}],null,!1,2521636380),model:{value:e.modalStart,callback:function(t){e.modalStart=t},expression:"modalStart"}},[e.modalStart?s("v-time-picker",{attrs:{format:"24hr",max:e.endTime},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modalStart=!1}}},[e._v("Cancel")]),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogStart.save(e.startTime)}}},[e._v("OK")])],1):e._e()],1)],1),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"3"}},[s("v-dialog",{ref:"dialogEnd",attrs:{"return-value":e.endTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"End Time","prepend-icon":"access_time","hide-details":"",placeholder:"",readonly:"",required:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},a))]}}],null,!1,3031662012),model:{value:e.modalEnd,callback:function(t){e.modalEnd=t},expression:"modalEnd"}},[e.modalEnd?s("v-time-picker",{attrs:{min:e.startTime,format:"24hr"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modalEnd=!1}}},[e._v("Cancel")]),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogEnd.save(e.endTime)}}},[e._v("OK")])],1):e._e()],1)],1),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[s("span",{staticClass:"pt-2"},[e._v("GMT")])])],1):e._e(),s("v-row",[s("v-col",{staticClass:"pa-0 ma-0 text-left",attrs:{cols:"12"}},[s("v-btn",{staticClass:"ma-0 px-4 pt-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.addConference(!1)}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),s("span",{staticClass:"secondary-text"},[e._v("Add conference")])],1)],1)],1)],1)],1)],1),this.eventSchedule.length>0?s("v-card-text",[s("v-row",{staticClass:"text-center my-2"},[s("v-btn",{staticClass:"m-auto",attrs:{color:"secondary",rounded:""},on:{click:function(t){return t.stopPropagation(),e.bookConference("bookConferences")}}},[e._v("Book Conferences")])],1)],1):e._e()],1)],1)],1),e.isConferencesBooked?s("v-layout",{attrs:{"my-6":"",column:""}},[s("v-row",{staticClass:"mx-2"},[s("h2",[e._v("Conferences")]),s("p",[e._v("\n        Simply select the time of your conference and click ‘create’ - your\n        conference will then be created. Once you have all your conferences\n        created for that day you can then start to invite guests below who\n        will pick their preferred conference time options.\n      ")])]),e._l(e.conferences,function(t,a){return[s("v-conference-table",{attrs:{conferenceData:t,conferences:e.conferences,iteration:a},on:{"update-conference":e.updateConference,"delete-conference":e.deleteBookedConference}})]})],2):e._e(),s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12"}},[s("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:""},on:{click:function(t){return e.addConference(!0)}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),s("span",{staticClass:"secondary-text"},[e._v("Add conference")])],1)],1)],1),e.isConferencesBooked?s("v-layout",{attrs:{"my-6":"",column:""}},[s("v-row",{staticClass:"mx-2",attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"12"}},[s("h2",[e._v("Holding list")]),s("p",[e._v(" You can add participants to this list temporarily whilst you organise which conference you would like participants allocated to.\n      ")])])],1),e._l(e.holdingList,function(t,a){return[s("v-conference-table",{attrs:{conferenceData:t,conferences:e.conferences,iteration:a}})]}),s("v-row",{staticClass:"mx-2"},[s("v-col",{attrs:{cols:"12"}},[s("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.inviteAttendees()}}},[s("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),s("span",{staticClass:"secondary-text"},[e._v("Add new attendees")])],1)],1)],1)],2):e._e(),s("v-row",[s("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[s("v-btn",{attrs:{text:""},on:{click:function(t){return e.hostConference()}}},[s("v-icon",{staticClass:"mdi-36px",attrs:{left:"",color:"green"}},[e._v("mdi-open-in-new")]),s("span",{staticClass:"green--text display-1 font-weight-bold text-capitalize mx-3"},[e._v("Manage event")])],1),s("div",{staticClass:"green--text py-3"},[e._v("Starts "+e._s(e._f("moment")(e.eventData.eventDate,"DD/MM/YYYY"))+" at "+e._s(e.conferences[0].startTime))])],1)],1),s("v-dialog",{attrs:{width:"600"},model:{value:e.upload,callback:function(t){e.upload=t},expression:"upload"}},[s("v-card",{staticClass:"pa-12 text-center",attrs:{color:"white"}},[s("v-flex",{attrs:{sm12:"",tag:"h2",color:"primary","text-center":""}},[e._v("Upload your own image")]),s("v-card-text",[s("p",[e._v("\n          This will show on your invitees time selection screen (Recommended\n          minimium size w600 x h800 pixels)\n        ")]),s("div",{staticClass:"my-6"},[s("v-file-input",{attrs:{placeholder:"Select","hide-details":"",outlined:"","prepend-icon":"mdi-camera",accept:"image/*",required:""},on:{change:e.onFileChange},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),e.uploadedImage?s("img",{attrs:{src:e.uploadedImage,height:"300",width:"500"}}):e._e()]),s("v-card-actions",{staticClass:"px-10"},[s("v-layout",{attrs:{"justity-space-around":""}},[s("v-flex",[s("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.upload=!1}}},[e._v("Cancel")])],1),s("v-flex",[s("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){t.stopPropagation(),e.upload=!1,e.isSystemImage=!1,e.isUploadImage=!0,e.isNoImage=!1,e.systemImage=""}}},[e._v("\n              Select this image\n            ")])],1)],1)],1)],1)],1),s("v-dialog",{attrs:{width:"600"},model:{value:e.chooser,callback:function(t){e.chooser=t},expression:"chooser"}},[s("v-card",{staticClass:"pa-12 text-center",attrs:{color:"white"}},[s("v-flex",{attrs:{sm12:"",tag:"h3",color:"primary","text-center":""}},[e._v("Choose an image from our gallery")]),s("v-card-text",[s("v-card",{attrs:{flat:"",tile:""}},[s("v-window",{model:{value:e.onboarding,callback:function(t){e.onboarding=t},expression:"onboarding"}},e._l(e.length,function(e){return s("v-window-item",{key:"card-"+e},[s("v-row",{staticClass:"fill-height ma-auto pa-0",attrs:{align:"center",justify:"center",tag:"v-card-text"}},[s("v-img",{attrs:{src:a("7446"),height:"300",width:"550"}})],1)],1)}),1),s("v-card-actions",{staticClass:"justify-space-between"},[s("v-btn",{attrs:{text:""},on:{click:e.prev}},[s("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-chevron-left")])],1),s("v-item-group",{staticClass:"text-center",attrs:{mandatory:""},model:{value:e.onboarding,callback:function(t){e.onboarding=t},expression:"onboarding"}},e._l(e.length,function(t){return s("v-item",{key:"btn-"+t,scopedSlots:e._u([{key:"default",fn:function(t){var a=t.active,n=t.toggle;return[s("v-btn",{staticClass:"ma-auto pa-0",attrs:{"input-value":a,icon:"",small:"",color:"secondary"},on:{click:n}},[s("v-icon",{attrs:{color:"secondary"}},[e._v("mdi-record")])],1)]}}],null,!0)})}),1),s("v-btn",{attrs:{text:""},on:{click:e.next}},[s("v-icon",[e._v("mdi-chevron-right")])],1)],1)],1)],1),s("v-card-actions",{staticClass:"px-10 text-center"},[s("v-layout",{attrs:{"justity-space-around":""}},[s("v-flex",[s("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.chooser=!1}}},[e._v("Cancel")])],1),s("v-flex",[s("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){t.stopPropagation(),e.chooser=!1,e.isSystemImage=!0,e.isUploadImage=!1,e.isNoImage=!1,e.uploadedImage=""}}},[e._v("\n              Select this image\n            ")])],1)],1)],1)],1)],1)],1)},Je=[],Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"my-3 pa-2",attrs:{width:"100%",elevation:"1",height:"100%"}},[a("v-card-text",[e.conferenceData.conferenceID>0?a("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-btn",{staticClass:"title font-weight-bold",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.toggleConference()}}},[e.open?a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-minus")]):e._e(),e.open?e._e():a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus")]),a("span",{staticClass:"primary-text text-capitalize"},[e._v(e._s(e.conferenceData.conferenceTitle))])],1)],1),a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-layout",{staticClass:"justify-center",attrs:{row:"","align-center":"","my-1":"","pa-0":""}},[a("v-row",{attrs:{justify:"space-around",align:"center"}},[a("v-col",{staticClass:"px-3 py-0 ma-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Start Time",color:"secondary",readonly:"","hide-details":"",required:""},on:{click:function(t){return e.editStartTime()}},model:{value:e.conference.startTime,callback:function(t){e.$set(e.conference,"startTime",t)},expression:"conference.startTime"}},[a("v-icon",{attrs:{slot:"prepend",color:"green"},slot:"prepend"},[e._v("access_time")])],1)],1),a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"End Time",color:"secondary","hide-details":"",readonly:"",required:""},on:{click:function(t){return e.editEndTime()}},model:{value:e.conference.endTime,callback:function(t){e.$set(e.conference,"endTime",t)},expression:"conference.endTime"}},[a("v-icon",{attrs:{slot:"prepend",color:"red"},slot:"prepend"},[e._v("access_time")])],1)],1),a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[a("span",[e._v(e._s(e.conference.timeZone))])]),a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}})],1)],1)],1),a("v-flex",{staticClass:"text-right",attrs:{sm4:"","px-3":""}},[a("span",{staticClass:"primary-text font-weight-bold"},[e._v(e._s(1==e.lock?"unlock":"Lock")+" conference")]),a("span",{class:["rounded d-span  pa-1 ml-2 text-cente",1==e.lock?"green":"secondary"],staticStyle:{"border-radius":"20px"},on:{click:function(t){t.stopPropagation(),e.lock=1-e.lock}}},[e.lock?a("v-icon",{staticClass:"mdi-18px ma-auto",attrs:{color:"white",right:""}},[e._v("mdi-lock")]):e._e(),e.lock?e._e():a("v-icon",{staticClass:"mdi-18px ma-auto",attrs:{color:"white",right:""}},[e._v("mdi-lock-open-outline")])],1)])],1):e._e(),e.showConference?a("div",[e.conferenceData.conferenceID>0?a("v-layout",{attrs:{"align-top":"","justify-space-between":""}},[a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Participant Access Code:\n          ")]),e._v("\n          "+e._s(e.conference.PAC)+"\n        ")]),a("v-select",{attrs:{items:[10,20,30,40,50],filled:"",color:"secondary",label:"Maximum particpants in conference"},model:{value:e.conference.maxParticipants,callback:function(t){e.$set(e.conference,"maxParticipants",t)},expression:"conference.maxParticipants"}})],1),a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Host Access Code: ")]),e._v("\n          "+e._s(e.conference.HAC)+"\n        ")]),a("v-select",{attrs:{items:["Yes","No"],filled:"",color:"secondary",label:"Record audio?"}})],1),a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Conference ID: ")]),e._v("\n          "+e._s(e.conference.LBConfID.replace("conf:",""))+"\n        ")])],1)],1):e._e(),a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{ref:"dTable",staticClass:"theme-nrs",attrs:{color:"secondary",headers:e.headers,items:e.attendees,"single-expand":"",expanded:e.expanded,search:e.search,"item-key":"attendeeID","hide-default-footer":"","hide-default-header":"",loading:"false",page:e.page,"items-per-page":e.itemsPerPage,"multi-sort":""},on:{"update:expanded":function(t){e.expanded=t},"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on,i=t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e._l(s.headers,function(t,i){return e.inArray(e.userGroup,t.access)?a("th",{key:i,class:["text-weight-bold primary-text column sortable",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":""],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                      "+e._s(t.text)+"\n\n                      "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right",attrs:{small:"",color:"secondary "}},[e._v("arrow_upward\n                      ")]):e._e()],1):e._e()}),a("th",[a("v-checkbox",{staticClass:"ma-auto pa-0",attrs:{color:"secondary","hide-details":""},nativeOn:{click:function(t){return e.toggleAll()}},model:{value:i,callback:function(e){i=e},expression:"selected"}})],1)],2)])]}},{key:"item",fn:function(t){var s=t.headers,n=t.item,i=t.isExpanded,o=t.isSelected,r=t.expand,l=t.select;return[a("tr",[e.inArray(e.userGroup,s[0].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(n,r,i)}}},[e._v("\n                      "+e._s(n.fullName)+"\n                      "),a("v-icon",{staticClass:"float-right",attrs:{medium:"",color:"secondary"},on:{change:function(t){return e.expandrow(n,r,i)}}},[e._v("\n                        mdi-chevron-down\n                      ")])],1)]):e._e(),e.inArray(e.userGroup,s[1].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.companyName)+"\n                    ")])]):e._e(),e.inArray(e.userGroup,s[2].access)?a("td",{staticClass:"text-xs-right px-0"},[a("div",{staticClass:"datatable-cell-wrapper"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-list-item",e._g({},s),[null==n.allocationStatus||"Unconfirmed"==n.allocationStatus?a("v-list-item-title",[a("v-btn",{attrs:{small:"",color:"green",rounded:"",dark:""},on:{click:function(t){return t.stopPropagation(),e.changeStatus(n,"Confirmed")}}},[e._v("Approve")])],1):e._e(),"Confirmed"==n.allocationStatus?a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"green"}},[e._v("mdi-check-circle-outline")]),a("span",{staticClass:"body-2 green--text"},[e._v("Confirmed")])],1):e._e(),"Confirmation sent"==n.allocationStatus?a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"green"}},[e._v("mdi-check-circle-outline")]),a("span",{staticClass:"body-2 green--text"},[e._v("Confirmation sent")])],1):e._e(),"Requested change"==n.allocationStatus?a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"accent"}},[e._v("mdi-alert-circle-outline")]),a("span",{staticClass:"body-2 accent-text"},[e._v("Requested Change")])],1):e._e(),"Awaiting change"==n.allocationStatus?a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"accent"}},[e._v("mdi-alert-circle-outline")]),a("span",{staticClass:"body-2 accent-text"},[e._v("Awaiting Change")])],1):e._e(),"Unconfirm change"==n.allocationStatus?a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"red"}},[e._v("mdi-alert-circle-outline")]),a("span",{staticClass:"body-2 accent-text"},[e._v("Unconfirm Change")])],1):e._e(),"Cancelled"==n.allocationStatus?a("v-list-item-title",[a("span",{staticClass:"body-2 "},[e._v("Cancelled")])]):e._e(),a("v-icon",{staticClass:"mdi-24px float-right",attrs:{color:"secondary"}},[e._v("mdi-chevron-down")])],1)]}}],null,!0)},[a("span",[a("v-list",{attrs:{dense:""}},[a("v-list-item",{on:{click:function(t){return e.changeStatus(n,"Confirmed")}}},[a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"green"}},[e._v("mdi-check-circle-outline")]),a("span",{staticClass:"green--text"},[e._v("Confirmed")])],1)],1),a("v-list-item",{on:{click:function(t){return e.changeStatus(n,"Confirmation sent")}}},[a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"green"}},[e._v("mdi-check-circle-outline")]),a("span",{staticClass:"green--text"},[e._v("Confirmation sent")])],1)],1),a("v-list-item",{on:{click:function(t){return e.changeStatus(n,"Requested change")}}},[a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"accent"}},[e._v("mdi-alert-circle-outline")]),a("span",{staticClass:"accent-text"},[e._v("Requested Change")])],1)],1),a("v-list-item",{on:{click:function(t){return e.changeStatus(n,"Awaiting change")}}},[a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"accent"}},[e._v("mdi-alert-circle-outline")]),a("span",{staticClass:"accent-text"},[e._v("Awaiting Change")])],1)],1),a("v-list-item",{on:{click:function(t){return e.changeStatus(n,"Unconfirmed")}}},[a("v-list-item-title",[a("v-icon",{staticClass:"mdi-24px",attrs:{left:"",color:"red"}},[e._v("mdi-alert-circle-outline")]),a("span",{staticClass:"accent-text"},[e._v("Unconfirm")])],1)],1),a("v-list-item",{on:{click:function(t){return e.changeStatus(n,"Cancelled")}}},[a("v-list-item-title",[a("span",[e._v("Cancelled")])])],1)],1)],1)])],1)]):e._e(),e.inArray(e.userGroup,s[3].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e.lock?e._e():a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{color:"grey light-4",small:"",rounded:"",dark:""}},s),[e._v("Move\n                          "),a("v-icon",{staticClass:"mdi-24px",attrs:{color:"white"}},[e._v("mdi-chevron-down")])],1)]}}],null,!0)},[a("span",[a("v-list",{attrs:{dense:""}},[e._l(e.conferences,function(t,s){return[a("v-list-item",{on:{click:function(a){return e.moveToConference(n,t.conferenceID)}}},[a("v-list-item-title",[e._v("Conference "+e._s(s+1)+"\n                                "),n.firstChoice==t.conferenceID?a("span",{staticClass:"px-3"},[e._v("(1st)")]):e._e(),n.secondChoice==t.conferenceID?a("span",{staticClass:"px-3"},[e._v("(2nd)")]):e._e(),n.thirdChoice==t.conferenceID?a("span",{staticClass:"px-3"},[e._v("(3rd)")]):e._e()])],1)]}),e.conferenceData.conferenceID>0?a("v-divider",{staticClass:"ma-0 pa-0"}):e._e(),e.conferenceData.conferenceID>0?a("v-list-item",{on:{click:function(t){return e.moveToConference(n,-1)}}},[a("v-list-item-title",[e._v("Holding list\n                            ")])],1):e._e()],2)],1)])],1)]):e._e(),e.inArray(e.userGroup,s[1].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.PIN)+"\n                    ")])]):e._e(),e.inArray(e.userGroup,s[4].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[n.firstChoiceTIME?a("v-chip",{staticClass:"caption  mx-1",attrs:{color:n.firstChoice==n.conferenceID?"accent":"secondary",dark:"",pill:"",small:""}},[e._v(e._s(n.firstChoiceTIME.split(" ")[0]))]):e._e(),n.secondChoiceTIME?a("v-chip",{staticClass:"caption  mx-1",attrs:{color:n.secondChoice==n.conferenceID?"accent":"secondary",dark:"",pill:"",small:""}},[e._v(e._s(n.secondChoiceTIME.split(" ")[0]))]):e._e(),n.thirdChoiceTIME?a("v-chip",{staticClass:"caption  mx-1",attrs:{color:n.thirdChoice==n.conferenceID?"accent":"secondary",dark:"",pill:"",small:""}},[e._v(e._s(n.thirdChoiceTIME.split(" ")[0]))]):e._e()],1)]):e._e(),e.inArray(e.userGroup,s[5].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.invitedBy.fullName)+"\n                      "),n.invitedBy.fullName?a("v-icon",{staticClass:"mdi-24px float-right",attrs:{color:"secondary",left:""},on:{click:function(t){return t.stopPropagation(),e.getInvitedBy(n.invitedBy)}}},[e._v("mdi-open-in-new\n                      ")]):e._e()],1)]):e._e(),e.inArray(e.userGroup,s[6].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.priority)+"\n                    ")])]):e._e(),e.inArray(e.userGroup,s[7].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.attendeeID)+"\n                    ")])]):e._e(),a("td",[a("v-checkbox",{staticClass:"ma-auto pa-0",attrs:{color:"secondary","hide-details":"","input-value":o},on:{change:function(e){return l(1-o)}}})],1)])]}},{key:"expanded-item",fn:function(t){t.item;var s=t.headers;t.isSelected,t.expand;return[a("td",{staticClass:"pa-0 ma-0",attrs:{colspan:s.length+1}},[a("v-card",{staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-form",{ref:"entryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Firstname",rules:e.nameRules,required:""},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",label:"Last name",rules:e.nameRules,required:""},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("v-text-field",{attrs:{filled:"",label:"Company",rules:e.nameRules,required:""},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{items:["+44","+33"],hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1),a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",label:"Phone",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:["High","Medium","Low"],filled:"",label:"Priority (optional)",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.priority,callback:function(t){e.$set(e.editedItem,"priority",t)},expression:"editedItem.priority"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeRow()}}},[e._v("Cancel\n                        ")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("entryForm")}}},[e._v("Save\n                        ")])],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"}},[e._v("Load Attendees")])]},proxy:!0}],null,!1,3916198931),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","ma-0":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[a("span",{staticClass:"select d-inline-block mr-6",staticStyle:{"white-space":"nowrap"}},[a("v-select",{attrs:{color:"success",id:"page-size",items:e.pagesizes,height:"24","hide-details":"","menu-props":"auto"},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Show")]),a("label",{attrs:{slot:"append-outer"},slot:"append-outer"},[e._v("Entries")])])],1),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtPrevious()}}},[a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",left:""}},[e._v("mdi-less-than")]),e._v("\n                  Previous\n                ")],1),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary"}},[e._v("mdi-power-on")]),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtNext()}}},[e._v("Next\n                  "),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",right:""}},[e._v("mdi-greater-than")])],1),a("v-layout",{attrs:{"pa-0":"","ma-0":""}},[a("div",{staticClass:"test-header body-1"},[e._v("\n                    Showing\n                    "),a("span",{attrs:{id:"starting"}},[e._v(e._s(e.starting))]),e._v(" to\n                    "),a("span",{attrs:{id:"ending"}},[e._v(e._s(e.ending))]),e._v(" of\n                    "),a("span",{attrs:{id:"total"}},[e._v(e._s(e.total))]),e._v("\n                    entries\n                  ")])])],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("span",{staticClass:"d-inline-block mr-3 mt-3",staticStyle:{"white-space":"nowrap"}},[a("v-text-field",{staticClass:"pa-0",attrs:{"hide-details":"",id:"qsearch",label:"Name, company or email",outlined:"",name:"filter",type:"text",height:"45","min-height":"45",readonly:e.readonly},on:{click:function(t){e.readonly=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Search")])])],1)])],1),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","mx-0":"","my-3":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[e.conferenceData.conferenceID>0?a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:""},on:{click:function(t){return e.deleteConference()}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"accent",left:""}},[e._v("mdi-close-circle")]),a("span",{staticClass:"accent-text"},[e._v("Delete conference")])],1):e._e()],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{color:"secondary",rounded:"",dark:""}},s),[e._v("Options\n                    "),a("v-icon",{staticClass:"mdi-24px",attrs:{color:"white"}},[e._v("mdi-chevron-down")])],1)]}}],null,!1,1417580147)},[a("span",[a("v-list",{attrs:{dense:""}},[e.conferenceData.conferenceID>0&&!e.lock?a("v-list-item",{on:{click:function(t){return e.approveSelected()}}},[a("v-list-item-title",[e._v("Approve")])],1):e._e(),e.conferenceData.conferenceID>0&&e.lock?a("v-list-item",{on:{click:function(t){return e.sendConfirmations()}}},[a("v-list-item-title",[e._v("Send confirmations")])],1):e._e(),e.conferenceData.conferenceID>0&&e.lock?a("v-list-item",{on:{click:function(t){return e.sendUpdates()}}},[a("v-list-item-title",[e._v("Send updates only")])],1):e._e(),e.conferenceData.conferenceID>0&&!e.lock?a("v-list-item",{on:{click:function(t){return e.unconfirmAllocation()}}},[a("v-list-item-title",[e._v("Unconfirm allocation")])],1):e._e(),e.conferenceData.conferenceID>0&&!e.lock?a("v-list-item",{on:{click:function(t){return e.moveToHoldingList()}}},[a("v-list-item-title",[e._v("Move to holding list")])],1):e._e(),e.conferenceData.conferenceID>0&&!e.lock?a("v-divider",{staticClass:"ma-0 pa-0"}):e._e(),e.lock?e._e():a("v-list-item",{on:{click:function(t){return e.deleteSelectedAttendees()}}},[a("v-list-item-title",[e._v("Delete participant")])],1)],1)],1)])],1)],1)],1)],1)],1)],1)],1):e._e()],1),a("v-dialog",{attrs:{"return-value":e.editTime.startTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editTime,"startTime",t)},"update:return-value":function(t){return e.$set(e.editTime,"startTime",t)}},model:{value:e.editmodalStart,callback:function(t){e.editmodalStart=t},expression:"editmodalStart"}},[e.editmodalStart?a("v-time-picker",{attrs:{format:"24hr",max:e.editTime.endTime},model:{value:e.editTime.startTime,callback:function(t){e.$set(e.editTime,"startTime",t)},expression:"editTime.startTime"}},[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.editmodalStart=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveStartTime(e.editTime.startTime)}}},[e._v("OK")])],1):e._e()],1),a("v-dialog",{attrs:{"return-value":e.editTime.endTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editTime,"endTime",t)},"update:return-value":function(t){return e.$set(e.editTime,"endTime",t)}},model:{value:e.editmodalEnd,callback:function(t){e.editmodalEnd=t},expression:"editmodalEnd"}},[e.editmodalEnd?a("v-time-picker",{attrs:{min:e.editTime.startTime,format:"24hr"},model:{value:e.editTime.endTime,callback:function(t){e.$set(e.editTime,"endTime",t)},expression:"editTime.endTime"}},[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.editmodalEnd=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.saveEndTime(e.editTime.endTime)}}},[e._v("OK")])],1):e._e()],1),a("v-dialog",{attrs:{width:"800"},model:{value:e.showInvitedBy,callback:function(t){e.showInvitedBy=t},expression:"showInvitedBy"}},[a("v-card",{staticClass:"text-center",attrs:{color:"white"}},[a("v-toolbar",{attrs:{dark:"",color:"secondary",elevation:"0"}},[a("v-toolbar-title",{staticClass:"text-center ma-auto"},[e._v("Invited by ...")])],1),a("v-card-text",[a("v-simple-table",{staticClass:"theme-nrs mt-6"},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Full Name")]),a("th",{staticClass:"text-left"},[e._v("Company")]),a("th",{staticClass:"text-left"},[e._v("Phone")]),a("th",{staticClass:"text-left"},[e._v("Email")])])]),a("tbody",[a("tr",[a("td",[e._v(e._s(e.invitedBy.fullName))]),a("td",[e._v(e._s(e.invitedBy.companyName))]),a("td",[e._v(e._s(e.invitedBy.areaCode)+" "+e._s(e.invitedBy.contactNumber))]),a("td",[e._v(e._s(e.invitedBy.emailAddress))])])])])],1),a("v-card-actions",{staticClass:"px-10 pb-6 text-center"},[a("v-layout",{attrs:{"justity-center":""}},[a("v-flex",[a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showInvitedBy=!1}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-close")]),e._v("\n              Close\n            ")],1)],1)],1)],1)],1)],1)],1),a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:e.onError,callback:function(t){e.onError=t},expression:"onError"}},[e._v(e._s(e.errorMessage))])],1)},Xe=[],et={name:"ConferenceTable",props:{conferenceData:{type:Object,required:!0},conferences:{type:Array,required:!0},iteration:{type:Number,required:!0}},data:()=>({showInvitedBy:!1,readonly:!1,all:!1,valid:!1,open:!1,lock:!1,start:null,end:null,timeStart:null,menuStart:!1,timeEnd:null,menuEnd:!1,startTime:"",endTime:"",time:null,menu2:!1,modalStart:!1,modalEnd:!1,editmodalEnd:!1,editmodalStart:!1,editSchedule:{startTime:"",endTime:"",duration:""},pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,search:"",nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],attendees:[],expanded:[],selected:[],editTime:{startTime:"",endTime:"",duration:""},headers:[{text:"Name",align:"left",sortable:!0,value:"fullName",sortDescending:"desc",access:[1,2,3,4]},{text:"Company",value:"companyName",sortable:!0,access:[1,2,3,4]},{text:"Allocation Status",value:"allocationStatus",sortable:!0,access:[1,2,3,4]},{text:"Move",sortable:!1,access:[1,2,3,4]},{text:"PIN",value:"PIN",sortable:!1,access:[1,2,3,4]},{text:"Time Slots",sortable:!1,access:[1,2,3,4]},{text:"Invited by",value:"invitedBy",sortable:!0,access:[1,2,3,4]},{text:"Priority",value:"priority",sortable:!0,access:[1,2,3,4]},{text:"attendeeID",value:"attendeeID",sortable:!0,access:[1,2]}],invitedBy:{fullName:"",companyName:"",areaCode:"",contactNumber:"",emailAddress:""},editedIndex:-1,editedItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"},defaultItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"}}),computed:{onError:function(){return!0===this.conference.onError},errorMessage:function(){return this.conference.errorMessage},showConference:function(){return this.conferenceData.conferenceID<0||this.open},curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},conference:function(){return Object.assign({},this.conferenceData)},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return Math.min(this.page*this.itemsPerPage+1,this.attendees.length)},total:function(){return this.attendees.length},minutes:function(){var e,t=[];for(e=0;e<60;e+=15)t.push(e.toString().padStart(2,"0"));return t},hours:function(){var e,t=[];for(e=0;e<24;e++)t.push(e.toString().padStart(2,"0"));return t},eventData:function(){return this.$store.state.editEventData}},beforeMount(){let e=this.conference.eventID,t=this.conference.conferenceID;console.log("Getting Attendees for "+t);const a=Object.assign({},this.conference);this.editSchedule=a,axios({url:"http://netroadshow.incommglobalevents.com/api/attendees.php",data:{eventID:e,conferenceID:t},method:"POST"}).then(e=>{console.log("Got Attendees for "+t),this.attendees=e.data,console.log(e)}).catch(e=>{console.log("Attendees retrieval error"+e)})},mounted(){this.$root.$on("updateAttendeeList",e=>{"MOVE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT MOVE "+e.CID),console.log(e),this.attendees.push(e.attendee)),"UPDATE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT LIST UPDATE "+e.CID),console.log(e),this.attendees=e.attendeeList)}),this.$root.$on("updateConference",e=>{"UPDATE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT CONFERENCE UPDATESTARTTIME "+e.CID),console.log(e),this.conference=e.conference)})},methods:{exportSelectedAttendees(){const e=this.selected.map(e=>Object.keys(e).reduce((t,a)=>"invitedBy"!=a&&"allocationStatus"!=a&&"firstChoice"!=a&&"firstChoiceTIME"!=a&&"secondChoice"!=a&&"secondChoiceTIME"!=a&&"thirdChoice"!=a&&"thirdChoiceTIME"!=a&&"invitationAccepted"!=a&&"attended"!=a&&"fullName"!=a?{...t,[a]:e[a]}:t,{}));console.log(e),this.csvExport(e)},approveSelected(){console.log("CONFIRM SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to send approve items?")&&this.selected.forEach(function(a){e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.changeStatus(a,"Confirmed")}):alert("Please make a selection first!"),this.selected=[]},sendConfirmations(){console.log("SENDING INVITIONS SELECTION");let e=this.$store.state.token;const t=this,a=[];this.selected.length>0?(confirm("Are you sure you want to send confirmations for these items?")&&this.selected.forEach(function(e){const s=t.attendees.indexOf(e);console.log(e),a.push({attendeeID:e.attendeeID}),t.attendees[s].invited="Yes",t.changeStatus(e,"Confirmation sent")}),a.length>0&&(console.log("Committing change to DB"),console.log(a),axios({url:"http://netroadshow.incommglobalevents.com/api/send-confirmations.php",data:{inviteList:a,token:e},method:"POST"}).then(e=>{console.log("Confirmation Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Confirmation error"+e)}))):alert("Please make a selection first!")},sendUpdates(){console.log("update SELECTION");let e=this.$store.state.token;const t=this,a=[];this.selected.length>0?(confirm("Are you sure you want to send updates for these items?")&&this.selected.forEach(function(e){const s=t.attendees.indexOf(e);console.log(e),a.push({attendeeID:e.attendeeID}),t.attendees[s].invited="Yes",t.changeStatus(e,"Confirmation sent")}),a.length>0&&(console.log("Committing change to DB"),console.log(a),axios({url:"http://netroadshow.incommglobalevents.com/api/send-updates.php",data:{inviteList:a,token:e},method:"POST"}).then(e=>{console.log("Confirmation Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Confirmation error"+e)}))):alert("Please make a selection first!")},unconfirmAllocation(){console.log("UNCONFIRM SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to unconfirm these items?")&&this.selected.forEach(function(a){e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.changeStatus(a,"Unconfirmed")}):alert("Please make a selection first!"),this.selected=[]},moveToHoldingList(){console.log("MOVE SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to move these items?")&&this.selected.forEach(function(a){const s=e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.attendees.splice(s,1),e.moveToConference(a,-1)}):alert("Please make a selection first!"),this.selected=[]},deleteConference(e){console.log("DELETING CONFERENCE"),this.$emit("delete-conference",this.iteration)},deleteSelectedAttendees(){console.log("DELETING SELECTION");const e=this,t=[];this.selected.length>0?(confirm("Are you sure you want to delete these items?")&&this.selected.forEach(function(a){const s=e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.attendees.splice(s,1)}),t.length>0&&(console.log("Committing chage to DB"),console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_attendees.php",data:{forDeletion:t},method:"POST"}).then(e=>{console.log("Deletion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Deletion error"+e)})),this.selected=[]):alert("Please make a selection first!")},csvExport(e){let t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n").replace(/(^\[)|(\]$)/gm,"");const a=encodeURI(t),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","export.csv"),s.click()},updateConference(){let e=[this.conference],t=this.eventData;this.$store.dispatch("bookConferences",{eventSchedule:e,eventData:t}).then(e=>{console.log(e),this.editSchedule=e.data}).catch(e=>console.log(e))},closeRow(){this.$set(this.$refs.dTable.expanded,0,!1)},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.attendees.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.editedIndex=this.events.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},toggleConference(){console.log(this.open),this.open=1-this.open},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){console.log(this.selection)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),console.log(this.$refs),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.editedIndex=this.attendees.indexOf(e),this.editedItem=Object.assign({},e)),t(1-a)},editStartTime(){this.editTime=Object.assign({},this.conference),this.editmodalStart=!0},saveStartTime(e){this.conference.startTime=e;var t=this.$moment("12-25-1995 "+this.conference.startTime,"MM-DD-YYYY HH:mm"),a=this.$moment("12-25-1995 "+this.conference.endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));this.conference.duration=s;const n=Object.assign({},this.conference);n.startTime=e,n.duration=s,this.$emit("update-conference",this.iteration,n),this.editmodalStart=!1},editEndTime(){this.editTime=Object.assign({},this.conference),this.editmodalEnd=!0},saveEndTime(e){console.log(e),this.conference.endTime=e;var t=this.$moment("12-25-1995 "+this.conference.startTime,"MM-DD-YYYY HH:mm"),a=this.$moment("12-25-1995 "+this.conference.endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));this.conference.duration=s;const n=Object.assign({},this.conference);n.endTime=e,n.duration=s,this.$emit("update-conference",this.iteration,n),this.editmodalEnd=!1},save(e){let t=this.$refs[e].validate();if(console.log(t),console.log("For Event:"+this.conferenceData.eventID),t){let t=this.editedItem;""==t.eventID&&(t.eventID=this.conferenceData.eventID),t.fullName=t.firstName+" "+t.lastName,this.$store.dispatch("saveAttendee",{attendeeData:t}).then(t=>{console.log(t),this.editedItem.attendeeID=t.data,this.editedIndex>-1?Object.assign(this.attendees[this.editedIndex],this.editedItem):this.attendees.push(this.editedItem),this.$root.$emit("updateAttendeeList",{action:"UPDATE",attendeeList:this.attendees,CID:this.conferenceData.conferenceID}),this.showNewItem=!1,this.$refs[e].resetValidation(),this.closeRow()}).catch(e=>console.log(e))}},moveToConference(e,t){const a=this.attendees.indexOf(e);console.log(a),console.log(e),console.log(t),t!=this.conferenceData.conferenceID&&(this.attendees.splice(a,1),e.allocationStatus="Unconfirmed",e.conferenceID=t,this.DBsaveAttendee(e),this.$root.$emit("updateAttendeeList",{action:"MOVE",attendee:e,CID:t}))},changeStatus(e,t){const a=this.attendees.indexOf(e);console.log(a),console.log(e),e.allocationStatus=t,this.DBsaveAttendee(e),this.$root.$emit("updateAttendeeList",{action:"UPDATE",attendeeList:this.attendees,CID:this.conferenceData.conferenceID})},DBsaveAttendee(e){let t=e;this.$store.dispatch("saveAttendee",{attendeeData:t}).then(e=>{console.log(e)}).catch(e=>console.log(e))},getInvitedBy(e){console.log(e.fullName),this.invitedBy=Object.assign({},e),console.log(this.invitedBy),this.showInvitedBy=!0},getIndexValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return s},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},tt=et,at=a("169a9"),st=a("c964"),nt=a("71d9"),it=a("2a7f"),ot=Object(h["a"])(tt,Qe,Xe,!1,null,"704f27a0",null),rt=ot.exports;p()(ot,{VAlert:H["a"],VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCheckbox:Ce["a"],VChip:be["a"],VCol:_e["a"],VContainer:y["a"],VDataTable:we["a"],VDialog:at["a"],VDivider:b["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VRow:ke["a"],VSelect:N["a"],VSimpleTable:Ye["a"],VSpacer:Z["a"],VTextField:W["a"],VTimePicker:st["b"],VToolbar:nt["a"],VToolbarTitle:it["a"]});var lt=a("14b7"),ct={name:"App",components:{"v-conference-table":rt},data:()=>({event:[],showhelp:!1,readonly:!0,loading:!1,drawerRight:!1,companyBranding:!0,upload:!1,chooser:!1,isNoImage:!0,isSystemImage:!1,isUploadImage:!1,items:[],onError:!1,errorMessage:"Error Message",logo:null,uploadedImage:"",systemImage:"",timeStart:null,menuStart:!1,timeEnd:null,menuEnd:!1,startTime:"",endTime:"",time:null,menu2:!1,modalStart:!1,modalEnd:!1,selected:[{eventID:""}],newuser:!1,search:"",speaker:"",length:8,onboarding:0,file:null,valid:!1,titleRules:[e=>!!e||"This is required",e=>e&&e.length<=255||"Must be less than 255 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],showMainPicker:!1,showButtonPicker:!1,eventScheduler:!1,bookConferences:!1,eventDatepick:!1,eventDate:(new Date).toISOString().substr(0,10),conferencesMade:!1,eventSchedule:[],dialog:!1,showInvitedBy:!1,attendees:[],conferences:[{conferenceID:"",eventID:"",eventTimeUK:"",startTime:"",endTime:"",duration:"",timeZone:"",conferenceLock:"",PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:"",expanded:0}],editmodalEnd:!1,editmodalStart:!1,editScheduleIndex:-1,editSchedule:[{startTime:"",endTime:"",duration:""}],editedIndex:-1,eventData:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:"",useCompanyBranding:!0},defaultItem:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:"",useCompanyBranding:!0}}),computed:{holdingList(){let e=[{conferenceID:"-1",eventID:this.eventData.eventID,eventTimeUK:"",startTime:"",endTime:"",duration:"",timeZone:"",conferenceLock:"",PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:"",expanded:0}];return e},curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},clientID:function(){return this.$store.state.clientID},backgroundMainColor:function(){return"background:"+this.eventData.primaryColor},backgroundButtonColor:function(){return"background:"+this.eventData.secondaryColor},minutes:function(){var e,t=[];for(e=0;e<60;e+=15)t.push(e.toString().padStart(2,"0"));return t},hours:function(){var e,t=[];for(e=0;e<24;e++)t.push(e.toString().padStart(2,"0"));return t},copy_url:function(){let e=this.eventData.eventID,t=8;var a=lt.sign({eventID:e,attendeeID:t},"nrs-1234");return console.log(e),console.log(a),"/timeselect/?e="+a},isEventCreated:function(){return console.log("EID"+this.eventData.eventID),""!=this.eventData.eventID},isConferencesBooked:function(){return console.log("Conferences:"+this.conferences.length),this.conferences.length>0&&""!=this.conferences[0].conferenceID}},created(){this.initialize()},beforeMount(){},watch:{isSystemImage(e){this.systemImage=0==e?"":"/assets/images/login_splash.jpg"},isUploadImage(e){0==e&&(this.uploadImage="")}},methods:{initialize(){console.log("Initislaise with");let e=[];Object.assign(e,this.$store.state.editEventData);let t=[];console.log("Event Data"),console.log(e),e.hasOwnProperty("eventID")?(Object.assign(this.eventData,e),this.eventData.eventImage?(this.uploadedImage=this.eventData.eventImage,this.isUploadImage=!0,this.isSystemImage=!1,this.isNoImage=!1,this.systemImage=""):(this.systemImage="",this.uploadImage="",this.isNoImage=!0),Object.assign(t,this.$store.state.conferenceData),Object.assign(this.eventSchedule,t),Object.assign(this.conferences,t),this.setAutoConferenceTimes(),console.log(this.eventData),console.log("EventData Retrieved Successfully")):(Object.assign(this.eventData,this.defaultItem),console.log(this.eventData),console.log("EventData Initialised Successfully"))},inviteAttendees:function(){this.$router.push("/attendees")},previewInvitePage:function(){let e=16;var t=lt.sign({event:e},"nrs-1234");console.log(e),console.log(t);let a=lt.verify(t,"nrs-1234");console.log(a),window.open(this.copy_url,"_blank")},bookConference(e,t=!0){let a=this.$refs[e].validate();if(console.log("BOOKING"),console.log(a),a){let t=this.eventSchedule,a=this.eventData;this.$store.dispatch("bookConferences",{eventSchedule:t,eventData:a}).then(t=>{console.log(t),this.eventSchedule=t.data,this.conferences=t.data,console.log(this.isConferencesBooked),this.setAutoConferenceTimes(),this.$refs[e].resetValidation()}).catch(e=>{console.log("ERROR"),console.log(e),this.onError=!0,this.errorMessage=e.data.status})}},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.conferences.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.editedIndex=this.events.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){const t=this.events.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.events.splice(t,1)},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},toggleAll(){this.selected.length?this.selected=[]:this.selected=this.events.slice(),console.log(this.selected)},showSelected(e){this.selected[e.userID]?this.selected[e.userID]=null:this.selected[e.userID]=e,console.log(this.selected)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.editedIndex=this.events.indexOf(e),this.editedItem=Object.assign({},e)),t(1-a)},saveEvent(e){this.addSpeaker();let t=this.$refs[e].validate();if(this.eventData.userID=this.userID,this.eventData.companyID=this.clientID,console.log(t),t){let t=this.eventData;this.$store.dispatch("saveEvent",{eventData:t}).then(t=>{console.log(t),this.eventData.eventID=t.data,this.eventScheduler=!0,console.log(this.eventScheduler),this.$refs[e].resetValidation()}).catch(e=>console.log(e))}},onFileChange(){let e=new FileReader;e.onload=()=>{this.eventData.eventImage=e.result,this.uploadedImage=this.eventData.eventImage},this.file&&e.readAsDataURL(this.file)},onLogoChange(){let e=new FileReader;e.onload=()=>{this.eventData.logoOverride=e.result},this.logo&&e.readAsDataURL(this.logo)},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1},next(){this.onboarding=this.onboarding+1===this.length?0:this.onboarding+1},prev(){this.onboarding=this.onboarding-1<0?this.length-1:this.onboarding-1},hostConference(){this.$router.push("/viewer")},addConference(e){console.log(this.$moment().format("dddd, MMMM Do YYYY HH:mm:ss")),""==this.startTime&&(console.log("Making up an Start Time"),this.startTime=this.$moment().startOf("hour").format("HH:mm"));var t=this.$moment("12-25-1995 "+this.startTime,"MM-DD-YYYY HH:mm");""==this.endTime&&(console.log("Making up an End Time"),this.endTime=t.add(30,"minutes").format("HH:mm"));var a=this.$moment("12-25-1995 "+this.endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));if(console.log(this.startTime),console.log(this.endTime),console.log(s),this.eventSchedule.push({startTime:this.startTime,endTime:this.endTime,duration:s,modalStart:!1,modalEnd:!1,conferenceID:"",eventID:"",eventTimeUK:"",timeZone:"",conferenceLock:"",conferenceTitle:"Conference "+(this.eventSchedule.length+1),PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:""}),e){let e=this.eventSchedule,t=this.eventData;this.$store.dispatch("bookConferences",{eventSchedule:e,eventData:t}).then(e=>{console.log(e),this.eventSchedule=e.data,this.conferences=e.data,console.log(this.isConferencesBooked)}).catch(e=>console.log(e))}this.setAutoConferenceTimes()},deleteConference(e){this.eventSchedule.splice(e,1)},editStartTime(e){this.editScheduleIndex=this.eventSchedule.indexOf(e),this.editSchedule=Object.assign({},e),this.editmodalStart=!0},saveStartTime(e){if(this.editScheduleIndex>-1){this.eventSchedule[this.editScheduleIndex].startTime=e;var t=this.$moment("12-25-1995 "+this.eventSchedule[this.editScheduleIndex].startTime,"MM-DD-YYYY HH:mm"),a=this.$moment("12-25-1995 "+this.eventSchedule[this.editScheduleIndex].endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));this.eventSchedule[this.editScheduleIndex].duration=s;var n=this.$moment("12-25-1995 "+this.eventSchedule[this.eventSchedule.length-1].endTime,"MM-DD-YYYY HH:mm");this.startTime=this.eventSchedule[this.eventSchedule.length-1].endTime,this.endTime=n.add(this.eventSchedule[this.eventSchedule.length-1].duration).format("HH:mm")}this.editmodalStart=!1,this.editSchedule.startTime="",this.editScheduleIndex=-1},editEndTime(e){this.editScheduleIndex=this.eventSchedule.indexOf(e),this.editSchedule=Object.assign({},e),this.editmodalEnd=!0},saveEndTime(e){if(this.editScheduleIndex>-1){this.eventSchedule[this.editScheduleIndex].endTime=e;var t=this.$moment("12-25-1995 "+this.eventSchedule[this.editScheduleIndex].startTime,"MM-DD-YYYY HH:mm"),a=this.$moment("12-25-1995 "+this.eventSchedule[this.editScheduleIndex].endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));this.eventSchedule[this.editScheduleIndex].duration=s,this.setAutoConferenceTimes()}this.editmodalEnd=!1,this.editSchedule.endTime="",this.editScheduleIndex=-1},setAutoConferenceTimes(){var e=this.$moment("12-25-1995 "+this.eventSchedule[this.eventSchedule.length-1].startTime,"MM-DD-YYYY HH:mm"),t=this.$moment("12-25-1995 "+this.eventSchedule[this.eventSchedule.length-1].endTime,"MM-DD-YYYY HH:mm"),a=this.$moment.duration(t.diff(e));console.log("LastStart:"+e),console.log("LastEnd:"+t),console.log("LastDuration:"+a),console.log(this.eventSchedule[this.eventSchedule.length-1].duration),this.startTime=this.eventSchedule[this.eventSchedule.length-1].endTime,this.endTime=t.add(a).format("HH:mm")},addSpeaker(){""!=this.speaker&&(this.eventData.speakers.push(this.speaker),this.$store.commit("editEvent",this.eventData)),this.speaker=""},deleteSpeaker(e){this.eventData.speakers.splice(e,1)},deleteBookedConference:function(e){const t=this,a=[];confirm("Are you sure you want to delete this item?")&&a.push({conferenceID:this.conferences[e].conferenceID}),a.length>0&&(console.log("Committing chage to DB"),console.log(a),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_conference.php",data:{forDeletion:a},method:"POST"}).then(a=>{console.log("Deletion Successful"),console.log(a),t.conferences.splice(e,1);let s=this.conferences;this.$store.commit("stashConferences",s)}).catch(e=>{console.log("Deletion error"+e)}))},updateConference:function(e,t){console.log("New Data"),console.log(t),this.conferences[e]=t,this.conferences[e].requestUpdate=!0,this.setAutoConferenceTimes();let a=this.conferences,s=this.eventData;this.$store.dispatch("bookConferences",{eventSchedule:a,eventData:s}).then(e=>{console.log("OK"),console.log(e),this.conferences=e.data}).catch(e=>{console.log("ERROR"),console.log(e),this.onError=!0,this.errorMessage=e.data.status})}}},dt=ct,mt=(a("9bb7"),a("03a4")),ut=a("2e4b"),ht=a("23a7"),vt=a("d903"),pt=a("604c"),ft=a("8dd9"),gt=a("f665"),xt=a("1e6c"),yt=Object(h["a"])(dt,We,Je,!1,null,null,null),Ct=yt.exports;p()(yt,{VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCardTitle:ye["c"],VChip:be["a"],VCol:_e["a"],VColorPicker:mt["a"],VContainer:y["a"],VDatePicker:ut["a"],VDialog:at["a"],VFileInput:ht["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VImg:K["a"],VItem:vt["a"],VItemGroup:pt["b"],VLayout:k["a"],VListItem:S["a"],VMenu:E["a"],VRow:ke["a"],VSheet:ft["a"],VSwitch:ze["a"],VTextField:W["a"],VTimePicker:st["b"],VWindow:gt["a"],VWindowItem:xt["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h2",[e._v(e._s(e.eventData.eventTitle))]),a("p",[a("strong",[e._v("Speakers:")]),e._l(e.eventData.speakers,function(t,s){return a("span",{key:s},[[e._v("\n            "+e._s(t)),s!=e.eventData.speakers.length-1?a("span",[e._v(",")]):e._e()]],2)})],2)])],1),a("v-row",[a("v-col",{attrs:{col:"4"}},[a("v-card",{attrs:{color:"accent",dark:"",height:"100%"}},[a("v-card-title",[e._v("\n          Don't forget!\n        ")]),a("v-card-text",[a("h4",[e._v("Have you uploaded your presentation slides?")]),a("v-btn",{staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){e.newuser=!0}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"white",left:""}},[e._v("mdi-open-in-new")]),e._v("\n            Upload now\n          ")],1)],1)],1)],1),a("v-col",{attrs:{col:"4"}},[a("v-card",{attrs:{color:"primary",dark:"",height:"100%"}},[a("v-card-title",[e._v("\n          Request invite suggestions\n        ")]),a("v-card-text",[a("p",[e._v("\n            Should you require support during an event, please contact our\n            "),a("strong",[e._v("Customer Service Team")]),e._v(" on UK\n            "),a("strong",[e._v("0800 138 2636")]),e._v(", overseas\n            "),a("strong",[e._v("+44 2380 201 275")]),e._v(" or email\n            "),a("a",{attrs:{href:"mailto:service@incommglobal.com"}},[e._v("service@incommglobal.com")]),e._v(".\n          ")])])],1)],1),a("v-col",{attrs:{col:"4"}},[a("v-card",{attrs:{color:"white",height:"100%"}},[a("v-card-title",[e._v("\n          Conference Access\n        ")]),a("v-card-text",[a("v-simple-table",{attrs:{dense:""}},[a("tbody",[a("tr",[a("th",[e._v("UK Local")]),a("td",[e._v("0209 362 999")])]),a("tr",[a("th",[e._v("USA")]),a("td",[e._v("0209 362 999")])]),a("tr",[a("th",[e._v("Germany")]),a("td",[e._v("0209 362 999")])])])]),a("v-btn",{staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){e.newuser=!0}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-open-in-new")]),e._v("\n            View full list of access numbers\n          ")],1)],1)],1)],1)],1),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.conferencesMade,expression:"conferencesMade"}],attrs:{"my-6":"",column:""}},[a("v-row",{staticClass:"mx-2"},[a("h2",[e._v("Host Conferences")])]),e._l(e.conferences,function(t,s){return[a("v-viewer-table",{attrs:{conferenceData:t,conferences:e.conferences,iteration:s}})]})],2),a("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"pb-6":"",xs12:"","text-sm-right":""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""}},[e._v("Export Event Report")])],1)],1)],1)},It=[],_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"ma-3 pa-0",attrs:{width:"100%",elevation:"1",height:"100%",rounded:""}},[a("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[a("v-flex",{attrs:{sm4:"","pa-3":""}},[a("v-simple-table",{attrs:{dense:""}},[a("tbody",[a("tr",[a("td",[a("v-btn",{staticClass:"title font-weight-bold",attrs:{text:""},on:{click:function(t){return t.stopPropagation(),e.toggleConference()}}},[e.open?a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-minus-box")]):e._e(),e.open?e._e():a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-box")]),a("span",{staticClass:"primary-text text-capitalize"},[e._v("Conference "+e._s(e.iteration+1))])],1)],1),a("td",[a("span",{staticClass:"float-right"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.conferenceActive,expression:"conferenceActive"}],staticClass:"mb-2",attrs:{color:"green lighten-1",small:"",rounded:"",dark:""}},[e._v("Active")])],1)])])])])],1),a("v-flex",{attrs:{sm4:"","px-3":""}},[a("span",{staticClass:"primary-text font-weight-bold body-1"},[e._v("13:00 - 13:45\n      "),a("span",{staticClass:"caption font-weight-bold"},[e._v("(GMT)")])])]),a("v-flex",{staticClass:"text-right",attrs:{sm4:"","px-3":""}},[a("span",[e._v("Manage conference\n      "),a("v-menu",{attrs:{"offset-y":"","offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[a("span",[a("v-list",[e.conferenceActive?a("v-list-item",{on:{click:function(t){return e.moveToNextConference(e.conference)}}},[a("v-list-item-title",[e._v("Move to next conference")])],1):e._e(),a("v-list-item",[a("v-list-item-title",[e._v("Cancel")])],1)],1)],1)])],1)])],1),a("v-card-text",{staticClass:"pa-0"},[e.showConference?a("div",[a("v-layout",{staticClass:"grey lighten-4",attrs:{"align-top":"","justify-space-between":""}},[a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-list",{attrs:{dense:"",color:"grey lighten-4"}},[a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Conference ID: ")]),e._v("\n          "+e._s(e.conference.confID)+"\n        ")])],1)],1),a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-list",{attrs:{dense:"",color:"grey lighten-4"}},[a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Host Access Code:\n          ")]),e._v("\n          "+e._s(e.conference.HAC)+"\n        ")]),a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Host Conference Web Access\n          ")]),a("v-btn",{staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){e.newuser=!0}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-open-in-new")]),a("span",{staticClass:"secondary-text"},[e._v("Open")])],1)],1)],1)],1),a("v-flex",{attrs:{sm4:"","px-3":""}},[a("v-list",{attrs:{dense:"",color:"grey lighten-4"}},[a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Participant Access Code:\n          ")]),e._v("\n          "+e._s(e.conference.PAC)+"\n        ")]),a("v-list-item",{staticClass:"text-left px-0"},[a("span",{staticClass:"font-weight-bold pr-2"},[e._v("Participant Web Access\n          ")]),a("v-btn",{staticClass:"ma-0 py-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){e.newuser=!0}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-open-in-new")]),a("span",{staticClass:"secondary-text"},[e._v("Open")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{ref:"dTable",class:[e.conferenceActive?"active":"inactive","theme-nrs"],attrs:{color:"secondary",headers:e.headers,items:e.participants,"single-expand":"",expanded:e.expanded,"item-key":"attendeeID","hide-default-footer":"","hide-default-header":"",loading:"false","multi-sort":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on;t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",e._l(s.headers,function(t,i){return e.inArray(e.userGroup,t.access)?a("th",{key:i,class:["text-weight-bold primary-text column sortable",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":""],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                      "+e._s(t.text)+"\n\n                      "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right",attrs:{small:"",color:"secondary "}},[e._v("arrow_upward\n                      ")]):e._e()],1):e._e()}),0)])]}},{key:"item",fn:function(t){var s=t.headers,n=t.item,i=t.isExpanded,o=(t.isSelected,t.expand);t.select;return[a("tr",[e.inArray(e.userGroup,s[0].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(n,o,i)}}},[e._v("\n                      "+e._s(n.label)+"\n\n                    ")])]):e._e(),e.inArray(e.userGroup,s[1].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.company)+"\n                    ")])]):e._e(),e.inArray(e.userGroup,s[2].access)?a("td",{staticClass:"text-xs-right "},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n["online-state"])+"\n                    ")])]):e._e(),e.inArray(e.userGroup,s[3].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.pin)+"\n                    ")])]):e._e(),e.inArray(e.userGroup,s[4].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e.userGroup<2?a("span",[e._v(e._s(n["audio-state"]))]):e._e(),"NONE"==n["audio-state"]?a("v-icon",{attrs:{color:"green lighten-1"}},[e._v("mdi-phone-off")]):e._e(),"DISCONNECTED"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-alert")]):e._e(),"DISABLED"==n["audio-state"]?a("v-icon",{attrs:{color:""}},[e._v("mdi-phone-cancel")]):e._e(),"DIALING"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-incoming")]):e._e(),"BUSY"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-pause-circle-outline")]):e._e(),"SALUTATION"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-message")]):e._e(),"CONFERENCING"==n["audio-state"]?a("v-icon",{attrs:{color:"green lighten-1"}},[e._v("mdi-voice")]):e._e(),"MUTED"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-voice-off")]):e._e(),"PARKED"==n["audio-state"]?a("v-icon",{attrs:{color:""}},[e._v("mdi-phone-paused")]):e._e(),"HANGUP"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-hangup")]):e._e(),"CONNECTION_LOST"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-cancel")]):e._e(),"OPERATOR_WAIT"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-headphones-settings")]):e._e(),"OPERATOR_CALL"==n["audio-state"]?a("v-icon",{attrs:{color:"green lighten-1"}},[e._v("mdi-headset")]):e._e(),"LATER"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-missed")]):e._e(),"FAILED"==n["audio-state"]?a("v-icon",{attrs:{color:""}},[e._v("mdi-phone-alert")]):e._e(),"UNKNOWN"==n["audio-state"]?a("v-icon",{attrs:{color:"accent"}},[e._v("mdi-phone-alert")]):e._e()],1)]):e._e(),e.inArray(e.userGroup,s[5].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:""}},s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("span",[a("v-list",{attrs:{dense:""}},[a("v-list-item",{on:{click:function(t){return e.toggleAudio(n)}}},[a("v-list-item-title",[e._v("Mute/Unmute")])],1),a("v-list-item",{on:{click:function(t){return e.toggleHold(n)}}},[a("v-list-item-title",[e._v("Hold/Unhold")])],1),a("v-list-item",{on:{click:function(t){return e.removeParticipant(n)}}},[a("v-list-item-title",[e._v("Remove participant")])],1),a("v-divider",{staticClass:"ma-0 pa-0"}),a("v-list-item",[a("v-list-item-title",[e._v("Cancel\n                              ")])],1)],1)],1)])],1)]):e._e(),e.inArray(e.userGroup,s[6].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                      "+e._s(n.id)+"/"+e._s(n.role)+"\n                    ")])]):e._e()])]}}],null,!1,719971207)})],1)],1)],1)],1)],1):e._e()]),a("v-card-actions",[a("v-btn",{on:{click:function(t){return e.pollLB()}}},[e._v("TEST")])],1)],1)},wt=[],kt={name:"ViewerTable",props:{conferenceData:{type:Object,required:!0},conferences:{type:Array,required:!0},iteration:{type:Number,required:!0}},data:()=>({showInvitedBy:!1,readonly:!1,conferenceActive:!1,interval:null,all:!1,valid:!1,open:!1,lock:!1,start:null,end:null,timeStart:null,menuStart:!1,timeEnd:null,menuEnd:!1,startTime:"",endTime:"",time:null,menu2:!1,modalStart:!1,modalEnd:!1,editmodalEnd:!1,editmodalStart:!1,editScheduleIndex:-1,editSchedule:[{startTime:"",endTime:"",duration:""}],pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,search:"",nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],attendees:[],participants:[],expanded:[],selected:[],eventSchedule:{startTime:"",endTime:"",duration:""},headers:[{text:"Name",align:"left",sortable:!0,value:"name",sortDescending:"desc",access:[1,2,3,4]},{text:"Company",value:"companyName",sortable:!0,access:[1,2,3,4]},{text:"Attendee Status",value:"attendeeStatus",sortable:!0,access:[1,2,3,4]},{text:"PINs",value:"PIN",sortable:!0,access:[1,2,3,4]},{text:"Audio",value:"audio",sortable:!0,access:[1,2,3,4]},{text:"Options",value:"options",sortable:!1,access:[1,2,3,4]},{text:"attendeeID",value:"attendeeID",sortable:!1,access:[1,2]}],invitedBy:{fullName:"",companyName:"",areaCode:"",contactNumber:"",emailAddress:""},editedIndex:-1,editedItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"","1stChoiceConfID":"","2ndChoiceConfID":"","3rdChoiceConfID":"",invitationAccepted:""},defaultItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"","1stChoiceConfID":"","2ndChoiceConfID":"","3rdChoiceConfID":"",invitationAccepted:""}}),computed:{showConference:function(){return this.conferenceActive?(this.open=!0,!0):this.open},curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},conference:function(){return this.conferenceData},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return Math.min(this.page*this.itemsPerPage+1,this.attendees.length)},total:function(){return this.attendees.length},minutes:function(){var e,t=[];for(e=0;e<60;e+=15)t.push(e.toString().padStart(2,"0"));return t},hours:function(){var e,t=[];for(e=0;e<24;e++)t.push(e.toString().padStart(2,"0"));return t}},beforeMount(){let e=this.conferences.indexOf(this.conference);0===e&&(this.conferenceActive=!0)},mounted(){this.$root.$on("updateAttendeeList",e=>{"MOVE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT MOVE "+e.CID),console.log(e),this.attendees.push(e.attendee)),"UPDATE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT LIST UPDATE "+e.CID),console.log(e),this.attendees=e.attendeeList)}),this.$root.$on("updateConference",e=>{"UPDATE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT CONFERENCE UPDATE "+e.CID),console.log(e),this.conference=e.conference),"ACTIVATE"==e.action&&e.CID==this.conferenceData.conferenceID&&(console.log("ALERT ACTIVATE "+e.CID),console.log(e),this.conferenceActive=!0)}),this.polling()},beforeDestroy(){clearInterval(this.interval),clearTimeout(this.interval)},methods:{polling:function(){this.interval=setTimeout(()=>{this.conferenceActive&&this.conferenceData.confID>0&&this.pollLB()},1e3)},pollLB:function(){if(console.log("Polling"),!this.conferenceActive)return;console.log("Polling permitted");let e=this.conferenceData;e.userID=this.userID,console.log(e),axios({url:"http://netroadshow.incommglobalevents.com/api/updateViewer.php",data:e,method:"POST"}).then(e=>{console.log("Poll Sucessful"),this.participants=e.data.participants,console.log(this.participants),this.polling()}).catch(e=>{console.log("Poll error"+e)})},toggleAudio:function(e){if(console.log("Altering Audio State"),!this.conferenceActive)return;let t=this.conferenceData;t.userID=this.userID;let a=e;"CONFERENCING"==a["audio-state"]?a["audio-state"]="MUTED":a["audio-state"]="CONFERENCING",console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/updateParticipant.php",data:{conferenceData:t,participant:a},method:"POST"}).then(e=>{console.log("Altering Audio State Sucessful"),this.participants=e.data.participants,console.log(this.participants)}).catch(e=>{console.log("Altering Audio State error"+e)})},toggleHold:function(e){if(console.log("Altering Hold State"),!this.conferenceActive)return;let t=this.conferenceData;t.userID=this.userID;let a=e;"PARKED"!=a["audio-state"]?a["online-state"]="PARKED":a["audio-state"]="CONNECTED",console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/updateParticipant.php",data:{conferenceData:t,participant:a},method:"POST"}).then(e=>{console.log("Altering Audio State Sucessful"),this.participants=e.data.participants,console.log(this.participants)}).catch(e=>{console.log("Altering Hold State error"+e)})},removeParticipant:function(e){if(console.log("Altering Hold State"),!this.conferenceActive)return;let t=this.conferenceData;t.userID=this.userID;let a=e;"CONNECTED"==a["online-state"]?a["collaboration-state"]="DISCONNECTED":a["online-state"]="CONNECTED",console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/updateParticipant.php",data:{conferenceData:t,participant:a},method:"POST"}).then(e=>{console.log("Altering Audio State Sucessful"),this.participants=e.data.participants,console.log(this.participants)}).catch(e=>{console.log("Altering Hold State error"+e)})},moveToNextConference(e){console.log(e),this.conferenceActive=!1,console.log(this.conferences);let t=this.conferences.indexOf(e);if(console.log(this.conferences.length),t<this.conferences.length-1){let e=this.conferences[t+1].conferenceID;this.$root.$emit("updateConference",{action:"ACTIVATE",CID:e})}},exportSelectedAttendees(){const e=this.selected.map(e=>Object.keys(e).reduce((t,a)=>"invitedBy"!=a&&"allocationStatus"!=a&&"firstChoice"!=a&&"firstChoiceTIME"!=a&&"secondChoice"!=a&&"secondChoiceTIME"!=a&&"thirdChoice"!=a&&"thirdChoiceTIME"!=a&&"invitationAccepted"!=a&&"attended"!=a&&"fullName"!=a?{...t,[a]:e[a]}:t,{}));console.log(e),this.csvExport(e)},approveSelected(){console.log("CONFIRM SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to send approve items?")&&this.selected.forEach(function(a){e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.changeStatus(a,"Confirmed")}):alert("Please make a selection first!"),this.selected=[]},sendConfirmations(){console.log("CONFIRM SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to send confirmations for these items?")&&this.selected.forEach(function(a){e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.changeStatus(a,"Confirmation sent")}):alert("Please make a selection first!"),this.selected=[]},sendUpdates(){console.log("update SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to send updates for these items?")&&this.selected.forEach(function(a){e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.changeStatus(a,"Confirmation sent")}):alert("Please make a selection first!"),this.selected=[]},unconfirmAllocation(){console.log("UNCONFIRM SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to unconfirm these items?")&&this.selected.forEach(function(a){e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.changeStatus(a,"Unconfirmed")}):alert("Please make a selection first!"),this.selected=[]},moveToHoldingList(){console.log("MOVE SELECTION");const e=this,t=[];this.selected.length>0?confirm("Are you sure you want to move these items?")&&this.selected.forEach(function(a){const s=e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.attendees.splice(s,1),e.moveToConference(a,-1)}):alert("Please make a selection first!"),this.selected=[]},deleteSelectedAttendees(){console.log("DELETING SELECTION");const e=this,t=[];this.selected.length>0?(confirm("Are you sure you want to delete these items?")&&this.selected.forEach(function(a){const s=e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.attendees.splice(s,1)}),t.length>0&&(console.log("Committing chage to DB"),console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_attendees.php",data:{forDeletion:t},method:"POST"}).then(e=>{console.log("Deletion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Deletion error"+e)})),this.selected=[]):alert("Please make a selection first!")},csvExport(e){let t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n").replace(/(^\[)|(\]$)/gm,"");const a=encodeURI(t),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","export.csv"),s.click()},bookConference(e,t=!0){let a=this.$refs[e].validate();if(console.log(a),a){let a=this.eventSchedule,s=this.eventData;this.$store.dispatch("bookConferences",{eventSchedule:a,eventData:s}).then(a=>{console.log(a),this.eventSchedule=a.data,this.$refs[e].resetValidation(),t&&this.$router.push("/attendees")}).catch(e=>console.log(e))}},closeRow(){this.$set(this.$refs.dTable.expanded,0,!1)},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.attendees.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.editedIndex=this.events.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){const t=this.events.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.events.splice(t,1)},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},toggleConference(){console.log(this.open),this.open=1-this.open},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){console.log(this.selection)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),console.log(this.$refs),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.editedIndex=this.attendees.indexOf(e),this.editedItem=Object.assign({},e)),t(1-a)},editStartTime(){this.editSchedule=Object.assign({},{startTime:this.conference.startTime,endTime:this.conference.endTime,duration:this.conference.duration}),this.editmodalStart=!0},saveStartTime(e){this.eventSchedule.startTime=e;var t=this.$moment("12-25-1995 "+this.eventSchedule.startTime,"MM-DD-YYYY HH:mm"),a=this.$moment("12-25-1995 "+this.eventSchedule.endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));this.eventSchedule.duration=s,this.conference.startTime=this.eventSchedule.startTime,this.$root.$emit("updateConfernce",{action:"UPDATE",conference:this.conference,CID:this.conferenceData.conferenceID}),this.editmodalStart=!1,this.editSchedule.startTime=""},editEndTime(){this.editSchedule=Object.assign({},{startTime:this.conference.startTime,endTime:this.conference.endTime,duration:this.conference.duration}),this.editmodalEnd=!0},saveEndTime(e){this.eventSchedule.endTime=e;var t=this.$moment("12-25-1995 "+this.eventSchedule.startTime,"MM-DD-YYYY HH:mm"),a=this.$moment("12-25-1995 "+this.eventSchedule.endTime,"MM-DD-YYYY HH:mm"),s=this.$moment.duration(a.diff(t));this.eventSchedule.duration=s,this.conference.endTime=this.eventSchedule.endTime,this.$root.$emit("updateConfernce",{action:"UPDATE",conference:this.conference,CID:this.conferenceData.conferenceID}),this.editmodalEnd=!1,this.editSchedule.endTime="",this.editScheduleIndex=-1},save(e){let t=this.$refs[e].validate();if(console.log(t),console.log("For Event:"+this.conferenceData.eventID),t){let t=this.editedItem;""==t.eventID&&(t.eventID=this.conferenceData.eventID),t.fullName=t.firstName+" "+t.lastName,this.$store.dispatch("saveAttendee",{attendeeData:t}).then(t=>{console.log(t),this.editedItem.attendeeID=t.data,this.editedIndex>-1?Object.assign(this.attendees[this.editedIndex],this.editedItem):this.attendees.push(this.editedItem),this.$root.$emit("updateAttendeeList",{action:"UPDATE",attendeeList:this.attendees,CID:this.conferenceData.conferenceID}),this.showNewItem=!1,this.$refs[e].resetValidation(),this.closeRow()}).catch(e=>console.log(e))}},moveToConference(e,t){const a=this.attendees.indexOf(e);console.log(a),console.log(e),console.log(t),t!=this.conferenceData.conferenceID&&(this.attendees.splice(a,1),e.conferenceID=t,this.DBsaveAttendee(e),this.$root.$emit("updateAttendeeList",{action:"MOVE",attendee:e,CID:t}))},changeStatus(e,t){const a=this.attendees.indexOf(e);console.log(a),console.log(e),e.allocationStatus=t,this.DBsaveAttendee(e),this.$root.$emit("updateAttendeeList",{action:"UPDATE",attendeeList:this.attendees,CID:this.conferenceData.conferenceID})},DBsaveAttendee(e){let t=e;this.$store.dispatch("saveAttendee",{attendeeData:t}).then(e=>{console.log(e)}).catch(e=>console.log(e))},getInvitedBy(e){console.log(e.fullName),this.invitedBy=Object.assign({},e),console.log(this.invitedBy),this.showInvitedBy=!0},getIndexValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return s},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},Dt=kt,St=Object(h["a"])(Dt,_t,wt,!1,null,"1f1de1ae",null),Tt=St.exports;p()(St,{VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VDataTable:we["a"],VDivider:b["a"],VFlex:I["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VSimpleTable:Ye["a"]});a("14b7");var Et={name:"Viewer",components:{"v-viewer-table":Tt},data:()=>({showhelp:!1,readonly:!0,loading:!1,drawerRight:!1,companyBranding:!0,items:[],selected:[{eventID:""}],eventScheduler:!1,bookConferences:!1,eventDatepick:!1,eventDate:(new Date).toISOString().substr(0,10),conferencesMade:!0,eventSchedule:[],headers:[{text:"Name",align:"left",sortable:!0,value:"name",sortDescending:"desc"},{text:"Company",value:"company",sortable:!0},{text:"Attendee Status",value:"attendeeStatus",sortable:!0},{text:"PINs",value:"PIN",sortable:!0},{text:"Audio",value:"audio",sortable:!0},{text:"Options",value:"options",sortable:!1},{text:"attendeeID",value:"attendeeID",sortable:!1}],attendees:[],conferences:[{conferenceID:"",eventID:"",eventTimeUK:"",startTime:"",endTime:"",duration:"",timeZone:"",conferenceLock:"",PAC:"",HAC:"",LBConfID:"",maxParticipants:"",recordAudio:"",expiryDate:"",expanded:0}],events:[],editedIndex:-1,eventData:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:""},defaultItem:{eventRef:"",eventID:"",eventTitle:"",eventDate:"",eventDateUK:"",eventImage:"",userID:"",companyID:"",speakers:[],logoOverride:"",primaryColor:"",secondaryColor:""}}),computed:{curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},clientID:function(){return this.$store.state.clientID},backgroundMainColor:function(){return"background:"+this.eventData.primaryColor},backgroundButtonColor:function(){return"background:"+this.eventData.secondaryColor},minutes:function(){var e,t=[];for(e=0;e<60;e+=15)t.push(e.toString().padStart(2,"0"));return t},hours:function(){var e,t=[];for(e=0;e<24;e++)t.push(e.toString().padStart(2,"0"));return t}},created(){this.initialize()},beforeMount(){},methods:{initialize(){console.log("Initislaise with");let e=[];Object.assign(e,this.$store.state.editEventData);let t=[];console.log("Event Data"),console.log(e),e.hasOwnProperty("eventID")?(Object.assign(this.eventData,e),Object.assign(t,this.$store.state.conferenceData),Object.assign(this.eventSchedule,t),Object.assign(this.conferences,t),this.conferences[0].active=!0,console.log(this.eventData),console.log("EventData Retrieved Successfully")):(Object.assign(this.eventData,this.defaultItem),console.log(this.eventData),console.log("EventData Initialised Successfully"))},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},At=Et,Nt=(a("e7ca"),Object(h["a"])(At,bt,It,!1,null,null,null)),Pt=Nt.exports;p()(Nt,{VBtn:x["a"],VCard:Y["a"],VCardText:ye["b"],VCardTitle:ye["c"],VCol:_e["a"],VContainer:y["a"],VFlex:I["a"],VIcon:w["a"],VLayout:k["a"],VRow:ke["a"],VSimpleTable:Ye["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":"","pt-3":""}},[a("v-flex",{attrs:{sm12:"",tag:"h1",color:"primary","text-left":""}},[e._v("Invite Attendees")])],1),a("p",[e._v("\n    You can invite attendees individually or by importing them. We have\n    provided a CSV template for you to download below - simply complete and\n    upload.\n  ")]),a("v-flex",{attrs:{md4:""}},[a("v-select",{attrs:{"max-width":"300",label:"Select event",color:"secondary",filled:"","item-key":"eventID","item-text":"eventTitle","item-value":"eventID",items:e.events},on:{change:function(t){return e.fetchAttendees()}},model:{value:e.selectedEvent,callback:function(t){e.selectedEvent=t},expression:"selectedEvent"}})],1),e.selectedEvent>0?a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""},scopedSlots:e._u([{key:"item.action",fn:function(t){var s=t.item;t.isExpanded,t.expand;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v("\n              delete\n            ")])]}}],null,!1,2764696811)},[a("v-data-table",{ref:"dTable",staticClass:"theme-nrs",attrs:{color:"secondary",headers:e.headers,items:e.attendees,"single-expand":"",expanded:e.expanded,search:e.search,"item-key":"attendeeID","hide-default-footer":"","hide-default-header":"",loading:"false",page:e.page,"items-per-page":e.itemsPerPage,"multi-sort":""},on:{"update:expanded":function(t){e.expanded=t},"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on,i=t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e._l(s.headers,function(t,i){return e.inArray(e.userGroup,t.access)?a("th",{key:i,class:["text-weight-bold primary-text column sortable",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":""],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                  "+e._s(t.text)+"\n\n                  "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right",attrs:{small:"",color:"secondary "}},[e._v("arrow_upward\n                  ")]):e._e()],1):e._e()}),a("th",[a("v-checkbox",{attrs:{color:"secondary","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}},model:{value:i,callback:function(e){i=e},expression:"selected"}})],1)],2)])]}},{key:"item",fn:function(t){var s=t.headers,n=t.item,i=t.isExpanded,o=t.isSelected,r=t.expand,l=t.select;return[a("tr",[e.inArray(e.userGroup,s[0].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(n,r,i)}}},[e._v("\n                    "+e._s(n.firstName)+" "+e._s(n.lastName)+"\n                    "),a("v-icon",{staticClass:"float-right",attrs:{medium:"",color:"secondary"},on:{change:function(t){return e.expandrow(n,r,i)}}},[e._v("\n                      mdi-chevron-down\n                    ")])],1)]):e._e(),e.inArray(e.userGroup,s[1].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(n.companyName)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,s[2].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(n.emailAddress)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,s[3].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(n.contactNumber)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,s[4].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(n.invited)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,s[5].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[n.invitedBy.fullName?a("span",[e._v(e._s(n.invitedBy.fullName))]):e._e(),n.invitedBy.fullName?a("v-icon",{staticClass:"mdi-24px float-right",attrs:{color:"secondary",left:""},on:{click:function(t){return t.stopPropagation(),e.getInvitedBy(n.invitedBy)}}},[e._v("mdi-open-in-new\n                    ")]):e._e()],1)]):e._e(),e.inArray(e.userGroup,s[6].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(n.priority)+"\n                  ")])]):e._e(),e.inArray(e.userGroup,s[7].access)?a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(n.attendeeID)+"\n                  ")])]):e._e(),a("td",[a("v-checkbox",{staticClass:"ma-auto pa-0",attrs:{color:"secondary","hide-details":"","input-value":o},on:{change:function(e){return l(1-o)}}})],1)])]}},{key:"expanded-item",fn:function(t){t.item;var s=t.headers;t.isSelected,t.expand;return[a("td",{staticClass:"pa-0 ma-0",attrs:{colspan:s.length+1}},[a("v-card",{staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-form",{ref:"entryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Firstname",rules:e.nameRules,required:""},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",label:"Last name",rules:e.nameRules,required:""},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("v-text-field",{attrs:{filled:"",label:"Company",rules:e.nameRules,required:""},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{items:["+44","+33"],hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1),a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",label:"Phone",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:["High","Medium","Low"],filled:"",label:"Priority (optional)",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.priority,callback:function(t){e.$set(e.editedItem,"priority",t)},expression:"editedItem.priority"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeRow()}}},[e._v("Cancel\n                      ")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("entryForm")}}},[e._v("Save\n                      ")])],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}],null,!1,2510462369),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","ma-0":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[a("span",{staticClass:"select d-inline-block mr-6",staticStyle:{"max-width":"180px"}},[a("v-select",{attrs:{color:"success",id:"page-size",items:e.pagesizes,height:"24","menu-props":"auto"},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Show")]),a("label",{attrs:{slot:"append-outer"},slot:"append-outer"},[e._v("Entries")])])],1),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtPrevious()}}},[a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",left:""}},[e._v("mdi-less-than\n                ")]),e._v("\n                Previous\n              ")],1),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary"}},[e._v("mdi-power-on")]),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtNext()}}},[e._v("Next\n                "),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",right:""}},[e._v("mdi-greater-than\n                ")])],1)],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("span",{staticClass:"d-inline-block mr-3 mt-3",staticStyle:{"max-width":"300px"}},[a("v-text-field",{staticClass:"pa-0",attrs:{"hide-details":"",id:"qsearch",label:"Name, company or email",outlined:"",name:"filter",type:"text",height:"45","min-height":"45",readonly:e.readonly},on:{click:function(t){e.readonly=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Search")])])],1)])],1),a("v-layout",{attrs:{"py-0":"","px-3":"","ma-0":""}},[a("div",{staticClass:"test-header"},[e._v("\n              Showing\n              "),a("span",{attrs:{id:"starting"}},[e._v(e._s(e.starting))]),e._v(" to\n              "),a("span",{attrs:{id:"ending"}},[e._v(e._s(e.ending))]),e._v(" of\n              "),a("span",{attrs:{id:"total"}},[e._v(e._s(e.total))]),e._v("\n              entries\n            ")])])],1)],1)],1)],1):e._e(),e.selectedEvent>0?a("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-left":""}},[a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.newitem()}}},[a("v-icon",{staticClass:"mdi-36px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle\n        ")]),a("span",{staticClass:"secondary-text"},[e._v("New attendee")])],1)],1),a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-right":""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""}},s),[e._v("Options\n          ")])]}}],null,!1,3017954961)},[a("span",[a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.sendInvitations()}}},[a("v-list-item-title",[e._v("Send Invitations")])],1),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.sendInvitations()}}},[a("v-list-item-title",[e._v("Resend Invitations")])],1),a("v-divider",{staticClass:"ma-0 pa-0"}),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.importInvestors()}}},[a("v-list-item-title",[e._v("Import invitees")])],1),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.exportSelectedAttendees()}}},[a("v-list-item-title",[e._v("Export invitees")])],1),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.deleteSelectedAttendees()}}},[a("v-list-item-title",[e._v("Delete invitees")])],1),a("v-divider",{staticClass:"ma-0 pa-0"}),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.newitem()}}},[a("v-list-item-title",[e._v("New invitee")])],1)],1)],1)])],1)],1):e._e(),a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showNewItem,expression:"showNewItem"}],staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-card-title",{staticClass:"px-10 py-6"},[a("span",{staticClass:"headline primary-text"},[e._v(e._s(e.formTitle))])]),a("v-form",{ref:"newEntryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Firstname",rules:e.nameRules,required:""},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",label:"Last name",rules:e.nameRules,required:""},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("v-text-field",{attrs:{filled:"",label:"Company",rules:e.nameRules,required:""},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{items:["+44","+33"],hint:"Country code","persistent-hint":"",filled:"",label:"Area",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1),a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",label:"Phone",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:["High","Medium","Low"],filled:"",label:"Priority (optional)",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.priority,callback:function(t){e.$set(e.editedItem,"priority",t)},expression:"editedItem.priority"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.close()}}},[e._v("Cancel\n        ")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("newEntryForm")}}},[e._v("Save\n        ")])],1)],1)],1),e.selectedEvent>0?a("v-layout",{attrs:{"align-stretch":"","justify-space-between":"","my-4":""}},[a("v-flex",{attrs:{sm8:"","mr-3":""}},[a("v-card",{attrs:{color:"white",height:"100%"}},[a("v-card-title",[e._v("\n          Request invite suggestions\n        ")]),a("v-card-text",[a("v-btn",{staticClass:"mx-0 mb-2 px-2 text-none font-weight-bold",attrs:{text:"",small:"",to:e.copy_url,target:"_blank"}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-open-in-new\n            ")]),a("span",{staticClass:"secondary-text"},[e._v("Copy link")])],1),a("p",[e._v("\n            Send this page to colleagues to enable them to nominate guests to\n            invite to the event. They will be will added to your 'Invite\n            attendees' list for you to see before where you can then invite or\n            remove them from your list.\n          ")])],1)],1)],1),a("v-flex",{attrs:{sm4:"","ml-3":""}},[a("v-card",{attrs:{color:"primary",dark:"",height:"100%"}},[a("v-card-title",[e._v("\n          Import template\n        ")]),a("v-card-text",[a("v-btn",{staticClass:"mx-0 mb-2 px-2 text-none font-weight-bold",attrs:{text:"",small:"",to:"/assets/files/csv-sample.csv",target:"_blank"}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-cloud-download\n            ")]),a("span",{staticClass:"secondary-text"},[e._v("Download import template")])],1),a("p",{staticClass:"white--text"},[e._v("\n            To ensure you have the right data when importing invitees,\n            download our template spreadsheet to make things simple.\n          ")])],1)],1)],1)],1):e._e(),a("v-dialog",{attrs:{width:"800"},model:{value:e.showInvitedBy,callback:function(t){e.showInvitedBy=t},expression:"showInvitedBy"}},[a("v-card",{staticClass:"text-center",attrs:{color:"white"}},[a("v-toolbar",{attrs:{dark:"",color:"secondary",elevation:"0"}},[a("v-toolbar-title",{staticClass:"text-center ma-auto"},[e._v("Invited by ...")])],1),a("v-card-text",[a("v-simple-table",{staticClass:"theme-nrs mt-6"},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Full Name")]),a("th",{staticClass:"text-left"},[e._v("Company")]),a("th",{staticClass:"text-left"},[e._v("Phone")]),a("th",{staticClass:"text-left"},[e._v("Email")])])]),a("tbody",[a("tr",[a("td",[e._v(e._s(e.invitedBy.fullName))]),a("td",[e._v(e._s(e.invitedBy.companyName))]),a("td",[e._v(e._s(e.invitedBy.areaCode)+" "+e._s(e.invitedBy.contactNumber))]),a("td",[e._v(e._s(e.invitedBy.emailAddress))])])])])],1),a("v-card-actions",{staticClass:"px-10 pb-6 text-center"},[a("v-layout",{attrs:{"justity-center":""}},[a("v-flex",[a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showInvitedBy=!1}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-close")]),e._v("\n              Close\n            ")],1)],1)],1)],1)],1)],1)],1)},Vt=[],Ot=a("14b7"),Mt={name:"Attendees",data:()=>({all:!1,readonly:!0,loading:!1,items:[],events:null,drawerRight:!1,selectedEvent:null,showInvitedBy:!1,selected:[],pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,showNewItem:!1,search:"",expanded:[],valid:!1,invitedBy:{fullName:"",companyName:"",areaCode:"",contactNumber:"",emailAddress:""},nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],headers:[{text:"Name",align:"left",sortable:!0,value:"fullName",sortDescending:"desc",access:[1,2,3,4]},{text:"Company",value:"companyName",sortable:!0,access:[1,2,3,4]},{text:"Email",value:"emailAddress",sortable:!0,access:[1,2,3,4]},{text:"Phone",value:"contactNumber",sortable:!0,access:[1,2,3,4]},{text:"Invited",value:"invited",sortable:!0,access:[1,2,3,4]},{text:"Invited by",value:"invitedBy",sortable:!0,access:[1,2,3,4]},{text:"Priority",value:"priority",sortable:!0,access:[1,2,3,4]},{text:"attendeeID",value:"attendeeID",sortable:!0,access:[1,2]}],attendees:[],editedIndex:-1,editedItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",invitedBy:{fullName:"",companyName:"",areaCode:"",contactNumber:"",emailAddress:""},companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"},defaultItem:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",invitedBy:{fullName:"",companyName:"",areaCode:"",contactNumber:"",emailAddress:""},priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invited:"",accepted:"",attended:"",allocationStatus:"Unconfirmed"}}),computed:{curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},formTitle(){return-1===this.editedIndex?"New attendees details":"Edit attendees"},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return null!=this.attendees?Math.min(this.page*this.itemsPerPage+1,this.attendees.length):0},total:function(){return null!=this.attendees?this.attendees.length:0},copy_url:function(){let e=this.selectedEvent;var t=Ot.sign({event:e},"nrs-1234");return"/suggestinvitees/?e="+t},csvData(){return this.attendees.map(e=>({...e}))}},created(){this.initialize()},beforeMount(){let e=this.$store.state.token;fetch("http://netroadshow.incommglobalevents.com/api/eventsList.php",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json",Authorization:!0}),body:JSON.stringify({token:e})}).then(e=>e.json()).then(e=>this.events=e)},methods:{initialize(){},importInvestors(){this.$router.push("/importinvestors")},fetchAttendees(){console.log(this.selectedEvent),this.attendees=[];let e=this.$store.state.token,t=this.selectedEvent,a=null;this.$store.commit("updateCurrentEvent",t),axios({url:"http://netroadshow.incommglobalevents.com/api/attendees.php",data:{eventID:t,conferenceID:a,token:e},method:"POST"}).then(e=>{console.log("Got Attendees for "+a),this.attendees=e.data,console.log(e)}).catch(e=>{console.log("Attendees retrieval error"+e)})},exportSelectedAttendees(){const e=this.selected.map(e=>Object.keys(e).reduce((t,a)=>"invitedBy"!=a&&"allocationStatus"!=a&&"firstChoice"!=a&&"firstChoiceTIME"!=a&&"secondChoice"!=a&&"secondChoiceTIME"!=a&&"thirdChoice"!=a&&"thirdChoiceTIME"!=a&&"invitationAccepted"!=a&&"attended"!=a&&"fullName"!=a?{...t,[a]:e[a]}:t,{}));console.log(e),this.csvExport(e)},csvExport(e){let t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n").replace(/(^\[)|(\]$)/gm,"");const a=encodeURI(t),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","export.csv"),s.click()},sendInvitations(){console.log("SENDING INVITIONS SELECTION");let e=this.$store.state.token;const t=this,a=[];this.selected.length>0?(confirm("Are you sure you want to send invitations?")&&this.selected.forEach(function(e){const s=t.attendees.indexOf(e);console.log(e),a.push({attendeeID:e.attendeeID}),t.attendees[s].invited="Yes"}),a.length>0&&(console.log("Committing change to DB"),console.log(a),axios({url:"http://netroadshow.incommglobalevents.com/api/send-invitations.php",data:{inviteList:a,token:e},method:"POST"}).then(e=>{console.log("Invitaion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Invitaion error"+e)}))):alert("Please make a selection first!")},deleteSelectedAttendees(){console.log("DELETING SELECTION");const e=this,t=[];this.selected.length>0?(confirm("Are you sure you want to delete these items?")&&this.selected.forEach(function(a){const s=e.attendees.indexOf(a);console.log(a),t.push({attendeeID:a.attendeeID}),e.attendees.splice(s,1)}),t.length>0&&(console.log("Committing chage to DB"),console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_attendees.php",data:{forDeletion:t},method:"POST"}).then(e=>{console.log("Deletion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Deletion error"+e)}))):alert("Please make a selection first!")},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.attendees.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},newitem(){this.$refs.newEntryForm.reset(),this.$refs.newEntryForm.resetValidation(),this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.showNewItem=!0},editItem(e){this.editedIndex=this.attendees.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){const t=this.attendees.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.attendees.splice(t,1)},close(){this.showNewItem=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},closeRow(){this.$set(this.$refs.dTable.expanded,0,!1)},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){this.selected[e.attendeeID]?this.selected[e.attendeeID]=null:this.selected[e.attendeeID]=e,console.log(this.selected)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.editedIndex=this.attendees.indexOf(e),this.editedItem=Object.assign({},e)),t(1-a)},save(e){let t=this.$refs[e].validate();if(console.log(t),console.log("For Event:"+this.selectedEvent),t){this.editedItem.fullName=this.editedItem.firstName+" "+this.editedItem.lastName;let t=this.editedItem;""==t.eventID&&(t.eventID=this.selectedEvent),this.$store.dispatch("saveAttendee",{attendeeData:t}).then(t=>{console.log(t),this.editedItem.attendeeID=t.data,console.log(this.editedItem),this.editedIndex>-1?Object.assign(this.attendees[this.editedIndex],this.editedItem):this.attendees.push(this.editedItem),this.showNewItem=!1,this.$refs[e].resetValidation(),this.closeRow()}).catch(e=>console.log(e))}},getInvitedBy(e){console.log(e.fullName),this.invitedBy=Object.assign({},e),console.log(this.invitedBy),this.showInvitedBy=!0},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},Bt=Mt,Lt=Object(h["a"])(Bt,$t,Vt,!1,null,null,null),Rt=Lt.exports;p()(Lt,{VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCardTitle:ye["c"],VCheckbox:Ce["a"],VContainer:y["a"],VDataTable:we["a"],VDialog:at["a"],VDivider:b["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VSelect:N["a"],VSimpleTable:Ye["a"],VSpacer:Z["a"],VTextField:W["a"],VToolbar:nt["a"],VToolbarTitle:it["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"container"},[a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":"","pt-3":""}},[a("v-flex",{attrs:{sm12:"",tag:"h1",color:"primary","text-left":""}},[e._v("Import and invite list")])],1),a("section",{staticClass:"py-5"},[a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-8 offset-2"},[a("vue-csv-import",{attrs:{"map-fields":{firstName:"First Name",lastName:"Last Name",emailAddress:"Email Address",areaCode:"Area code",contactNumber:"Phone",companyName:"Company",priority:"Priority"}},scopedSlots:e._u([{key:"next",fn:function(t){var s=t.load;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""},on:{click:function(e){return e.preventDefault(),s(e)}}},[e._v("Load File")])]}},{key:"submit",fn:function(t){var s=t.submit;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""},on:{click:function(e){return e.preventDefault(),s(e)}}},[e._v("Evaluate")])]}}]),model:{value:e.csv,callback:function(t){e.csv=t},expression:"csv"}}),e.csv?a("div",{staticClass:"mt-2"},[a("h2",[e._v(" Sample")]),a("v-simple-table",{staticClass:"mt-6"},[a("thead",[a("tr",[a("th",[e._v("#")]),a("th",[e._v("First name")]),a("th",[e._v("Last name")]),a("th",[e._v("Email address")]),a("th",[e._v("Phone")]),a("th",[e._v("Company")]),a("th",[e._v("Priority")])])]),a("tbody",e._l(Math.min(5,e.csv.length),function(t){return a("tr",{key:"cvs_"+t},[a("td",[e._v(e._s(t))]),a("td",[e._v(e._s(e.csv[t-1].firstName))]),a("td",[e._v(e._s(e.csv[t-1].lastName))]),a("td",[e._v(e._s(e.csv[t-1].emailAddress))]),a("td",[e._v(e._s(e.csv[t-1].areaCode)+" "+e._s(e.csv[t-1].contactNumber))]),a("td",[e._v(e._s(e.csv[t-1].companyName))]),a("td",[e._v(e._s(e.csv[t-1].priority))])])}),0)]),a("div",{staticClass:"text-center mt-6"},[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""},on:{click:function(t){return t.preventDefault(),e.importCSV()}}},[e._v("Import")])],1)],1):e._e()],1)])])],1)])},qt=[],Ft={name:"Import",data(){return{csv:null,attendeeData:{attendeeID:"",eventID:"",conferenceID:"",inviteeID:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",priority:"",dateCreated:"",firstChoice:"",secondChoice:"",thirdChoice:"",invitationAccepted:"",allocationStatus:"Unconfirmed"}}},methods:{importCSV(){let e=this.csv,t={eventID:this.$store.getters.currentEvent};console.log(t),this.$store.dispatch("importCSVData",{attendeeData:e,eventData:t}).then(e=>{console.log(e),this.$router.push("/attendees")}).catch(e=>console.log(e))}}},Gt=Ft,Ut=Object(h["a"])(Gt,jt,qt,!1,null,"ddf50178",null),Ht=Ut.exports;p()(Ut,{VBtn:x["a"],VContainer:y["a"],VFlex:I["a"],VLayout:k["a"],VSimpleTable:Ye["a"]});var Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":"","pt-3":""}},[a("v-flex",{attrs:{sm12:"",tag:"h1",color:"primary","text-left":""}},[e._v("Assign your imported data")])],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"sm"}},[a("v-flex",{attrs:{"align-center":"","pa-0":"","ma-0":"","pt-3":"",column:"","full-width":""}},[e._l(e.CSVimportData,function(t,s,n){return[a("v-row",{attrs:{"mb-3":""}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-simple-table",{staticClass:"theme-nrs",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{width:"50%"}},[e._v("\n                      Column A - "+e._s(s)+"\n                    ")]),a("th",{staticClass:"text-left",attrs:{width:"50%"}},[e._v("Assign to...")])])]),a("tbody",[a("tr",[a("td",[e._v(e._s(t))]),a("td",[a("v-autocomplete",{attrs:{items:e.importHeadings,"item-text":"name","item-value":"name"},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-list-item",[e._v("\n                            "+e._s(t.item.name)+"\n                          ")])]}},{key:"item",fn:function(t){return["object"!==typeof t.item?[a("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}})],1)]]}},{key:"append-item",fn:function(){return[a("v-list-item",[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus")]),e._v("\n                            Create new label\n                          ")],1)]},proxy:!0}],null,!0)})],1)])])])],1)],1)]}),a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:"",to:"/attendees"}},[e._v("Import")])],1)],1)],2)],1)],1)],1)},zt=[],Kt={name:"ImportAssign",data:()=>({CSVimportData:{firstname:"John",lastname:"Smith",email:"jsmith@aol.com",area:"+44",phone:"02380442640",company:"Merril",Department:"Consumer Lending"},importHeadings:[{name:"First name",fieldname:"firstname"},{name:"Last name",fieldname:"lastname"},{name:"Email address",fieldname:"email"},{name:"Area code",fieldname:"areacode"},{name:"Phone",fieldname:"phone"},{name:"Company",fieldname:"company"},{name:"Department",fieldname:"department"},{divider:!0},{name:"Nothing (ignore)",fieldname:"firstname"}]})},Zt=Kt,Wt=a("c6a6"),Jt=Object(h["a"])(Zt,Yt,zt,!1,null,"1215bfbc",null),Qt=Jt.exports;p()(Jt,{VAutocomplete:Wt["a"],VBtn:x["a"],VCol:_e["a"],VContainer:y["a"],VFlex:I["a"],VIcon:w["a"],VLayout:k["a"],VListItem:S["a"],VListItemContent:T["a"],VListItemTitle:T["b"],VRow:ke["a"],VSimpleTable:Ye["a"]});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-flex",{attrs:{"d-block":"",tag:"h1","py-6":"",color:"primary","text-left":""}},[e._v("Companies")]),a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""}},[a("v-data-table",{ref:"dTable",staticClass:"theme-nrs",attrs:{color:"secondary",headers:e.headers,items:e.companies,"single-expand":"",expanded:e.expanded,search:e.search,"item-key":"companyID","hide-default-footer":"","hide-default-header":"",loading:"false",page:e.page,"items-per-page":e.itemsPerPage,"multi-sort":""},on:{"update:expanded":function(t){e.expanded=t},"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on,i=t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e._l(s.headers,function(t,i){return a("th",{key:i,class:["text-weight-bold primary-text column sortable",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":""],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                    "+e._s(t.text)+"\n                    "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right",attrs:{small:"",color:"secondary "}},[e._v("arrow_upward\n                    ")]):e._e()],1)}),a("th",[a("v-checkbox",{attrs:{color:"secondary","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}},model:{value:i,callback:function(e){i=e},expression:"selected"}})],1)],2)])]}},{key:"item",fn:function(t){t.headers;var s=t.item,n=t.isExpanded,i=t.isSelected,o=t.expand,r=t.select;return[a("tr",[a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                    "+e._s(s.companyName)+"\n                    "),a("v-icon",{staticClass:"float-right",attrs:{medium:"",color:"secondary"},on:{change:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                      mdi-chevron-down\n                    ")])],1)]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.dataRetention)+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.passwordFrequency)+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.companyID)+"\n                  ")])]),a("td",[a("v-checkbox",{staticClass:"ma-auto pa-0",attrs:{color:"secondary","hide-details":"","input-value":i},on:{change:function(e){return r(1-i)}}})],1)])]}},{key:"expanded-item",fn:function(t){t.item;var s=t.headers;t.expand,t.isExpanded;return[a("td",{staticClass:"pa-0 ma-0",attrs:{colspan:s.length+1}},[a("v-card",{attrs:{flat:"",color:"grey lighten-4"}},[a("v-form",{ref:"entryForm",attrs:{valid:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Company name",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}}),a("v-select",{attrs:{items:["Live","Suspended"],filled:"",dense:"",required:"",rules:[function(e){return!!e||"Item is required"}],color:"secondary",label:"Account status"},model:{value:e.editedItem.accountStatus,callback:function(t){e.$set(e.editedItem,"accountStatus",t)},expression:"editedItem.accountStatus"}}),a("div",{staticClass:"mt-12"},[e._v("\n                                Upload logo (Recommended size w600px)\n                                "),a("v-file-input",{staticClass:"pt-0",attrs:{accept:"image/*",required:""},on:{change:e.onFileChange},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e.editedItem.logo?a("img",{attrs:{src:e.editedItem.logo,height:"75"}}):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Email (Username)",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-select",{attrs:{items:["EN (English)","FR (French)"],filled:"",dense:"",color:"secondary",label:"Language",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.language,callback:function(t){e.$set(e.editedItem,"language",t)},expression:"editedItem.language"}}),a("div",{staticClass:"mt-12"},[e._v("\n                                Select main colour scheme\n                                "),a("v-layout",{staticClass:"px-3 py-0 mt-0",attrs:{row:""}},[a("v-sheet",{staticClass:"pa-0 ma-0 mt-1",style:e.backgroundMainColor,attrs:{width:"80",height:"32","d-inline-flex":""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}}}),a("v-text-field",{staticClass:"pl-3 pt-0",attrs:{"hide-details":"",color:"grey","lighten-4":"",outline:"","d-inline-flex":"",clearable:""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}},model:{value:e.editedItem.primaryColor,callback:function(t){e.$set(e.editedItem,"primaryColor",t)},expression:"editedItem.primaryColor"}})],1),1==e.showMainPicker?a("v-card",{attrs:{flat:""},model:{value:e.showMainPicker,callback:function(t){e.showMainPicker=t},expression:"showMainPicker"}},[a("v-card-text",{staticClass:"pa-0 ma-0"},[a("v-color-picker",{staticClass:"pa-0 ma-0 mt-2",attrs:{"canvas-height":"75",flat:"",width:"500","hide-inputs":"",mode:"hexa"},model:{value:e.editedItem.primaryColor,callback:function(t){e.$set(e.editedItem,"primaryColor",t)},expression:"editedItem.primaryColor"}})],1),a("v-card-actions",[a("div",{staticClass:"text-center",staticStyle:{width:"100%",display:"inline-flex"}},[a("v-btn",{staticClass:"mx-auto",attrs:{color:"secondary",text:""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}}},[e._v("\n                                        Close\n                                      ")])],1)])],1):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:[{text:"1 month",value:"1"},{text:"3 months",value:"3"},{text:"6 months",value:"6"},{text:"9 months",value:"9"},{text:"12 months",value:"12"},{text:"24 months",value:"24"}],"item-text":"text","item-value":"value",filled:"",dense:"",required:"",rules:[function(e){return!!e||"Item is required"}],color:"secondary",hint:"How long should event data/reports be stored for?","persistent-hint":"",label:"Event data/report retention period?"},model:{value:e.editedItem.dataRetention,callback:function(t){e.$set(e.editedItem,"dataRetention",t)},expression:"editedItem.dataRetention"}}),a("v-select",{attrs:{items:[{text:"3 months",value:"3"},{text:"6 months",value:"6"},{text:"12 months",value:"12"},{text:"24 months",value:"24"}],"item-text":"text","item-value":"value",filled:"",required:"",rules:[function(e){return!!e||"Item is required"}],dense:"",color:"secondary",hint:"How often should user passwords be changed?","persistent-hint":"",label:"Password frequency change?"},model:{value:e.editedItem.passwordFrequency,callback:function(t){e.$set(e.editedItem,"passwordFrequency",t)},expression:"editedItem.passwordFrequency"}}),a("div",{staticClass:"mt-12"},[e._v("\n                                Select button colour scheme\n                                "),a("v-layout",{staticClass:"px-3 py-0 mt-0",attrs:{row:""}},[a("v-sheet",{staticClass:"pa-0 mt-1 ma-0",style:e.backgroundButtonColor,attrs:{width:"80",height:"32","d-inline-flex":""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}}}),a("v-text-field",{staticClass:"pl-3 pt-0",attrs:{"hide-details":"",color:"grey","lighten-4":"",outline:"","d-inline-flex":"",clearable:""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}},model:{value:e.editedItem.secondaryColor,callback:function(t){e.$set(e.editedItem,"secondaryColor",t)},expression:"editedItem.secondaryColor"}})],1),1==e.showButtonPicker?a("v-card",{attrs:{flat:""},model:{value:e.showButtonPicker,callback:function(t){e.showButtonPicker=t},expression:"showButtonPicker"}},[a("v-card-text",{staticClass:"pa-0 ma-0"},[a("v-color-picker",{staticClass:"pa-0 ma-0  mt-2",attrs:{"canvas-height":"75","hide-mode-switch":"","hide-inputs":"",flat:"",width:"500",mode:"hexa"},model:{value:e.editedItem.secondaryColor,callback:function(t){e.$set(e.editedItem,"secondaryColor",t)},expression:"editedItem.secondaryColor"}})],1),a("v-card-actions",[a("div",{staticClass:"text-center",staticStyle:{width:"100%",display:"inline-flex"}},[a("v-btn",{staticClass:"mx-auto",attrs:{color:"secondary",text:""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}}},[e._v("\n                                        Close\n                                      ")])],1)])],1):e._e()],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeRow()}}},[e._v("\n                      Cancel\n                    ")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("entryForm")}}},[e._v("Save")])],1)],1)],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","ma-0":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[a("span",{staticClass:"select d-inline-block mr-6",staticStyle:{"max-width":"180px"}},[a("v-select",{attrs:{color:"success",id:"page-size",items:e.pagesizes,height:"24","menu-props":"auto"},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Show")]),a("label",{attrs:{slot:"append-outer"},slot:"append-outer"},[e._v("Entries")])])],1),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtPrevious()}}},[a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",left:""}},[e._v("mdi-less-than")]),e._v("\n                Previous\n              ")],1),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary"}},[e._v("mdi-power-on")]),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtNext()}}},[e._v("Next\n                "),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",right:""}},[e._v("mdi-greater-than")])],1)],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("span",{staticClass:"d-inline-block mr-3 mt-3",staticStyle:{"max-width":"300px"}},[a("v-text-field",{staticClass:"pa-0",attrs:{"hide-details":"",id:"qsearch",label:"Company",outlined:"",name:"filter",type:"text",height:"45","min-height":"45",readonly:e.readonly},on:{click:function(t){e.readonly=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Search")])])],1)])],1),a("v-layout",{attrs:{"py-0":"","px-3":"","ma-0":""}},[a("div",{staticClass:"test-header"},[e._v("\n              Showing\n              "),a("span",{attrs:{id:"starting"}},[e._v(e._s(e.starting))]),e._v(" to\n              "),a("span",{attrs:{id:"ending"}},[e._v(e._s(e.ending))]),e._v(" of\n              "),a("span",{attrs:{id:"total"}},[e._v(e._s(e.total))]),e._v("\n              entries\n            ")])])],1)],1)],1)],1),a("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-left":""}},[a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.newitem()}}},[a("v-icon",{staticClass:"mdi-36px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),e._v("\n        New Item\n      ")],1)],1),a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-right":""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""}},s),[e._v("Options")])]}}])},[a("span",[a("v-list",[a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.exportSelectedCompanies()}}},[a("v-list-item-title",[e._v("Export company selection")])],1),e.inArray(e.userGroup,[1,2])?a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.deleteSelectedCompanies()}}},[a("v-list-item-title",[e._v("Delete company")])],1):e._e(),a("v-divider"),a("v-list-item",{attrs:{"py-2":""},on:{click:function(t){return e.newitem()}}},[a("v-list-item-title",[e._v("New company")])],1)],1)],1)])],1)],1),a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showNewItem,expression:"showNewItem"}],staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-card-title",{staticClass:"px-10 py-6"},[a("span",{staticClass:"headline primary-text"},[e._v("Add a new company")])]),a("v-form",{ref:"newEntryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",rules:e.nameRules,required:"",label:"Company name"},model:{value:e.editedItem.companyName,callback:function(t){e.$set(e.editedItem,"companyName",t)},expression:"editedItem.companyName"}}),a("v-select",{attrs:{items:["Live","Suspended"],filled:"",dense:"",rules:[function(e){return!!e||"Item is required"}],required:"",color:"secondary",label:"Account status"},model:{value:e.editedItem.accountStatus,callback:function(t){e.$set(e.editedItem,"accountStatus",t)},expression:"editedItem.accountStatus"}}),a("div",{staticClass:"mt-12"},[e._v("\n                  Upload logo (Recommended size w600px)\n                  "),a("v-file-input",{staticClass:"pt-0",attrs:{accept:"image/*",rules:[function(e){return!!e||"Logo is required"}]},on:{change:e.onFileChange},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e.editedItem.logo?a("img",{attrs:{src:e.editedItem.logo,height:"75"}}):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{filled:"",label:"Email (Username)",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-select",{attrs:{items:["EN (English)","FR (French)"],filled:"",rules:[function(e){return!!e||"Item is required"}],required:"",dense:"",color:"secondary",label:"Language"},model:{value:e.editedItem.language,callback:function(t){e.$set(e.editedItem,"language",t)},expression:"editedItem.language"}}),a("div",{staticClass:"mt-12"},[e._v("\n                  Select main colour scheme\n                  "),a("v-layout",{staticClass:"px-3 mt-0",attrs:{row:""}},[a("v-sheet",{staticClass:"pa-0 ma-0 mt-1",style:e.backgroundMainColor,attrs:{width:"80",height:"32","d-inline-flex":""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}}}),a("v-text-field",{staticClass:"pl-3 pt-0",attrs:{"hide-details":"",color:"grey","lighten-4":"",outline:"","d-inline-flex":"",clearable:""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}},model:{value:e.editedItem.primaryColor,callback:function(t){e.$set(e.editedItem,"primaryColor",t)},expression:"editedItem.primaryColor"}})],1),1==e.showMainPicker?a("v-card",{attrs:{flat:""},model:{value:e.showMainPicker,callback:function(t){e.showMainPicker=t},expression:"showMainPicker"}},[a("v-card-text",{staticClass:"pa-0 ma-0"},[a("v-color-picker",{staticClass:"pa-0 ma-0 mt-2",attrs:{"canvas-height":"75",flat:"",width:"500","hide-inputs":"",mode:"hexa"},model:{value:e.editedItem.primaryColor,callback:function(t){e.$set(e.editedItem,"primaryColor",t)},expression:"editedItem.primaryColor"}})],1),a("v-card-actions",[a("div",{staticClass:"text-center",staticStyle:{width:"100%",display:"inline-flex"}},[a("v-btn",{staticClass:"mx-auto",attrs:{color:"secondary",text:""},on:{click:function(t){e.showMainPicker=1-e.showMainPicker}}},[e._v("\n                          Close\n                        ")])],1)])],1):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:[{text:"1 month",value:"1"},{text:"3 months",value:"3"},{text:"6 months",value:"6"},{text:"9 months",value:"9"},{text:"12 months",value:"12"},{text:"24 months",value:"24"}],"item-text":"text","item-value":"value",filled:"",dense:"",required:"",rules:[function(e){return!!e||"Item is required"}],color:"secondary",hint:"How long should event data/reports be stored for?","persistent-hint":"",label:"Event data/report retention period?"},model:{value:e.editedItem.dataRetention,callback:function(t){e.$set(e.editedItem,"dataRetention",t)},expression:"editedItem.dataRetention"}}),a("v-select",{attrs:{items:[{text:"3 months",value:"3"},{text:"6 months",value:"6"},{text:"12 months",value:"12"},{text:"24 months",value:"24"}],"item-text":"text","item-value":"value",filled:"",dense:"",required:"",rules:[function(e){return!!e||"Item is required"}],color:"secondary",hint:"How often should user passwords be changed?","persistent-hint":"",label:"Password frequency change?"},model:{value:e.editedItem.passwordFrequency,callback:function(t){e.$set(e.editedItem,"passwordFrequency",t)},expression:"editedItem.passwordFrequency"}}),a("div",{staticClass:"mt-12"},[e._v("\n                  Select button colour scheme\n                  "),a("v-layout",{staticClass:"px-3 mt-0",attrs:{row:""}},[a("v-sheet",{staticClass:"pa-0 ma-0 mt-1",style:e.backgroundButtonColor,attrs:{width:"80",height:"32","d-inline-flex":""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}}}),a("v-text-field",{staticClass:"pl-3 pt-0",attrs:{"hide-details":"",color:"grey","lighten-4":"",outline:"","d-inline-flex":"",clearable:""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}},model:{value:e.editedItem.secondaryColor,callback:function(t){e.$set(e.editedItem,"secondaryColor",t)},expression:"editedItem.secondaryColor"}})],1),1==e.showButtonPicker?a("v-card",{attrs:{flat:""},model:{value:e.showButtonPicker,callback:function(t){e.showButtonPicker=t},expression:"showButtonPicker"}},[a("v-card-text",{staticClass:"pa-0 ma-0"},[a("v-color-picker",{staticClass:"pa-0 ma-0  mt-2",attrs:{"canvas-height":"75","hide-mode-switch":"","hide-inputs":"",flat:"",width:"500",mode:"hexa"},model:{value:e.editedItem.secondaryColor,callback:function(t){e.$set(e.editedItem,"secondaryColor",t)},expression:"editedItem.secondaryColor"}})],1),a("v-card-actions",[a("div",{staticClass:"text-center",staticStyle:{width:"100%",display:"inline-flex"}},[a("v-btn",{staticClass:"mx-auto",attrs:{color:"secondary",text:""},on:{click:function(t){e.showButtonPicker=1-e.showButtonPicker}}},[e._v("\n                          Close\n                        ")])],1)])],1):e._e()],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showNewItem=!1}}},[e._v("Cancel")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("newEntryForm")}}},[e._v("Save")])],1)],1)],1)],1)},ea=[],ta={name:"App",data:()=>({all:!1,readonly:!0,loading:!1,items:[],selected:[],type:"hex",hex:"#FF00FF",showMainPicker:!1,showButtonPicker:!1,pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,showNewItem:!1,search:"",expanded:[],dialog:!1,file:null,valid:!1,nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],mainColor:"#990099",buttonColor:"#990000",headers:[{text:"Company",value:"companyName",sortable:!0},{text:"Date Retention",value:"dataRetention",sortable:!0},{text:"Password Reset",value:"passwordFrequency",sortable:!0},{text:"Company ID",value:"companyID",sortable:!1}],companies:[],editedIndex:-1,editedItem:{companyID:"",companyName:"",emailAddress:"",language:"",dataRetention:"",passwordFrequency:"",accountStatus:"",logo:"",file:null,primaryColor:"#990000FF",secondaryColor:"#999900FF",LBcustomerID:""},defaultItem:{companyID:"",companyName:"",emailAddress:"",language:"",dataRetention:"",passwordFrequency:"",accountStatus:"",logo:"",primaryColor:"#990000FF",secondaryColor:"#999900FF",LBcustomerID:""}}),computed:{curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},backgroundMainColor(){return"background:"+this.editedItem.primaryColor},backgroundButtonColor(){return"background:"+this.editedItem.secondaryColor},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return Math.min(this.page*this.itemsPerPage+1,this.companies.length)},total:function(){return this.companies.length}},created(){this.initialize()},beforeMount(){fetch("http://netroadshow.incommglobalevents.com/api/companies.php").then(e=>e.json()).then(e=>this.companies=e)},methods:{initialize(){},exportSelectedCompanies(){const e=this.selected.map(e=>Object.keys(e).reduce((t,a)=>"logo"!=a&&"LBcustomerID"!=a&&"primaryColor"!=a&&"secondaryColor"!=a?{...t,[a]:e[a]}:t,{}));console.log(e),this.csvExport(e)},deleteSelectedCompanies(){console.log("DELETING SELECTION");const e=this,t=[];this.selected.length>0?(confirm("Are you sure you want to delete these items?")&&this.selected.forEach(function(a){const s=e.companies.indexOf(a);console.log(a),t.push({companyID:a.companyID}),e.companies.splice(s,1)}),t.length>0&&(console.log("Committing chage to DB"),console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_companies.php",data:{forDeletion:t},method:"POST"}).then(e=>{console.log("Deletion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Deletion error"+e)}))):alert("Please make a selection first!")},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.companies.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.editedIndex=this.companies.indexOf(e),this.editedItem=Object.assign({},e)},deleteItem(e){const t=this.companies.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.companies.splice(t,1)},close(){this.showNewItem=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},closeRow(){this.$set(this.$refs.dTable.expanded,0,!1)},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){this.selected[e.userID]?this.selected[e.userID]=null:this.selected[e.userID]=e,console.log(this.selected)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null)):(this.editedIndex=this.companies.indexOf(e),this.editedItem=Object.assign({},e)),t(1-a)},newitem(){this.$refs.newEntryForm.reset(),this.$refs.newEntryForm.resetValidation(),this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.showNewItem=!0,this.valid=!1},save(e){let t=this.$refs[e].validate();if(console.log(t),t){let e=this.editedItem;this.$store.dispatch("saveCompany",{companyData:e}).then(e=>{console.log(e),this.editedItem.companyID=e.data,this.editedIndex>-1?Object.assign(this.companies[this.editedIndex],this.editedItem):this.companies.push(this.editedItem),this.showNewItem=!1,this.$refs.entryForm.resetValidation(),this.closeRow()}).catch(e=>console.log(e))}},csvExport(e){let t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n").replace(/(^\[)|(\]$)/gm,"");const a=encodeURI(t),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","export.csv"),s.click()},onFileChange(){let e=new FileReader;e.onload=()=>{this.editedItem.logo=e.result},this.file&&e.readAsDataURL(this.file)},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},aa=ta,sa=Object(h["a"])(aa,Xt,ea,!1,null,null,null),na=sa.exports;p()(sa,{VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCardTitle:ye["c"],VCheckbox:Ce["a"],VColorPicker:mt["a"],VContainer:y["a"],VDataTable:we["a"],VDivider:b["a"],VFileInput:ht["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VSelect:N["a"],VSheet:ft["a"],VSpacer:Z["a"],VTextField:W["a"]});var ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{sm12:"","align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-flex",{attrs:{"d-block":"",tag:"h1","py-6":"",color:"primary","text-left":""}},[e._v("Users")]),a("v-list-item",{staticClass:"pa-0 ma-0",attrs:{"text-left":""}},[a("v-flex",{attrs:{sm12:""},scopedSlots:e._u([{key:"item.action",fn:function(t){var s=t.item;t.isExpanded,t.expand;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v("\n              delete\n            ")])]}}])},[a("v-data-table",{ref:"dTable",staticClass:"theme-nrs",attrs:{color:"secondary",headers:e.headers,items:e.userData,"single-expand":"",expanded:e.expanded,search:e.search,"item-key":"userID","hide-default-footer":"","hide-default-header":"",loading:"false",page:e.page,"items-per-page":e.itemsPerPage,"multi-sort":""},on:{"update:expanded":function(t){e.expanded=t},"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"header",fn:function(t){var s=t.props,n=t.on,i=t.selected;return[a("thead",{staticClass:"v-data-table-header"},[a("tr",[e._l(s.headers,function(t,i){return a("th",{key:i,class:["text-weight-bold primary-text column sortable",t.sortDescending?"desc":"asc",e.inArray(t.value,s.options.sortBy)?"active":""],on:{click:function(t){return e.changeSort(i,n)}}},[e._v("\n                    "+e._s(t.text)+"\n\n                    "),t.sortable?a("v-icon",{staticClass:"v-data-table-header__icon float-right",attrs:{small:"",color:"secondary "}},[e._v("arrow_upward\n                    ")]):e._e()],1)}),a("th",[a("v-checkbox",{attrs:{color:"secondary","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}},model:{value:i,callback:function(e){i=e},expression:"selected"}})],1)],2)])]}},{key:"item",fn:function(t){t.headers;var s=t.item,n=t.isExpanded,i=t.isSelected,o=t.expand,r=t.select;return[a("tr",[a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper",on:{click:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                    "+e._s(s.firstName)+" "+e._s(s.lastName)+"\n                    "),a("v-icon",{staticClass:"float-right",attrs:{medium:"",color:"secondary"},on:{change:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                      mdi-chevron-down\n                    ")])],1)]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.companyName)+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.emailAddress)+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.areaCode)+" "+e._s(s.contactNumber)+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(e.userType(s))+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[a("v-icon",{attrs:{medium:"",color:"secondary"},on:{click:function(t){return e.expandrow(s,o,n)}}},[e._v("\n                      edit\n                    ")])],1)]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v("\n                    "+e._s(s.clientID)+"\n                  ")])]),a("td",{staticClass:"text-xs-right"},[a("div",{staticClass:"datatable-cell-wrapper"},[e._v(e._s(s.userID))])]),a("td",[a("v-checkbox",{staticClass:"ma-auto pa-0",attrs:{color:"secondary","hide-details":"","input-value":i},on:{change:function(e){return r(1-i)}}})],1)])]}},{key:"expanded-item",fn:function(t){t.item;var s=t.headers;t.isSelected,t.expand;return[a("td",{staticClass:"pa-0 ma-0",attrs:{colspan:s.length+1}},[a("v-card",{staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-form",{ref:"entryForm",attrs:{valid:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:e.userGroups,"item-text":"groupName","item-value":"groupValue",filled:"",label:"UserType",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.userGroup,callback:function(t){e.$set(e.editedItem,"userGroup",t)},expression:"editedItem.userGroup"}}),a("v-text-field",{attrs:{filled:"",label:"Firstname",rules:e.nameRules,required:""},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",label:"Last name",rules:e.nameRules,required:""},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("v-text-field",{attrs:{filled:"",label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",label:"Phone",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1),a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{items:e.dialingCodes,"item-text":"code","item-value":"code",hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:e.companies,"item-value":"companyID","item-text":"companyName",filled:"",label:"Company",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.clientID,callback:function(t){e.$set(e.editedItem,"clientID",t)},expression:"editedItem.clientID"}}),a("v-text-field",{attrs:{filled:"",label:"Street",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.address1,callback:function(t){e.$set(e.editedItem,"address1",t)},expression:"editedItem.address1"}}),a("v-text-field",{attrs:{filled:"",label:"Town",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.address2,callback:function(t){e.$set(e.editedItem,"address2",t)},expression:"editedItem.address2"}}),a("v-select",{staticClass:"fixed",attrs:{items:e.countries,loading:e.isLoadingCountries,"search-input":e.countries,required:"",rules:[function(e){return!!e||"Item is required"}],"hide-no-data":"","menu-props":{"position-y":52,"offset-y":!0,"nudge-bottom":15},filled:"","item-text":"country_name","item-value":"country_code",label:"Country"},on:{"update:searchInput":function(t){e.countries=t},"update:search-input":function(t){e.countries=t},change:function(t){return e.resetTimeZones()}},model:{value:e.editedItem.country,callback:function(t){e.$set(e.editedItem,"country",t)},expression:"editedItem.country"}}),a("v-text-field",{attrs:{filled:"",label:"Postcode/Zip code",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.postcode,callback:function(t){e.$set(e.editedItem,"postcode",t)},expression:"editedItem.postcode"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:["English","French"],filled:"",label:"Language",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.language,callback:function(t){e.$set(e.editedItem,"language",t)},expression:"editedItem.language"}}),a("v-select",{staticClass:"fixed",attrs:{items:e.timezones,loading:e.isLoadingTimezones,"search-input":e.LUTimezones,required:"",rules:[function(e){return!!e||"Item is required"}],"hide-no-data":"",filled:"","item-text":"timeZone","item-value":"tz",label:"Time zone",placeholder:"Fill out country first"},on:{"update:searchInput":function(t){e.LUTimezones=t},"update:search-input":function(t){e.LUTimezones=t}},model:{value:e.editedItem.timezone,callback:function(t){e.$set(e.editedItem,"timezone",t)},expression:"editedItem.timezone"}}),a("v-select",{attrs:{items:["Live","Suspended"],filled:"",label:"Account status",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.accountStatus,callback:function(t){e.$set(e.editedItem,"accountStatus",t)},expression:"editedItem.accountStatus"}}),a("v-text-field",{attrs:{filled:"",type:e.showPassword2?"text":"password",hint:"(User will be sent email to invite them to set a password)","persistent-hint":"",label:"Password",rules:e.passwordRules},model:{value:e.editedItem.userPass,callback:function(t){e.$set(e.editedItem,"userPass",t)},expression:"editedItem.userPass"}},[a("v-icon",{attrs:{slot:"append",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.showPassword2=!e.showPassword2}},slot:"append"},[e._v(e._s(e.showpasswordIcon2))])],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeRow()}}},[e._v("\n                        Cancel\n                      ")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("entryForm")}}},[e._v("Save")])],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-layout",{attrs:{"py-0":"","px-3":"","pt-0":"","ma-0":"","align-center":""}},[a("v-flex",{attrs:{sm6:"","text-sm-left":""}},[a("span",{staticClass:"select d-inline-block mr-6",staticStyle:{"max-width":"180px"}},[a("v-select",{attrs:{color:"success",id:"page-size",items:e.pagesizes,height:"24","menu-props":"auto"},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Show")]),a("label",{attrs:{slot:"append-outer"},slot:"append-outer"},[e._v("Entries")])])],1),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtPrevious()}}},[a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",left:""}},[e._v("mdi-less-than")]),e._v("\n                Previous\n              ")],1),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary"}},[e._v("mdi-power-on")]),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.onBtNext()}}},[e._v("Next\n                "),a("v-icon",{staticClass:"mdi-18px",attrs:{color:"secondary",right:""}},[e._v("mdi-greater-than")])],1)],1),a("v-flex",{attrs:{sm6:"","text-sm-right":""}},[a("span",{staticClass:"d-inline-block mr-3 mt-3",staticStyle:{"max-width":"300px"}},[a("v-text-field",{staticClass:"pa-0",attrs:{"hide-details":"",id:"qsearch",label:"Name, company or email",outlined:"",name:"filter",type:"text",height:"45","min-height":"45",readonly:e.readonly},on:{click:function(t){e.readonly=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Search")])])],1)])],1),a("v-layout",{attrs:{"py-0":"","px-3":"","ma-0":""}},[a("div",{staticClass:"test-header"},[e._v("\n              Showing\n              "),a("span",{attrs:{id:"starting"}},[e._v(e._s(e.starting))]),e._v(" to\n              "),a("span",{attrs:{id:"ending"}},[e._v(e._s(e.ending))]),e._v(" of\n              "),a("span",{attrs:{id:"total"}},[e._v(e._s(e.total))]),e._v("\n              entries\n            ")])])],1)],1)],1)],1),a("v-layout",{attrs:{"align-center":"","pa-0":"","ma-0":""}},[a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-left":""}},[e.inArray(e.userGroup,[1])?a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return e.newitem()}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),e._v("\n        New Item\n      ")],1):e._e()],1),a("v-flex",{attrs:{"pa-6":"",xs6:"","text-sm-right":""}},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"secondary",rounded:"",dark:""}},s),[e._v("Options")])]}}])},[a("span",[a("v-list",[a("v-list-item",{attrs:{"py-2":""}},[a("v-list-item-title",{on:{click:function(t){return e.exportSelectedUsers()}}},[e._v("Export user selection")])],1),e.inArray(e.userGroup,[1])?a("v-list-item",{attrs:{"py-2":""}},[a("v-list-item-title",{on:{click:function(t){return e.deleteSelectedUsers()}}},[e._v("Delete user")])],1):e._e(),e.inArray(e.userGroup,[1])?a("v-divider"):e._e(),e.inArray(e.userGroup,[1])?a("v-list-item",{attrs:{"py-2":""}},[a("v-list-item-title",{on:{click:function(t){return e.newitem()}}},[e._v("New user")])],1):e._e()],1)],1)])],1)],1),a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showNewItem,expression:"showNewItem"}],staticClass:"mb-6",attrs:{"elevation-0":""}},[a("v-card-title",{staticClass:"px-10 py-6"},[a("span",{staticClass:"headline primary-text"},[e._v("Add a new user")])]),a("v-form",{ref:"newEntryForm",staticClass:"entryForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:e.userGroups,"item-text":"groupName","item-value":"groupValue",filled:"",required:"",rules:[function(e){return!!e||"Item is required"}],label:"UserType"},model:{value:e.editedItem.userGroup,callback:function(t){e.$set(e.editedItem,"userGroup",t)},expression:"editedItem.userGroup"}}),a("v-text-field",{attrs:{filled:"",label:"Firstname",required:"",rules:e.nameRules},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("v-text-field",{attrs:{filled:"",label:"Last name",required:"",rules:e.nameRules},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("v-text-field",{attrs:{filled:"",label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.emailAddress,callback:function(t){e.$set(e.editedItem,"emailAddress",t)},expression:"editedItem.emailAddress"}}),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs8:"",sm7:"","ma-0":"","px-3":""}},[a("v-text-field",{attrs:{filled:"",required:"",rules:[function(e){return!!e||"Item is required"}],label:"Phone"},model:{value:e.editedItem.contactNumber,callback:function(t){e.$set(e.editedItem,"contactNumber",t)},expression:"editedItem.contactNumber"}})],1),a("v-flex",{attrs:{xs4:"",sm5:"","ma-0":"","px-3":""}},[a("v-select",{attrs:{items:e.dialingCodes,"item-text":"code","item-value":"code",hint:"Country code","persistent-hint":"",filled:"","full-width":"",label:"Area",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.areaCode,callback:function(t){e.$set(e.editedItem,"areaCode",t)},expression:"editedItem.areaCode"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:e.companies,"item-value":"companyID","item-text":"companyName",filled:"",label:"Company",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.clientID,callback:function(t){e.$set(e.editedItem,"clientID",t)},expression:"editedItem.clientID"}}),a("v-text-field",{attrs:{filled:"",label:"Street",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.address1,callback:function(t){e.$set(e.editedItem,"address1",t)},expression:"editedItem.address1"}}),a("v-text-field",{attrs:{filled:"",label:"Town",rules:[function(e){return!!e||"Item is required"}],required:""},model:{value:e.editedItem.address2,callback:function(t){e.$set(e.editedItem,"address2",t)},expression:"editedItem.address2"}}),a("v-select",{staticClass:"fixed",attrs:{items:e.countries,loading:e.isLoadingCountries,"search-input":e.countries,required:"",rules:[function(e){return!!e||"Item is required"}],"hide-no-data":"","menu-props":{"position-y":52,"offset-y":!0,"nudge-bottom":15},filled:"","item-text":"country_name","item-value":"country_code",label:"Country",placeholder:"Start typing to search"},on:{"update:searchInput":function(t){e.countries=t},"update:search-input":function(t){e.countries=t},change:function(t){return e.resetTimeZones()}},model:{value:e.editedItem.country,callback:function(t){e.$set(e.editedItem,"country",t)},expression:"editedItem.country"}}),a("v-text-field",{attrs:{filled:"",label:"Postcode/Zip code",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.postcode,callback:function(t){e.$set(e.editedItem,"postcode",t)},expression:"editedItem.postcode"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-layout",{attrs:{column:""}},[a("v-select",{attrs:{items:["English","French","Spanish","Chinese","Binary"],filled:"",label:"Language",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.language,callback:function(t){e.$set(e.editedItem,"language",t)},expression:"editedItem.language"}}),a("v-select",{staticClass:"fixed",attrs:{items:e.timezones,loading:e.isLoadingTimezones,"search-input":e.LUTimezones,required:"",rules:[function(e){return!!e||"Item is required"}],"hide-no-data":"",filled:"","item-text":"timeZone","item-value":"tz",label:"Time zone",placeholder:"Fill out country first"},on:{"update:searchInput":function(t){e.LUTimezones=t},"update:search-input":function(t){e.LUTimezones=t}},model:{value:e.editedItem.timezone,callback:function(t){e.$set(e.editedItem,"timezone",t)},expression:"editedItem.timezone"}}),a("v-select",{attrs:{items:["Live","Suspended"],filled:"",label:"Account status",required:"",rules:[function(e){return!!e||"Item is required"}]},model:{value:e.editedItem.accountStatus,callback:function(t){e.$set(e.editedItem,"accountStatus",t)},expression:"editedItem.accountStatus"}}),a("v-text-field",{attrs:{filled:"",type:e.showPassword1?"text":"password",hint:"(User will be sent email to invite them to set a password)","persistent-hint":"",label:"Password",rules:e.passwordRules,required:""},model:{value:e.editedItem.userPass,callback:function(t){e.$set(e.editedItem,"userPass",t)},expression:"editedItem.userPass"}},[a("v-icon",{attrs:{slot:"append",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.showPassword1=!e.showPassword1}},slot:"append"},[e._v(e._s(e.showpasswordIcon1))])],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"px-10"},[a("v-spacer"),a("v-btn",{staticClass:"px-10",attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showNewItem=!1}}},[e._v("Cancel")]),a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save("newEntryForm")}}},[e._v("Invite New User")])],1)],1)],1),a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:e.onError,callback:function(t){e.onError=t},expression:"onError"}},[e._v(e._s(e.errorMessage))])],1)},oa=[],ra={name:"App",props:{users:{type:Array,required:!0}},data:()=>({readonly:!0,loading:!1,items:[],drawerRight:!1,valid:!1,isLoadingCountries:!1,isLoadingTimezones:!1,all:!1,errorMessage:"",onError:!1,showPassword1:!1,showPassword2:!1,pagesizes:[10,25,75,100],itemsPerPage:10,page:1,pageCount:0,showNewItem:!1,search:"",expanded:[],selected:[],dialog:!1,userGroups:[{groupValue:"1",groupName:"Incomm Manager"},{groupValue:"2",groupName:"Incomm Agent"},{groupValue:"3",groupName:"Banker"},{groupValue:"4",groupName:"Investor"}],nameRules:[e=>!!e||"This is required",e=>e&&e.length<=50||"Must be less than 50 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"],passwordRules:[e=>e&&e.length>=6||"Password must be min 8 characters long",e=>e&&ae()(e).score>2||"Password not strong enough",e=>/(?=.*\d)(?=.*[a-z])(?=.*[~\`!@#$%^&*()\-_+={}\[\];;:"<>\\|,\.\/\?])(?=.*[A-Z]).{6,}/.test(e)||"Password must contaiin at least one number, one lowercase and one uppercase letter and one special character"],headers:[{text:"Name",align:"left",sortable:!0,value:"lastName",sortDescending:"desc"},{text:"Company",value:"companyName",sortable:!0},{text:"Email",value:"emailAddress",sortable:!0},{text:"Phone",value:"contactNumber",sortable:!0},{text:"User Type",value:"userGroup",sortable:!0},{text:"Action",value:"action",sortable:!1},{text:"ClientID",value:"clientID",sortable:!1},{text:"UserID",value:"userID",sortable:!1}],companies:[],countries:[],timezones:[],editedIndex:-1,editedItem:{userID:"",clientID:"",sessionID:"",userName:"",userPass:"",userGroup:"",isAdmin:"",pwLastChanged:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",address1:"",address2:"",address3:"",address4:"",country:"GB",postcode:"",language:"",timezone:"",accountStatus:"",lastLog:""},defaultItem:{userID:"",clientID:"",sessionID:"",userName:"",userPass:"",userGroup:"",isAdmin:"",pwLastChanged:"",firstName:"",lastName:"",emailAddress:"",contactNumber:"",areaCode:"",companyName:"",address1:"",address2:"",address3:"",address4:"",country:"GB",postcode:"",language:"",timezone:"",accountStatus:"",lastLog:""},dialingCodes:[{code:"+7 840",name:"Abkhazia"},{code:"+93",name:"Afghanistan"},{code:"+355",name:"Albania"},{code:"+213",name:"Algeria"},{code:"+1 684",name:"American Samoa"},{code:"+376",name:"Andorra"},{code:"+244",name:"Angola"},{code:"+1 264",name:"Anguilla"},{code:"+1 268",name:"Antigua and Barbuda"},{code:"+54",name:"Argentina"},{code:"+374",name:"Armenia"},{code:"+297",name:"Aruba"},{code:"+247",name:"Ascension"},{code:"+61",name:"Australia"},{code:"+672",name:"Australian External Territories"},{code:"+43",name:"Austria"},{code:"+994",name:"Azerbaijan"},{code:"+1 242",name:"Bahamas"},{code:"+973",name:"Bahrain"},{code:"+880",name:"Bangladesh"},{code:"+1 246",name:"Barbados"},{code:"+1 268",name:"Barbuda"},{code:"+375",name:"Belarus"},{code:"+32",name:"Belgium"},{code:"+501",name:"Belize"},{code:"+229",name:"Benin"},{code:"+1 441",name:"Bermuda"},{code:"+975",name:"Bhutan"},{code:"+591",name:"Bolivia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+267",name:"Botswana"},{code:"+55",name:"Brazil"},{code:"+246",name:"British Indian Ocean Territory"},{code:"+1 284",name:"British Virgin Islands"},{code:"+673",name:"Brunei"},{code:"+359",name:"Bulgaria"},{code:"+226",name:"Burkina Faso"},{code:"+257",name:"Burundi"},{code:"+855",name:"Cambodia"},{code:"+237",name:"Cameroon"},{code:"+1",name:"Canada"},{code:"+238",name:"Cape Verde"},{code:"+ 345",name:"Cayman Islands"},{code:"+236",name:"Central African Republic"},{code:"+235",name:"Chad"},{code:"+56",name:"Chile"},{code:"+86",name:"China"},{code:"+61",name:"Christmas Island"},{code:"+61",name:"Cocos-Keeling Islands"},{code:"+57",name:"Colombia"},{code:"+269",name:"Comoros"},{code:"+242",name:"Congo"},{code:"+243",name:"Congo, Dem. Rep. of (Zaire)"},{code:"+682",name:"Cook Islands"},{code:"+506",name:"Costa Rica"},{code:"+385",name:"Croatia"},{code:"+53",name:"Cuba"},{code:"+599",name:"Curacao"},{code:"+537",name:"Cyprus"},{code:"+420",name:"Czech Republic"},{code:"+45",name:"Denmark"},{code:"+246",name:"Diego Garcia"},{code:"+253",name:"Djibouti"},{code:"+1 767",name:"Dominica"},{code:"+1 809",name:"Dominican Republic"},{code:"+670",name:"East Timor"},{code:"+56",name:"Easter Island"},{code:"+593",name:"Ecuador"},{code:"+20",name:"Egypt"},{code:"+503",name:"El Salvador"},{code:"+240",name:"Equatorial Guinea"},{code:"+291",name:"Eritrea"},{code:"+372",name:"Estonia"},{code:"+251",name:"Ethiopia"},{code:"+500",name:"Falkland Islands"},{code:"+298",name:"Faroe Islands"},{code:"+679",name:"Fiji"},{code:"+358",name:"Finland"},{code:"+33",name:"France"},{code:"+596",name:"French Antilles"},{code:"+594",name:"French Guiana"},{code:"+689",name:"French Polynesia"},{code:"+241",name:"Gabon"},{code:"+220",name:"Gambia"},{code:"+995",name:"Georgia"},{code:"+49",name:"Germany"},{code:"+233",name:"Ghana"},{code:"+350",name:"Gibraltar"},{code:"+30",name:"Greece"},{code:"+299",name:"Greenland"},{code:"+1 473",name:"Grenada"},{code:"+590",name:"Guadeloupe"},{code:"+1 671",name:"Guam"},{code:"+502",name:"Guatemala"},{code:"+224",name:"Guinea"},{code:"+245",name:"Guinea-Bissau"},{code:"+595",name:"Guyana"},{code:"+509",name:"Haiti"},{code:"+504",name:"Honduras"},{code:"+852",name:"Hong Kong SAR China"},{code:"+36",name:"Hungary"},{code:"+354",name:"Iceland"},{code:"+91",name:"India"},{code:"+62",name:"Indonesia"},{code:"+98",name:"Iran"},{code:"+964",name:"Iraq"},{code:"+353",name:"Ireland"},{code:"+972",name:"Israel"},{code:"+39",name:"Italy"},{code:"+225",name:"Ivory Coast"},{code:"+1 876",name:"Jamaica"},{code:"+81",name:"Japan"},{code:"+962",name:"Jordan"},{code:"+7 7",name:"Kazakhstan"},{code:"+254",name:"Kenya"},{code:"+686",name:"Kiribati"},{code:"+965",name:"Kuwait"},{code:"+996",name:"Kyrgyzstan"},{code:"+856",name:"Laos"},{code:"+371",name:"Latvia"},{code:"+961",name:"Lebanon"},{code:"+266",name:"Lesotho"},{code:"+231",name:"Liberia"},{code:"+218",name:"Libya"},{code:"+423",name:"Liechtenstein"},{code:"+370",name:"Lithuania"},{code:"+352",name:"Luxembourg"},{code:"+853",name:"Macau SAR China"},{code:"+389",name:"Macedonia"},{code:"+261",name:"Madagascar"},{code:"+265",name:"Malawi"},{code:"+60",name:"Malaysia"},{code:"+960",name:"Maldives"},{code:"+223",name:"Mali"},{code:"+356",name:"Malta"},{code:"+692",name:"Marshall Islands"},{code:"+596",name:"Martinique"},{code:"+222",name:"Mauritania"},{code:"+230",name:"Mauritius"},{code:"+262",name:"Mayotte"},{code:"+52",name:"Mexico"},{code:"+691",name:"Micronesia"},{code:"+1 808",name:"Midway Island"},{code:"+373",name:"Moldova"},{code:"+377",name:"Monaco"},{code:"+976",name:"Mongolia"},{code:"+382",name:"Montenegro"},{code:"+1664",name:"Montserrat"},{code:"+212",name:"Morocco"},{code:"+95",name:"Myanmar"},{code:"+264",name:"Namibia"},{code:"+674",name:"Nauru"},{code:"+977",name:"Nepal"},{code:"+31",name:"Netherlands"},{code:"+599",name:"Netherlands Antilles"},{code:"+1 869",name:"Nevis"},{code:"+687",name:"New Caledonia"},{code:"+64",name:"New Zealand"},{code:"+505",name:"Nicaragua"},{code:"+227",name:"Niger"},{code:"+234",name:"Nigeria"},{code:"+683",name:"Niue"},{code:"+672",name:"Norfolk Island"},{code:"+850",name:"North Korea"},{code:"+1 670",name:"Northern Mariana Islands"},{code:"+47",name:"Norway"},{code:"+968",name:"Oman"},{code:"+92",name:"Pakistan"},{code:"+680",name:"Palau"},{code:"+970",name:"Palestinian Territory"},{code:"+507",name:"Panama"},{code:"+675",name:"Papua New Guinea"},{code:"+595",name:"Paraguay"},{code:"+51",name:"Peru"},{code:"+63",name:"Philippines"},{code:"+48",name:"Poland"},{code:"+351",name:"Portugal"},{code:"+1 787",name:"Puerto Rico"},{code:"+974",name:"Qatar"},{code:"+262",name:"Reunion"},{code:"+40",name:"Romania"},{code:"+7",name:"Russia"},{code:"+250",name:"Rwanda"},{code:"+685",name:"Samoa"},{code:"+378",name:"San Marino"},{code:"+966",name:"Saudi Arabia"},{code:"+221",name:"Senegal"},{code:"+381",name:"Serbia"},{code:"+248",name:"Seychelles"},{code:"+232",name:"Sierra Leone"},{code:"+65",name:"Singapore"},{code:"+421",name:"Slovakia"},{code:"+386",name:"Slovenia"},{code:"+677",name:"Solomon Islands"},{code:"+27",name:"South Africa"},{code:"+500",name:"South Georgia and the South Sandwich Islands"},{code:"+82",name:"South Korea"},{code:"+34",name:"Spain"},{code:"+94",name:"Sri Lanka"},{code:"+249",name:"Sudan"},{code:"+597",name:"Suriname"},{code:"+268",name:"Swaziland"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+963",name:"Syria"},{code:"+886",name:"Taiwan"},{code:"+992",name:"Tajikistan"},{code:"+255",name:"Tanzania"},{code:"+66",name:"Thailand"},{code:"+670",name:"Timor Leste"},{code:"+228",name:"Togo"},{code:"+690",name:"Tokelau"},{code:"+676",name:"Tonga"},{code:"+1 868",name:"Trinidad and Tobago"},{code:"+216",name:"Tunisia"},{code:"+90",name:"Turkey"},{code:"+993",name:"Turkmenistan"},{code:"+1 649",name:"Turks and Caicos Islands"},{code:"+688",name:"Tuvalu"},{code:"+1 340",name:"U.S. Virgin Islands"},{code:"+256",name:"Uganda"},{code:"+380",name:"Ukraine"},{code:"+971",name:"United Arab Emirates"},{code:"+44",name:"United Kingdom"},{code:"+1",name:"United States"},{code:"+598",name:"Uruguay"},{code:"+998",name:"Uzbekistan"},{code:"+678",name:"Vanuatu"},{code:"+58",name:"Venezuela"},{code:"+84",name:"Vietnam"},{code:"+1 808",name:"Wake Island"},{code:"+681",name:"Wallis and Futuna"},{code:"+967",name:"Yemen"},{code:"+260",name:"Zambia"},{code:"+255",name:"Zanzibar"},{code:"+263",name:"Zimbabwe"}]}),computed:{curUser:function(){return this.$store.state.userName},userID:function(){return this.$store.state.userID},userCompany:function(){return this.$store.state.companyName},userGroup:{get:function(){return this.$store.state.userGroup},set:function(e){return this.$store.state.userGroup=e}},formTitle(){return-1===this.editedIndex?"Add a new user":"Edit user"},userData:function(){return this.users},starting:function(){return(this.page-1)*this.itemsPerPage+1},ending:function(){return Math.min(this.page*this.itemsPerPage+1,this.userData.length)},total:function(){return this.userData.length},showpasswordIcon1(){return this.showPassword1?"mdi-eye":"mdi-eye-off"},showpasswordIcon2(){return this.showPassword2?"mdi-eye":"mdi-eye-off"},LUTimezones:function(){this.timezones.length>0||this.isLoadingTimezones||""!=this.editedItem.country&&(this.isLoadingTimezones=!0,fetch("http://netroadshow.incommglobalevents.com/api/timezones.php",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json",Authorization:!0}),body:JSON.stringify({countryCode:this.editedItem.country})}).then(e=>e.json()).then(e=>this.timezones=e).catch(e=>{console.log(e)}).finally(()=>this.isLoadingTimezones=!1))}},created(){this.initialize()},beforeMount(){this.$store.state.clientID;fetch("http://netroadshow.incommglobalevents.com/api/companies.php").then(e=>e.json()).then(e=>this.companies=e).catch(e=>{console.log(e)}),fetch("http://netroadshow.incommglobalevents.com/api/countries.php").then(e=>e.json()).then(e=>this.countries=e).catch(e=>{console.log(e)})},methods:{initialize(){},exportSelectedUsers(){const e=this.selected.map(e=>Object.keys(e).reduce((t,a)=>"sessionID"!=a&&"isAdmin"!=a&&"userPass"!=a&&"userGroup"!=a?{...t,[a]:e[a]}:t,{}));console.log(e),this.csvExport(e)},deleteSelectedUsers(){console.log("DELETING SELECTION");const e=this,t=[];this.selected.length>0?(confirm("Are you sure you want to delete these items?")&&this.selected.forEach(function(a){const s=e.userData.indexOf(a);console.log(a),t.push({userID:a.userID}),e.userData.splice(s,1)}),t.length>0&&(console.log("Committing chage to DB"),console.log(t),axios({url:"http://netroadshow.incommglobalevents.com/api/delete_users.php",data:{forDeletion:t},method:"POST"}).then(e=>{console.log("Deletion Successful"),this.selected=[],console.log(e)}).catch(e=>{console.log("Deletion error"+e)}))):alert("Please make a selection first!")},csvExport(e){let t="data:text/csv;charset=utf-8,";t+=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n").replace(/(^\[)|(\]$)/gm,"");const a=encodeURI(t),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download","export.csv"),s.click()},resetTimeZones(){this.timezones=[]},onBtNext(){this.page=Math.min(this.page+1,Math.ceil(this.userData.length/this.itemsPerPage))},onBtPrevious(){this.page=Math.max(this.page-1,1)},editItem(e){this.timezones=[],this.editedIndex=this.userData.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){const t=this.userData.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.userData.splice(t,1)},newitem(){this.timezones=[],this.$refs.newEntryForm.reset(),this.$refs.newEntryForm.resetValidation(),this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1,this.showNewItem=!0,this.valid=!1},close(){this.showNewItem=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},closeRow(){this.$set(this.$refs.dTable.expanded,0,!1)},toggleAll(){console.log(this.$refs.dTable),this.all=1-this.all,this.$refs.dTable.toggleSelectAll(this.all),console.log(this.$refs.dTable.$data.selection)},showSelected(e){this.selected[e.userID]?this.selected[e.userID]=null:this.selected[e.userID]=e,console.log(this.selected)},changeSort(e,t){this.headers[e].sortDescending=!this.headers[e].sortDescending,t.sort(this.headers[e].value)},expandrow(e,t,a){console.log(a),a?(this.editedIndex=-1,this.editedItem=Object.assign({},null),this.editedItem.userPass=""):(this.resetTimeZones(),this.editedIndex=this.userData.indexOf(e),this.editedItem=Object.assign({},e),this.editedItem.userPass=""),t(1-a)},userType(e){let t=this.getByValue(this.userGroups,"groupValue",e.userGroup);return t.groupName},getByValue(e,t,a){for(var s=0,n=e.length;s<n;s++)if(e[s][t]==a)return e[s]},save(e){let t=this.$refs[e].validate();if(console.log(t),t){this.editedItem.userName=this.editedItem.emailAddress;var a=this.getByValue(this.companies,"companyID",this.editedItem.clientID);console.log(a),this.editedItem.companyName=a.companyName;let t=this.editedItem;this.$store.dispatch("saveUser",{userData:t}).then(t=>{console.log(t),console.log(t.data),this.onError=!1,this.editedItem.userID=t.data.userID,this.editedIndex>-1?Object.assign(this.userData[this.editedIndex],this.editedItem):this.userData.push(this.editedItem),this.showNewItem=!1,this.$refs[e].resetValidation(),this.closeRow()}).catch(e=>{console.log(e),this.onError=!0,this.errorMessage=e.data.status})}},inArray:function(e,t){for(var a=t.length,s=0;s<a;s++)if(t[s]==e)return!0;return!1}}},la=ra,ca=(a("a850"),Object(h["a"])(la,ia,oa,!1,null,null,null)),da=ca.exports;p()(ca,{VAlert:H["a"],VBtn:x["a"],VCard:Y["a"],VCardActions:ye["a"],VCardText:ye["b"],VCardTitle:ye["c"],VCheckbox:Ce["a"],VContainer:y["a"],VDataTable:we["a"],VDivider:b["a"],VFlex:I["a"],VForm:z["a"],VIcon:w["a"],VLayout:k["a"],VList:D["a"],VListItem:S["a"],VListItemTitle:T["b"],VMenu:E["a"],VSelect:N["a"],VSpacer:Z["a"],VTextField:W["a"]}),s["a"].use(V["default"]);let ma=new V["default"]({mode:"history",routes:[{path:"/",name:"home",component:Q},{path:"/password",name:"password",component:oe},{path:"/forgotten",name:"forgotten",component:he,beforeRouteLeave(e,t,a){console.log("Going"+e+" from "+t+": "+a)}},{path:"/login",name:"login",component:Q},{path:"/suggestinvitees/",name:"suggestinvitees",component:Se,props:e=>({e:e.query.e})},{path:"/timeselect",name:"timeselect",component:Ve,props:e=>({e:e.query.e})},{path:"/thankyou",name:"thankyou",component:qe,props:e=>({e:e.query.e})},{path:"/users",name:"userlist",component:da,meta:{requiresAuth:!0}},{path:"/attendees",name:"attendees",component:Rt,meta:{requiresAuth:!0}},{path:"/importinvestors",name:"importinvestors",component:Ht,meta:{requiresAuth:!0}},{path:"/importCSV",name:"importCSV",component:Qt,meta:{requiresAuth:!0}},{path:"/events",name:"events",component:Ze,meta:{requiresAuth:!0}},{path:"/create-event",name:"creat-eevent",component:Ct,meta:{requiresAuth:!0}},{path:"/viewer",name:"viewer",component:Pt,meta:{requiresAuth:!0}},{path:"/companies",name:"companies",component:na,meta:{requiresAuth:!0}}]});ma.beforeEach((e,t,a)=>{if(e.matched.some(e=>e.meta.requiresAuth)){if(j.getters.isLoggedIn)return void a();a("/login")}else a()});var ua=ma,ha=(a("5363"),a("f3091"));s["a"].use(ha["a"]);var va=new ha["a"]({icons:{iconfont:"mdi"},css:{loaderOptions:{sass:{data:'@import "~@/sass/main.scss"'}}},data(){return{picker:(new Date).toISOString().substr(0,10),picker2:(new Date).toISOString().substr(0,10)}},theme:{themes:{light:{primary:"#335886",secondary:"#00aeef",accent:"#f45d4e",error:"#f45d4e",warning:"#e91e63",info:"#ff9800",success:"#8bc34a"}}}}),pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-csv-uploader"},[a("div",{staticClass:"form"},[a("div",{staticClass:"vue-csv-uploader-part-one"},[e.csv?e._e():a("v-row",{staticClass:" ma-0 mb-3 pa-0"},[a("v-col",{staticClass:"form-group csv-import-file text-center ma-0 pa-0",attrs:{cols:"12"}},[a("input",{directives:[{name:"on-change",rawName:"v-on-change",value:e.csv,expression:"csv"}],ref:"csv",staticClass:"hidden",attrs:{type:"file",name:"csv"},on:{change:function(t){return t.preventDefault(),e.validFileMimeType(t)}}}),a("v-btn",{staticClass:"ma-0 pa-0 text-none font-weight-bold",attrs:{text:"",small:""},on:{click:function(t){return t.stopPropagation(),e.activeFileSelect()}}},[a("v-icon",{staticClass:"mdi-24px",attrs:{color:"secondary",left:""}},[e._v("mdi-plus-circle")]),e.filename?e._e():a("span",{staticClass:"secondary-text"},[e._v("Select File to import")]),e.filename?a("span",{staticClass:"secondary-text"},[e._v("  "+e._s(e.filename))]):e._e()],1)],1)],1),e.showErrorMessage?a("v-row",{staticClass:" ma-0 mb-3 pa-0"},[a("v-col",{staticClass:"form-group csv-import-file text-center ma-0 pa-0",attrs:{cols:"12"}},[e._t("error",[a("div",{staticClass:"invalid-feedback red--text d-block"},[e._v("\n                          File type is invalid\n                      ")])])],2)],1):e._e(),null===e.headers&&e.filename.length>0&&!e.showErrorMessage?a("v-row",{staticClass:" ma-0 mb-3 pa-0"},[a("v-col",{staticClass:"form-check form-group csv-import-checkbox text-center ma-0 pa-0",attrs:{cols:"12","align-center":"","justify-center":""}},[a("v-checkbox",{staticClass:"ma-auto d-inline-block",attrs:{color:"secondary","hide-details":""},scopedSlots:e._u([{key:"label",fn:function(){return[a("span",{staticClass:"mt-2 body-2 secondary-text"},[e._v("\n                              File Has Headers?\n                            ")])]},proxy:!0}],null,!1,1167039818),model:{value:e.hasHeaders,callback:function(t){e.hasHeaders=t},expression:"hasHeaders"}})],1)],1):e._e(),!e.csv&&e.filename.length>0&&!e.showErrorMessage?a("v-row",{staticClass:" ma-0 mt-6 pa-0"},[a("v-col",{staticClass:" ma-0 pa-0",attrs:{cols:"12"}},[a("div",{staticClass:"form-group text-center"},[e._t("next",[a("button",{class:e.buttonClass,attrs:{type:"submit",disabled:e.disabledNextButton},on:{click:function(t){return t.preventDefault(),e.load(t)}}},[e._v("\n                              "+e._s(e.loadBtnText)+"\n                          ")])],{load:e.load})],2)])],1):e._e()],1),a("div",{staticClass:"vue-csv-uploader-part-two"},[e.sample?a("div",{staticClass:"vue-csv-mapping"},[e._l(e.fieldsToMap,function(t,s){return[a("v-row",{attrs:{"mb-3":""}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-simple-table",{staticClass:"theme-nrs",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{width:"50%"}},[e._v("\n                            Column A - "+e._s(t.key)+"\n                          ")]),a("th",{staticClass:"text-left",attrs:{width:"50%"}},[e._v("Assign to...")])])]),a("tbody",[a("tr",[a("td",[e._v(e._s(t.label))]),a("td",[a("v-select",{attrs:{eager:"",name:"csv_uploader_map_"+s,items:e.firstRow,"hide-details":"",autocomplete:"off"},on:{change:function(a){e.map[t.key]}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-list-item",[e._v("\n                                  "+e._s(t.item.text)+"\n                                ")])]}},{key:"item",fn:function(t){return["object"!==typeof t.item?[a("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.item.text)}})],1)]]}}],null,!0),model:{value:e.map[t.key],callback:function(a){e.$set(e.map,t.key,a)},expression:"map[field.key]"}})],1)])])])],1)],1)]}),a("div",{staticClass:"form-group text-center"},[e._t("submit",[a("input",{class:e.buttonClass,attrs:{type:"submit"},domProps:{value:e.submitBtnText},on:{click:function(t){return t.preventDefault(),e.submit(t)}}})],{submit:e.submit})],2)],2):e._e()])])])},fa=[],ga=a("2ef0"),xa=a.n(ga),ya=a("369b"),Ca=a.n(ya),ba={props:{value:Array,url:{type:String},mapFields:{required:!0},callback:{type:Function,default:()=>({})},catch:{type:Function,default:()=>({})},finally:{type:Function,default:()=>({})},parseConfig:{type:Object,default(){return{}}},headers:{default:null},loadBtnText:{type:String,default:"Next"},submitBtnText:{type:String,default:"Submit"},tableClass:{type:String,default:"table"},checkboxClass:{type:String,default:"form-check-input"},buttonClass:{type:String,default:"btn btn-primary"},inputClass:{type:String,default:"form-control-file"},validation:{type:Boolean,default:!0},fileMimeTypes:{type:Array,default:()=>{return["text/csv","text/x-csv","application/vnd.ms-excel","text/plain"]}}},data:()=>({form:{csv:null},file:null,fieldsToMap:[],map:{firstName:0,lastName:1,emailAddress:2,areaCode:3,contactNumber:4,companyName:5,priority:6},hasHeaders:!0,csv:null,sample:null,isValidFileMimeType:!1,fileSelected:!1,filename:""}),created(){xa.a.isArray(this.mapFields)?this.fieldsToMap=xa.a.map(this.mapFields,e=>{return{key:e,label:e}}):this.fieldsToMap=xa.a.map(this.mapFields,(e,t)=>{return{key:t,label:e}})},methods:{submit(){const e=this;this.form.csv=this.buildMappedCsv(),this.$emit("input",this.form.csv),this.url?i.a.post(this.url,this.form).then(t=>{e.callback(t)}).catch(t=>{e.catch(t)}).finally(t=>{e.finally(t)}):e.callback(this.form.csv)},buildMappedCsv(){const e=this;let t=this.hasHeaders?xa.a.drop(this.csv):this.csv;return console.log(t),xa.a.map(t,t=>{let a={};return xa.a.forEach(e.map,(e,s)=>{console.log(t),console.log(e),console.log(s),console.log("Getting"),console.log(xa.a.get(t,e)),xa.a.set(a,s,xa.a.get(t,e))}),a})},validFileMimeType(){let e=this.$refs.csv.files[0];console.log(e),e?(this.fileSelected=!0,this.isValidFileMimeType=!this.validation||this.validateMimeType(e.type),this.filename=e.name):(this.isValidFileMimeType=!this.validation,this.fileSelected=!1,this.filename="")},validateMimeType(e){return this.fileMimeTypes.indexOf(e)>-1},load(){const e=this;this.readFile(t=>{e.sample=xa.a.get(Ca.a.parse(t,{preview:2,skipEmptyLines:!0}),"data"),e.csv=xa.a.get(Ca.a.parse(t,{skipEmptyLines:!0}),"data")})},readFile(e){let t=this.$refs.csv.files[0];if(t){let a=new FileReader;a.readAsText(t,"UTF-8"),a.onload=function(t){e(t.target.result)},a.onerror=function(){}}},toggleHasHeaders(){this.hasHeaders=!this.hasHeaders},makeId(e){return`${e}${this._uid}`},toObject(e){for(var t=[],a=0;a<e.length;++a)t.push({value:a,text:e[a]});return t},activeFileSelect(){this.$refs.csv.click()},autoMap(){const e=this;if(!this.url){let t=Array.isArray(this.mapFields)?xa.a.every(this.mapFields,function(t){return e.map.hasOwnProperty(t)}):xa.a.every(this.mapFields,function(t,a){return e.map.hasOwnProperty(a)});console.log(t),t&&this.submit()}}},watch:{map:{deep:!0,handler:function(e){if(!this.url){let t=Array.isArray(this.mapFields)?xa.a.every(this.mapFields,function(t){return e.hasOwnProperty(t)}):xa.a.every(this.mapFields,function(t,a){return e.hasOwnProperty(a)});t&&this.submit()}}}},computed:{firstRow(){return this.toObject(xa.a.get(this,"sample.0"))},showErrorMessage(){return this.fileSelected&&!this.isValidFileMimeType},disabledNextButton(){return!this.isValidFileMimeType}}},Ia=ba,_a=(a("3dd7"),Object(h["a"])(Ia,pa,fa,!1,null,null,null)),wa=_a.exports;p()(_a,{VBtn:x["a"],VCheckbox:Ce["a"],VCol:_e["a"],VIcon:w["a"],VListItem:S["a"],VListItemContent:T["a"],VListItemTitle:T["b"],VRow:ke["a"],VSelect:N["a"],VSimpleTable:Ye["a"]});a("ed8d");a.d(t,"VueCsvImportPlugin",function(){return ka}),a.d(t,"VueCsvImport",function(){return wa}),a("54ba");a("8c4f"),a("14b7");const ka={install(e,t={}){e.component(t.componentName||"VueCsvImport",wa)}};void 0!==typeof window&&window.Vue&&window.Vue===s["a"]&&ka.install(window.Vue),s["a"].use(ka),s["a"].prototype.$http=i.a;const Da=localStorage.getItem("token");Da&&(s["a"].prototype.$http.defaults.headers.common["Authorization"]=Da);const Sa={methods:{hello(){console.log("hi")}}};s["a"].config.productionTip=!1,s["a"].use(a("2ead")),new s["a"]({data:{menu2:"",date:(new Date).toISOString().substr(0,10),errors:!1,errorMessage:null},mixins:[Sa],created(){this.hello()},methods:{},router:ua,store:j,vuetify:va,render:e=>e($)}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("13e3"),n=a.n(s);n.a},6265:function(e,t,a){},"67e3":function(e,t,a){e.exports=a.p+"assets/img/powered-by-incomm.9eabbf42.png"},"6a0c":function(e,t,a){},7446:function(e,t,a){e.exports=a.p+"assets/img/login_splash.07dd69c4.jpg"},"863e":function(e,t,a){},9200:function(e,t,a){"use strict";var s=a("863e"),n=a.n(s);n.a},"9bb7":function(e,t,a){"use strict";var s=a("6265"),n=a.n(s);n.a},a787:function(e,t,a){"use strict";var s=a("c701"),n=a.n(s);n.a},a850:function(e,t,a){"use strict";var s=a("6a0c"),n=a.n(s);n.a},c701:function(e,t,a){},cc27:function(e,t,a){"use strict";var s=a("e1b1"),n=a.n(s);n.a},d60b:function(e,t,a){},e1b1:function(e,t,a){},e7ca:function(e,t,a){"use strict";var s=a("3c0f"),n=a.n(s);n.a}});
//# sourceMappingURL=app.aa41a3b5.js.map